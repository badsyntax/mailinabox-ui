{"version":3,"sources":["router/index.ts","auth/StorageAuth.ts","auth/index.ts","features/authSlice.ts","api/index.ts","components/routes/LogoutRoute/LogoutRoute.tsx","components/ui/Body/Body.tsx","features/aliasesSlice.ts","components/ui/BodyBreadcrumb/BodyBreadcrumb.tsx","components/ui/BodyPanel/BodyPanel.tsx","features/dnsSlice.ts","components/ui/LoadingOverlay/LoadingOverlay.tsx","components/ui/LoadingOverlay/LoadingOverlayContainer.tsx","features/sslSlice.ts","components/ui/MailAliasUpsert/formData.ts","components/ui/MessageBar/MessageBar.tsx","components/ui/TextFieldWithInfo/TextFieldWithInfo.tsx","components/ui/MailAliasUpsert/MailAliasUpsert.tsx","components/ui/Pre/Pre.tsx","components/ui/MailAliasAdd/MailAliasAdd.tsx","components/ui/GroupedDetailsList/GroupedDetailsList.tsx","components/ui/DialogFooter/DialogFooter.tsx","components/ui/ActionConfirmDialog/ActionConfirmDialog.tsx","components/ui/MailAliasesList/MailAliasUpdateDialog.tsx","components/ui/MailAliasesList/MailAliasActions.tsx","components/ui/MailAliasesList/MailAliasActionsList.tsx","components/ui/MailAliasesList/MailAliasesList.tsx","components/ui/PivotRoutes/PivotRoutes.tsx","components/ui/MailAliases/MailAliases.tsx","components/routes/MainRoute/mail/AliasesRoute/AliasesRoute.tsx","features/usersSlice.ts","config/index.ts","components/ui/MailExchangeSettingsList/MailExchangeSettingsList.tsx","components/ui/MailSettingsList/MailSettingsList.tsx","components/routes/MainRoute/mail/InstructionsRoute/InstructionsRoute.tsx","components/ui/MailUserAdd/MailUserAdd.tsx","components/ui/MailUsersList/MailUserArchiveDialog.tsx","components/ui/MailUsersList/MailUserSetPasswordDialog.tsx","components/ui/MailUsersList/MailUserUpdatePrivilege.tsx","components/ui/MailUsersList/MailUserActions.tsx","components/ui/MailUsersList/MailUserActionsList.tsx","components/ui/MailUsersList/MailUsersList.tsx","components/routes/MainRoute/mail/UsersRoute/UsersRoute.tsx","components/ui/SyncListBrowser/SyncListBrowser.tsx","components/ui/SyncListMobile/SyncListMobile.tsx","components/ui/SyncListMobile/SyncListMobileSettings.tsx","components/routes/MainRoute/SyncGuideRoute/SyncGuideRoute.tsx","features/system/backupsSlice.ts","components/ui/BackupConfigure/types.ts","components/ui/BackupConfigure/local/BackupConfigureLocal.tsx","components/ui/BackupConfigure/local/BackupInfoLocal.tsx","components/ui/BackupConfigure/rsync/BackupConfigureRsync.tsx","components/ui/BackupConfigure/rsync/BackupInfoRsync.tsx","components/ui/BackupConfigure/s3/BackupConfigureS3.tsx","components/ui/BackupConfigure/s3/BackupInfoS3.tsx","components/ui/BackupConfigure/BackupConfigure.tsx","components/ui/BackupsList/BackupsList.tsx","components/routes/MainRoute/system/BackupsRoute/BackupsRoute.tsx","components/ui/CertificatesList/CertificateActionsList.tsx","components/ui/CertificatesList/CertificatesList.tsx","components/routes/MainRoute/system/CertificatesRoute/CertificatesRoute.tsx","components/ui/InstallCertificate/InstallCertificateComboBoxLabel.tsx","components/ui/InstallCertificate/InstallCertificateWithCSR.tsx","components/ui/InstallCertificate/InstallCertificate.tsx","components/ui/CustomDnsAdd/recordTypes.ts","components/ui/CustomDnsAdd/CustomDnsAdd.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordActions.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordsActionsList.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordsList.tsx","components/ui/CustomDnsSecondaryNameserver/CustomDnsSecondaryNameserver.tsx","components/routes/MainRoute/system/CustomDnsRoute/CustomDnsRoute.tsx","components/ui/InfoButton/InfoButton.tsx","components/ui/DnsDumpList/DnsDumpList.tsx","components/ui/DnsZoneFileGenerator/DnsZoneFileGenerator.tsx","components/routes/MainRoute/system/ExternalDnsRoute/ExternalDnsRoute.tsx","features/system/privacySlice.ts","features/system/rebootSlice.ts","features/system/statusSlice.ts","components/ui/SystemCheckIcon/SystemCheckIcon.tsx","components/ui/SystemChecksDetailsList/SystemChecksDetailsListItem.tsx","features/webSlice.ts","components/ui/SystemChecksDetailsList/SystemChecksDetailsList.tsx","components/ui/SystemStatusActionsMenu/SystemStatusActionsMenu.tsx","components/ui/SystemStatusActions/SystemStatusActions.tsx","components/ui/SystemStatusChart/SystemStatusChart.tsx","components/routes/MainRoute/system/StatusChecksRoute/StatusChecksRoute.tsx","components/ui/WebDomainsList/WebDomainActions.tsx","components/ui/WebDomainsList/WebDomainsActionsList.tsx","components/ui/WebDomainsList/WebDomainsList.tsx","components/ui/WebInstructions/WebInstructions.tsx","components/routes/MainRoute/WebRoute/WebRoute.tsx","components/ui/PrimaryNav/PrimaryNav.tsx","components/ui/Header/Header.tsx","components/routes/MainRoute/MainRoute.tsx","components/ui/LoginForm/LoginForm.tsx","api/useRequest.ts","components/ui/LoginHeader/LoginHeader.tsx","components/routes/LoginRoute/LoginRoute.tsx","components/routes/PrivateRoute/PrivateRoute.tsx","components/ui/App/App.tsx","store/rootReducer.ts","store/index.ts","middleware/auth.ts","index.tsx","images/logo.png"],"names":["history","createHashHistory","STORAGE_KEY","storageAuth","credentials","username","password","isAuthenticated","this","split","Boolean","remember","localStorage","setItem","sessionStorage","removeItem","getItem","initialState","getUsername","getPassword","getIsAuthenticated","error","authSlice","createSlice","name","reducers","updateAuth","state","action","payload","actions","authReducer","reducer","apiConfigParams","basePath","middleware","apiConfig","Configuration","userApi","UserApi","systemApi","SystemApi","sslApi","SSLApi","dnsApi","DNSApi","mailApi","MailApi","webApi","WebApi","getResponseText","response","a","status","text","getRequestFailMessage","Error","message","statusText","responseText","handleRequestError","dispatch","onErrorAction","LogoutRoute","useDispatch","useEffect","clear","path","AliasActionType","Body","children","Stack","as","gap","padding","styles","root","maxWidth","width","BodyBreadcrumb","props","Breadcrumb","onReduceData","marginTop","className","mergeStyles","boxShadow","getTheme","effects","elevation8","backgroundColor","palette","white","AnimationStyles","fadeIn200","BodyPanel","DNSActionType","aliases","isGettingAliases","getAliasesError","isUpsertingAlias","isRemovingAlias","upsertAliasError","upsertAliasResponse","removeAliasError","removeAliasResponse","aliasAction","getAliasesStart","getAliasesSuccess","upsertAliasStart","upsertAliasSuccess","upsertAliasReset","upsertAliasResetError","resetAliasAction","type","undefined","setAliasAction","removeAliasStart","removeAliasSuccess","removeAliasReset","aliasesReducer","selectAliasesWithGroups","groups","forEach","aliasDomain","domain","aliasesByDomain","push","key","startIndex","length","level","count","getAliases","showProgress","getMailAliases","format","MailAliasesResponseFormat","Json","result","LoadingOverlay","loadingLabel","hasLoaded","Overlay","zIndex","display","alignItems","justifyContent","ProgressIndicator","label","LoadingOverlayContainer","style","position","dns","isGettingSecondaryNameserver","isGettingZones","isGettingCustomRecords","isGettingDump","isAddingCustomRecord","isAddingSecondaryNameserver","isRemovingCustomRecord","secondaryNameserver","hostnames","dump","zones","customRecords","addCustomRecordResponse","addSecondaryNameserverResponse","removeCustomRecordResponse","getSecondaryNameserverError","getZonesError","getCustomRecordsError","getDumpError","addCustomRecordError","addSecondaryNameserverError","removeCustomRecordError","dnsAction","getDumpStart","getDumpSuccess","getSecondaryNameserverStart","getSecondaryNameserverSuccess","getZonesStart","getZonesSuccess","getCustomRecordsStart","getCustomRecordsSuccess","addCustomRecordStart","addCustomRecordSuccess","addCustomRecordResetError","addCustomRecordReset","removeCustomRecordStart","removeCustomRecordSuccess","removeCustomRecordResetError","removeCustomRecordReset","addSecondaryNameserverStart","addSecondaryNameserverSuccess","addSecondaryNameserverResetError","addSecondaryNameserverReset","resetDNSAction","setDNSAction","dnsReducer","sort","b","qname","rtype","value","localeCompare","reverseFqdn","record","reverse","join","SSLActionType","selectCustomRecordsWithGroups","records","slice","map","selectCustomRecordsSorted","i","parsed","psl","parse","isCollapsed","group","index","selectDumpWithGroups","dnsDomains","domainName","dnsRecords","getSecondaryNameserver","getDnsSecondaryNameserver","getCustomRecords","getDnsCustomRecords","getDump","getDnsDump","AliasType","SenderType","ssl","isGettingStatus","isGeneratingCSR","isInstallingCertificate","sslStatus","canProvision","generateCSRResponse","installCertificateResponse","getStatusError","generateCSRError","installCertificateError","sslAction","getSSLStatusStart","getSSLStatusSuccess","getSSLStatusError","generateCSRStart","generateCSRSuccess","generateCSRReset","installCertificateStart","installCertificateSuccess","installCertificateReset","resetSSLAction","setSSLAction","sslReducer","getSSLStatus","messageBarClassName","fadeIn400","MessageBar","animate","rest","propsWithAnimation","dismissButtonAriaLabel","theme","iconButtonClassName","marginBottom","TextFieldWithInfo","defaultRender","useBoolean","isCalloutVisible","toggleIsCalloutVisible","toggle","iconButtonId","useId","horizontal","verticalAlign","IconButton","id","title","ariaLabel","iconProps","iconName","onClick","Callout","target","onDismiss","role","horizontalAlign","Text","calloutText","onRenderTextFieldLabel","textfieldWithLabelInfoStyles","subComponentStyles","selectors","paddingRight","spacing","s2","formData","regular","alias","placeholder","info","forwardsTo","permittedSenders","any","manual","catchAll","domainAlias","columnClassName","flexBasis","defaultAlias","address","updateIfExists","MailAliasUpsert","updateAlias","useSelector","useState","charAt","getInitialAliasType","aliasType","setAliasType","senderType","setSenderType","setAlias","senderTypeOptions","onSenderTypeChange","useCallback","_event","option","onPivotLinkClick","item","ev","itemKey","onFieldChange","event","newValue","onErrorMessageBarDismiss","onFormSubmit","preventDefault","upsertMailAlias","upsertAlias","onForwardsToRenderLabel","useMemo","grow","onSubmit","messageBarType","MessageBarType","isMultiline","Pivot","linkSize","PivotLinkSize","normal","linkFormat","PivotLinkFormat","tabs","onLinkClick","selectedKey","Object","keys","PivotItem","headerText","headerButtonProps","disabled","s1","TextField","required","description","fonts","small","onChange","autoFocus","multiline","rows","onRenderLabel","ChoiceGroup","options","m","fontFamily","neutralLighterAlt","borderColor","semanticColors","variantBorder","borderRadius","roundedCorner2","borderWidth","borderStyle","overflow","textOverflow","margin","Pre","block","dialogContentProps","DialogType","largeHeader","modalProps","isBlocking","MailAliasAdd","isDialogHidden","setIsDialogHidden","hasDialogOpened","setHasDialogOpened","onDialogDismissed","onDialogClose","Dialog","hidden","minWidth","onDismissed","PrimaryButton","Link","href","onRenderRow","DetailsRow","GroupedDetailsList","openedGroupsState","openedGroups","setOpenedGroups","hasExpandedAllGroups","setHasExpandedAllGroups","onToggleGroupCollapse","groupKey","collapse","splice","indexOf","onToggleGroupCollapseAll","onRenderDetailsHeader","detailsHeaderProps","onToggleCollapseAll","paddingTop","onRenderGroupHeader","toggleCollapse","onToggleCollapse","groupsWithCollapsedState","DetailsList","layoutMode","DetailsListLayoutMode","justified","selectionMode","SelectionMode","none","constrainMode","ConstrainMode","horizontalConstrained","isHeaderVisible","onShouldVirtualize","items","groupProps","isAllGroupsCollapsed","onRenderHeader","DialogFooter","isLoading","Spinner","size","SpinnerSize","medium","ActionConfirmDialog","onConfirm","confirmButtonText","actionResponse","onConfirmButtonClick","onCancelButtonClick","DefaultButton","updateAliasDialogContentProps","MailAliasUpdateDialog","dialogProps","onDialogCloseButtonClick","dialogWidth","MailAliasActions","onActionDialogDismiss","onConfirmDialogDismissed","onUpdateAliasDialogDismissed","onRemoveAliasConfirm","removeMailAlias","remove","addressDisplay","update","MailAliasActionsList","doAction","menuIconProps","menuIcon","fontWeight","aria-haspopup","aria-label","menuProps","directionalHint","DirectionalHint","bottomRightEdge","columns","isRowHeader","fieldName","onRender","console","log","forwardToAddress","permittedSender","isPadded","displayName","MailAliasesList","PivotRoutes","useHistory","location","useLocation","large","pathname","MailAliases","useRouteMatch","url","exact","AliasesRoute","UserActionType","config","hostname","MailExchangeSettingsList","compact","MailSettingsList","InstructionsRoute","tooltipId","TooltipHost","content","variant","users","isGettingUsers","getUsersError","isUpdatingUser","isAddingUser","updateUserError","updateUserResponse","userAction","addUserResponse","addUserError","getUsersStart","getUsersSuccess","updateUserStart","updateUserSuccess","updateUserReset","setUserAction","resetUserAction","addUserStart","addUserSuccess","addUserReset","addUserResetError","usersReducer","selectUsersWithGroups","mailUsers","userDomain","usersByDomain","getUsers","getMailUsers","MailUsersResponseFormat","privilegeOptions","MailUserPrivilege","Empty","Admin","initialFormState","email","privilege","MailUserAdd","user","setUser","onEmailChange","onPasswordChange","onPrivilegeChange","addMailUser","privileges","warning","Dropdown","MailUserArchiveDialog","auth","archiveSelfErrorDialogHidden","setArchiveSelfErrorDialogHidden","onModalDismissed","onArchiveConfirm","removeMailUser","updateSelfError","changePasswordDialogContentProps","MailUserSetPasswordDialog","setPassword","setMailUserPassword","setUserPassword","updateSelf","modifyPrivilegesDialogContentProps","MailUserUpdatePrivilege","onDialogDismiss","removeSelfErrorDialogHidden","setRemoveSelfErrorDialogHidden","removeAdminDialogHidden","removeAdminPrivilege","addAdminDialogHidden","addAdminPrivilege","onRemoveAdminConfirm","removeMailUserPrivilege","onAddAdminConfirm","addMailUserPrivilege","MailUserActions","archive","MailUserActionsList","includes","MailUserStatus","Inactive","textDecoration","mailbox","Active","MailUsersList","UsersSections","UsersRoute","SyncListBrowser","SyncListMobile","SyncListMobileSettings","SyncGuideRoute","BackupType","systemBackups","isGettingConfig","isUpdatingConfig","backups","unmatchedFileSize","encPwFile","fileTargetDirectory","minAgeInDays","sshPubKey","updateConfigResponse","getConfigError","updateConfigError","getStatusStart","getStatusSuccess","getConfigStart","getConfigSuccess","updateConfigStart","updateConfigSuccess","updateConfigResetError","updateConfigReset","systemBackupsReducer","getStatus","getSystemBackupStatus","BackupConfigureLocal","backupConfig","daysDescription","onConfigChange","String","days","setDays","onDaysChange","onDaysRenderLabel","local","targetUser","targetPass","minAge","Number","min","step","BackupInfoLocal","BackupConfigureRsync","isCurrentType","targetPath","substring","targetHostParts","shift","initialUsername","initialHostName","initialPath","setHostname","setPath","setUsername","onHostnameChange","onPathChange","onUsernameChange","onSSHKeyRenderLabel","readOnly","BackupInfoRsync","s3RegionOptions","BackupConfigureS3","initialS3HostPath","initialS3Host","initialRegion","find","regionOption","host","setHost","region","setRegion","accessKey","setAccessKey","secretAccessKey","setSecretAccessKey","onRegionChange","onAccessKeyChange","onSecretAccessKeyChange","onHostChange","BackupInfoS3","backupOptions","off","rsync","s3","BackupConfigure","system","backupType","selectedBackupOption","backupOption","setBackupOption","updateBackupConfig","setUpdateBackupConfig","onBackupOptionChange","onBackupConfigChange","updateSystemBackupConfig","updateConfig","onMessageBarDismiss","niceSize","bytes","powers","Math","round","strongCellClassName","full","dateStr","dateDelta","deletedIn","BackupsList","reduce","total","getTotalBackupsSize","BackupSections","BackupsRoute","getSystemBackupConfig","CertificateActionsList","SSLStatusType","Success","install","SectionKeys","isResizable","textColor","greenDark","Danger","redDark","NotApplicable","bodyText","getTextColor","color","CertificatesList","useReducedRowRenderer","animation","InstallCertificateComboBoxLabel","descriptionId","setInitialFocus","ariaDescribedBy","defaultInstallCertificateRequest","cert","chain","installOkRegEx","InstallCertificateWithCSR","countryCode","installCertificateRequest","setInstallCertificateRequest","test","onCertChange","onChainChange","request","installSSLCertificate","countrycode","generateSSLCSR","generateCSR","dialogContent","countries","getCodeList","countriesList","toUpperCase","comboBoxStyles","onRenderComboBoxLabel","InstallCertificate","selectedDomain","setSelectedDomain","selectedCountry","setSelectedCountry","onDomainChange","onCountryChange","onDomainRenderLabel","onCountryRenderLabel","ComboBox","allowFreeform","autoComplete","VirtualizedComboBox","dropdownMaxWidth","useComboBoxAsMenuWidth","CertificateSections","CertificatesRoute","recordTypes","DNSRecordType","A","hint","AAAA","CAA","CNAME","TXT","MX","SRV","SSHFP","NS","recordTypeOptions","CustomDnsAdd","zoneOptions","zone","setType","setZone","setName","setValue","onTypeChange","onZoneChange","onNameChange","onValueChange","customRecordRequest","body","addDnsCustomRecord","CustomDnsRecordActions","onActionDialogDismissed","dnsRecord","removeDnsCustomRecord","CustomDnsRecordsActionsList","CustomDnsRecordsList","CustomDnsSecondaryNameserver","secondaryNameserverRequest","addDnsSecondaryNameserver","CustomDnsSections","getDnsZones","CustomDnsRoute","InfoButton","showCloseButton","iconButtonStyles","isIconOnly","explanation","height","icon","fontSize","FontSizes","xLarge","DnsDumpList","DnsZoneFileGenerator","Label","Checkbox","checked","CommandBar","paddingLeft","ExternalDnsSections","ExternalDnsRoute","systemPrivacy","isGettingPrivacy","isUpdatingPrivacy","getPrivacyError","updatePrivacyError","getPrivacyStart","getPrivacySuccess","updatePrivacyStart","updatePrivacySuccess","privacy","systemPrivacyReducer","systemReboot","isGettingRebootStatus","getRebootStatusError","getRebootStatusStart","getRebootStatusSuccess","systemRebootReducer","systemStatus","systemStatusReducer","selectSystemStatusItemsAndGroups","entries","statusEntry","isHeadingEntry","StatusEntryType","Heading","selectSummarisedChecks","createSelector","summary","Ok","Warning","getIconName","getIconColor","green","red","yellowDark","SystemCheckIcon","Icon","WebDomainActionType","extrasClassName","fadeIn500","SystemChecksDetailsListItem","extra","setIsCollapsed","extraItem","monospace","SystemChecksDetailsList","headerProps","headerCount","collapseAllVisibility","CollapseAllVisibility","calloutProps","gapSpace","actionButtonContainerStyles","onRenderItem","button","CommandBarButton","textAlign","tooltip","delay","TooltipDelay","zero","topCenter","onRenderOverflowButton","SystemStatusActionsMenu","privacyStatus","rebootStatus","reboot","onPrivacyButtonClick","updateSystemPrivacy","SystemPrivacyStatus","Private","Off","OverflowSet","vertical","elevation4","SystemStatusActions","success","SystemStatusChart","summarisedChecks","data","chartTitle","chartData","legend","xAxisCalloutData","yellow","DonutChart","innerRadius","legendsOverflowText","legendsOverflowProps","overflowSide","hideLegend","StatusChecksRoute","getSystemStatus","getSystemRebootStatus","getSystemPrivacyStatus","web","isGettingDomains","domains","getDomainsError","domainAction","isUpdatingWeb","updateWebError","updateWebResponse","getDomainsStart","getDomainsSuccess","updateWebStart","updateWebSuccess","updateWebReset","resetDomainAction","setDomainAction","webReducer","sortByFqdn","domainWithoutSubDomain","subDomain","selectOrderedAndGroupedStaticEnabledDomains","filter","webDomain","staticEnabled","subdomain","WebDomainActions","updateWeb","customRoot","WebDomainsActionsList","WebDomainsList","getWebDomains","WebInstructions","WebRoute","PrimaryNav","farItems","subMenuProps","itemType","ContextualMenuItemType","Section","sectionProps","topDivider","bottomDivider","alignSelf","bodyBackground","Header","Item","Image","src","logo","alt","disableShrink","nowrap","MainRoute","LoginRoute","to","LoginForm","queryFunc","responseHandler","setResponse","setError","setIsLoading","then","err","finally","reset","useRequest","getMe","MeAuthStatus","reason","apiKey","checkLogin","requestError","authError","setRemember","setEmail","onRememberChange","LoginHeader","slideUpIn20","animationDuration","verticalFill","PrivateRoute","render","from","App","rootReducer","combineReducers","store","configureStore","getDefaultMiddleware","concat","getState","next","prevState","returnValue","assign","persistToStorage","renderApp","ReactDOM","StrictMode","document","getElementById","initializeIcons","background","neutralLighter","mockApi","module","exports"],"mappings":"uUACaA,EAAUC,c,4HCDVC,EAAc,sBAOpB,ICLMC,EAAc,IDK3B,WAIE,WAA6BC,GAAsB,yBAAtBA,cAAqB,KAH1CC,cAG0C,OAF1CC,cAE0C,OAD1CC,iBAAkB,EACwB,MACTC,KAAKJ,YAAYK,MAXvB,KAUe,0BACzCJ,OADyC,MAC9B,GAD8B,SAC1BC,OAD0B,MACf,GADe,EAIhDE,KAAKH,SAAWA,EAChBG,KAAKF,SAAWA,EAChBE,KAAKD,gBAAkBG,QAAQL,GAAYC,GAV/C,0DAcI,OAAOE,KAAKH,WAdhB,oCAkBI,OAAOG,KAAKF,WAlBhB,kCAqBcD,GACVG,KAAKH,SAAWA,IAtBpB,kCAyBcC,GACVE,KAAKF,SAAWA,IA1BpB,2CA8BI,OAAOE,KAAKD,kBA9BhB,uCAiCmBI,GACf,IAtC6BN,EAAkBC,EAsCzCF,GAtCuBC,EAsCeG,KAAKH,SAtCFC,EAsCYE,KAAKF,SArC5D,GAAN,OAAUD,GAAV,OAHmC,KAGnC,OAA6CC,IAsCvCK,GACFC,aAAaC,QAAQX,EAAaE,GAClCU,eAAeC,WAAWb,KAE1BU,aAAaG,WAAWb,GACxBY,eAAeD,QAAQX,EAAaE,MAxC1C,8BA6CIQ,aAAaG,WAAWb,GACxBY,eAAeC,WAAWb,OA9C9B,KCL2B,CACzBY,eAAeE,QAAQd,IACrBU,aAAaI,QAAQd,IDHY,K,QES/Be,EAA0B,CAC9BZ,SAAUF,EAAYe,cACtBZ,SAAUH,EAAYgB,cACtBZ,gBAAiBJ,EAAYiB,qBAC7BC,MAAO,IAGHC,EAAYC,YAAY,CAC5BC,KAAM,OACNP,eACAQ,SAAU,CACRC,WAAY,SAACC,EAAOC,GAAkB,IAAD,EAM/BA,EAAOC,QAJTxB,EAFiC,EAEjCA,SACAC,EAHiC,EAGjCA,SACAC,EAJiC,EAIjCA,gBAJiC,IAKjCc,aALiC,MAKzB,KALyB,EAOnCM,EAAMtB,SAAWA,EACjBsB,EAAMrB,SAAWA,EACjBqB,EAAMpB,kBAAoBA,EAC1BoB,EAAMN,MAAQA,MAKLK,EAAeJ,EAAUQ,QAAzBJ,WAESK,EAAgBT,EAAzBU,QCvBTC,EAA2C,CAC/CC,SAAU,SACV7B,SAAUF,EAAYe,cACtBZ,SAAUH,EAAYgB,cACtBgB,WAAY,IAGRC,EAAY,IAAIC,gBAAcJ,GAEvBK,EAAU,IAAIC,UAAQH,GACtBI,EAAY,IAAIC,YAAUL,GAC1BM,EAAS,IAAIC,SAAOP,GACpBQ,EAAS,IAAIC,SAAOT,GACpBU,EAAU,IAAIC,UAAQX,GACtBY,EAAS,IAAIC,SAAOb,G,SAMlBc,E,8EAAf,WAA+BC,GAA/B,eAAAC,EAAA,4DACUC,EAAWF,EAAXE,SAGM,KAAOA,GAAU,KAJjC,yCAKW,MALX,uBAOeF,EAASG,OAPxB,oF,sBAUO,SAAeC,EAAtB,kC,4CAAO,WACLJ,GADK,mBAAAC,EAAA,2DAGDD,aAAoBK,OAHnB,yCAIIL,EAASM,SAJb,cAMGC,EAAuBP,EAAvBO,WAAYL,EAAWF,EAAXE,OANf,SAOsBH,EAAgBC,GAPtC,cAOCQ,EAPD,yBASHA,GAAY,yBACMD,GADN,OACmBL,EAAS,KAAOA,EAAS,IAAM,KAV3D,4C,sBAcA,SAAeO,EAAtB,sC,4CAAO,WACLT,EACAU,EACAC,GAHK,SAAAV,EAAA,yDAKCD,aAAoBK,MALrB,gBAOY,MADIL,EAAXE,QAENQ,EACEnC,EAAW,CACTrB,SAAU,GACVC,SAAU,GACVC,iBAAiB,EACjBc,MAAO,oCAbV,mCAkBHwC,EAlBG,KAkBMC,EAlBN,SAkB0BP,EAAsBJ,GAlBhD,mG,8ECtDMY,GAA0D,WACrE,IAAMF,EAAWG,cAOjB,OANAC,qBAAU,WACR9D,EAAY+D,QACZL,EACEnC,EAAW,CAAErB,SAAU,GAAIC,SAAU,GAAIC,iBAAiB,QAGvD,MAGTwD,GAAYI,KAAO,UCbZ,ICQKC,GDRCC,GAAgC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC9C,OACE,kBAACC,EAAA,EAAD,CACEC,GAAG,OACHC,IAAI,KACJC,QAAQ,WACRC,OAAQ,CACNC,KAAM,CACJC,SAAU,KACVC,MAAO,UAIVR,I,UEbMS,GAA4D,SACvEC,GAEA,OACE,kBAACC,GAAA,EAAD,eACEC,aAAc,aACdP,OAAQ,CACNC,KAAM,CACJO,UAAW,EACXL,MAAO,UAGPE,K,SCNJI,GAAYC,YAAY,aAC5BC,UAAWC,cAAWC,QAAQC,WAC9BC,gBAAiBH,cAAWI,QAAQC,OACjCC,IAAgBC,YAGRC,GAAkD,SAAC,GAGzD,IAFLzB,EAEI,EAFJA,SACGU,EACC,6BACJ,OACE,kBAACT,EAAA,EAAD,eAAOC,GAAG,UAAUE,QAAQ,IAAID,IAAI,IAAIW,UAAWA,IAAeJ,GAC/DV,I,uCFVKF,O,mBAAAA,I,oBAAAA,Q,KAuBZ,IGlBY4B,GH+BCC,GAAU1E,YAAY,CACjCC,KAAM,UACNP,aAfiC,CACjCiF,kBAAkB,EAClBD,QAAS,GACTE,gBAAiB,KACjBC,kBAAkB,EAClBC,iBAAiB,EACjBC,iBAAkB,KAClBC,oBAAqB,KACrBC,iBAAkB,KAClBC,oBAAqB,KACrBC,YAAa,MAMbjF,SAAU,CACRkF,gBAAiB,SAAChF,GAChBA,EAAMwE,gBAAkB,KACxBxE,EAAMuE,kBAAmB,GAE3BU,kBAAmB,SAACjF,EAAOC,GACzBD,EAAMuE,kBAAmB,EACzBvE,EAAMsE,QAAUrE,EAAOC,SAEzBsE,gBAAiB,SAACxE,EAAOC,GACvBD,EAAMwE,gBAAkBvE,EAAOC,QAC/BF,EAAMuE,kBAAmB,GAE3BW,iBAAkB,SAAClF,GACjBA,EAAMyE,kBAAmB,EACzBzE,EAAM2E,iBAAmB,MAE3BQ,mBAAoB,SAACnF,EAAOC,GAC1BD,EAAMyE,kBAAmB,EACzBzE,EAAM4E,oBAAsB3E,EAAOC,SAErCyE,iBAAkB,SAAC3E,EAAOC,GACxBD,EAAM2E,iBAAmB1E,EAAOC,QAChCF,EAAMyE,kBAAmB,GAE3BW,iBAAkB,SAACpF,GACjBA,EAAMyE,kBAAmB,EACzBzE,EAAM2E,iBAAmB,KACzB3E,EAAM4E,oBAAsB,MAE9BS,sBAAuB,SAACrF,GACtBA,EAAM2E,iBAAmB,MAE3BW,iBAAkB,SAACtF,GACjBA,EAAM+E,YAAN,2BACK/E,EAAM+E,aADX,IAEEQ,UAAMC,KAGVC,eAAgB,SAACzF,EAAOC,GACtBD,EAAM+E,YAAc9E,EAAOC,SAE7BwF,iBAAkB,SAAC1F,GACjBA,EAAM0E,iBAAkB,EACxB1E,EAAM6E,iBAAmB,MAE3Bc,mBAAoB,SAAC3F,EAAOC,GAC1BD,EAAM0E,iBAAkB,EACxB1E,EAAM8E,oBAAsB7E,EAAOC,SAErC2E,iBAAkB,SAAC7E,EAAOC,GACxBD,EAAM6E,iBAAmB5E,EAAOC,QAChCF,EAAM0E,iBAAkB,GAE1BkB,iBAAkB,SAAC5F,GACjBA,EAAM6E,iBAAmB,KACzB7E,EAAM0E,iBAAkB,EACxB1E,EAAM8E,oBAAsB,S,GAoB9BR,GAAQnE,QAdV8E,G,GAAAA,kBACAD,G,GAAAA,gBACAR,G,GAAAA,gBACAU,G,GAAAA,iBACAC,G,GAAAA,mBACAR,G,GAAAA,iBACAS,G,GAAAA,iBACAC,G,GAAAA,sBACAC,G,GAAAA,iBACAG,G,GAAAA,eACAC,G,GAAAA,iBACAC,G,GAAAA,mBACAd,G,GAAAA,iBACAe,G,GAAAA,iBAGsBC,GAAmBvB,GAA5BjE,QAEFyF,GAA0B,SACrC9F,GAEA,IAAMsE,EAA4B,GAC5ByB,EAAwB,GAY9B,OAXA/F,EAAMsE,QAAQA,QAAQ0B,SAAQ,SAACC,GAAoC,IACzDC,EAAqCD,EAArCC,OAAiBC,EAAoBF,EAA7B3B,QAChByB,EAAOK,KAAK,CACVC,IAAK,QAAUH,EACfrG,KAAMqG,EACNI,WAAYhC,EAAQiC,OACpBC,MAAO,EACPC,MAAON,EAAgBI,SAEzBjC,EAAQ8B,KAAR,MAAA9B,EAAO,aAAS6B,OAEX,CAAC7B,EAASyB,IAGNW,GAAa,eAACC,IAAD,uGAAmC,WAC3DzE,GAD2D,eAAAT,EAAA,6DAGvDkF,GACFzE,EAAS8C,MAJgD,kBAOpC7D,EAAQyF,eAAe,CAC1CC,OAAQC,4BAA0BC,OARqB,OAOnDC,EAPmD,OAUzD9E,EAAS+C,GAAkB+B,IAV8B,iEAYnD/E,EAAmB,EAAD,GAAMC,EAAUsC,IAZiB,yDAAnC,uD,oBI9IbyC,GAA+D,SAAC,GAGtE,IAFLC,EAEI,EAFJA,aAGA,OADI,EADJC,UAGE,kBAACC,GAAA,EAAD,CACEpE,OAAQ,CACNC,KAAM,CACJoE,OAAQ,EACRC,QAAS,OACTC,WAAY,SACZC,eAAgB,YAIpB,kBAACC,GAAA,EAAD,CAAmBC,MAAOR,KAG5B,kBAACO,GAAA,EAAD,CAAmBC,MAAOR,KCxBjBS,GAAmD,SAAC,GAE1D,IADLhF,EACI,EADJA,SAEA,OACE,yBACEiF,MAAO,CACLC,SAAU,aAGXlF,I,qEFKK0B,O,oBAAAA,Q,KAkCZ,IA2BayD,GAAMlI,YAAY,CAC7BC,KAAM,MACNP,aA7B6B,CAC7ByI,8BAA8B,EAC9BC,gBAAgB,EAChBC,wBAAwB,EACxBC,eAAe,EACfC,sBAAsB,EACtBC,6BAA6B,EAC7BC,wBAAwB,EACxBC,oBAAqB,CACnBC,UAAW,IAEbC,KAAM,GACNC,MAAO,GACPC,cAAe,GACfC,wBAAyB,KACzBC,+BAAgC,KAChCC,2BAA4B,KAC5BC,4BAA6B,KAC7BC,cAAe,KACfC,sBAAuB,KACvBC,aAAc,KACdC,qBAAsB,KACtBC,4BAA6B,KAC7BC,wBAAyB,KACzBC,UAAW,MAMXvJ,SAAU,CACRwJ,aAAc,SAACtJ,GACbA,EAAMiJ,aAAe,KACrBjJ,EAAMkI,eAAgB,GAExBqB,eAAgB,SAACvJ,EAAOC,GACtBD,EAAMkI,eAAgB,EACtBlI,EAAMwI,KAAOvI,EAAOC,SAEtB+I,aAAc,SAACjJ,EAAOC,GACpBD,EAAMkI,eAAgB,EACtBlI,EAAMiJ,aAAehJ,EAAOC,SAE9BsJ,4BAA6B,SAACxJ,GAC5BA,EAAM8I,4BAA8B,KACpC9I,EAAM+H,8BAA+B,GAEvC0B,8BAA+B,SAACzJ,EAAOC,GACrCD,EAAM+H,8BAA+B,EACrC/H,EAAMsI,oBAAsBrI,EAAOC,SAErC4I,4BAA6B,SAAC9I,EAAOC,GACnCD,EAAM+H,8BAA+B,EACrC/H,EAAM8I,4BAA8B7I,EAAOC,SAE7CwJ,cAAe,SAAC1J,GACdA,EAAM+I,cAAgB,KACtB/I,EAAMgI,gBAAiB,GAEzB2B,gBAAiB,SAAC3J,EAAOC,GACvBD,EAAMgI,gBAAiB,EACvBhI,EAAMyI,MAAQxI,EAAOC,SAEvB6I,cAAe,SAAC/I,EAAOC,GACrBD,EAAMgI,gBAAiB,EACvBhI,EAAM+I,cAAgB9I,EAAOC,SAE/B0J,sBAAuB,SAAC5J,GACtBA,EAAMgJ,sBAAwB,KAC9BhJ,EAAMiI,wBAAyB,GAEjC4B,wBAAyB,SAAC7J,EAAOC,GAC/BD,EAAMiI,wBAAyB,EAC/BjI,EAAM0I,cAAgBzI,EAAOC,SAE/B8I,sBAAuB,SAAChJ,EAAOC,GAC7BD,EAAMiI,wBAAyB,EAC/BjI,EAAMgJ,sBAAwB/I,EAAOC,SAEvC4J,qBAAsB,SAAC9J,GACrBA,EAAMkJ,qBAAuB,KAC7BlJ,EAAMmI,sBAAuB,GAE/B4B,uBAAwB,SAAC/J,EAAOC,GAC9BD,EAAMmI,sBAAuB,EAC7BnI,EAAM2I,wBAA0B1I,EAAOC,SAEzCgJ,qBAAsB,SAAClJ,EAAOC,GAC5BD,EAAMmI,sBAAuB,EAC7BnI,EAAMkJ,qBAAuBjJ,EAAOC,SAEtC8J,0BAA2B,SAAChK,GAC1BA,EAAMkJ,qBAAuB,MAE/Be,qBAAsB,SAACjK,GACrBA,EAAMmI,sBAAuB,EAC7BnI,EAAMkJ,qBAAuB,KAC7BlJ,EAAM2I,wBAA0B,MAElCuB,wBAAyB,SAAClK,GACxBA,EAAMoJ,wBAA0B,KAChCpJ,EAAMqI,wBAAyB,GAEjC8B,0BAA2B,SAACnK,EAAOC,GACjCD,EAAMqI,wBAAyB,EAC/BrI,EAAM6I,2BAA6B5I,EAAOC,SAE5CkJ,wBAAyB,SAACpJ,EAAOC,GAC/BD,EAAMqI,wBAAyB,EAC/BrI,EAAMoJ,wBAA0BnJ,EAAOC,SAEzCkK,6BAA8B,SAACpK,GAC7BA,EAAMoJ,wBAA0B,MAElCiB,wBAAyB,SAACrK,GACxBA,EAAMqI,wBAAyB,EAC/BrI,EAAMoJ,wBAA0B,KAChCpJ,EAAM6I,2BAA6B,MAErCyB,4BAA6B,SAACtK,GAC5BA,EAAMmJ,4BAA8B,KACpCnJ,EAAMoI,6BAA8B,GAEtCmC,8BAA+B,SAACvK,EAAOC,GACrCD,EAAMoI,6BAA8B,EACpCpI,EAAM4I,+BAAiC3I,EAAOC,SAEhDiJ,4BAA6B,SAACnJ,EAAOC,GACnCD,EAAMoI,6BAA8B,EACpCpI,EAAMmJ,4BAA8BlJ,EAAOC,SAE7CsK,iCAAkC,SAACxK,GACjCA,EAAMmJ,4BAA8B,MAEtCsB,4BAA6B,SAACzK,GAC5BA,EAAMoI,6BAA8B,EACpCpI,EAAMmJ,4BAA8B,KACpCnJ,EAAM4I,+BAAiC,MAEzC8B,eAAgB,SAAC1K,GACfA,EAAMqJ,UAAN,2BACKrJ,EAAMqJ,WADX,IAEE9D,UAAMC,KAGVmF,aAAc,SAAC3K,EAAOC,GACpBD,EAAMqJ,UAAYpJ,EAAOC,Y,GAmC3B4H,GAAI3H,QA7BNqJ,G,GAAAA,4BACAC,G,GAAAA,8BACAX,G,GAAAA,4BACAY,G,GAAAA,cACAC,G,GAAAA,gBACAZ,G,GAAAA,cACAa,G,GAAAA,sBACAC,G,GAAAA,wBACAb,G,GAAAA,sBACAM,G,GAAAA,aACAC,G,GAAAA,eACAN,G,GAAAA,aACAa,G,GAAAA,qBACAC,G,GAAAA,uBACAb,G,GAAAA,qBACAc,G,GAAAA,0BACAC,G,GAAAA,qBACAK,G,GAAAA,4BACAC,G,GAAAA,8BACApB,G,GAAAA,4BACAqB,G,GAAAA,iCACAC,G,GAAAA,4BACAP,G,GAAAA,wBACAC,G,GAAAA,0BACAf,G,GAAAA,wBAEAiB,I,GADAD,6B,GACAC,yBACAK,G,GAAAA,eACAC,G,GAAAA,aAGsBC,GAAe9C,GAAxBzH,QAEf,SAASwK,GAAKpJ,EAAoBqJ,GAChC,OAAIrJ,EAAEsJ,QAAUD,EAAEC,MACZtJ,EAAEuJ,QAAUF,EAAEE,MACTvJ,EAAEwJ,MAAMC,cAAcJ,EAAEG,OAE1BxJ,EAAEuJ,MAAME,cAAcJ,EAAEE,OAE1BvJ,EAAEsJ,MAAMG,cAAcJ,EAAEC,OAGjC,SAASI,GAAYC,GACnB,OAAO,2BACFA,GADL,IAEEL,MAAOK,EAAOL,MAAMjM,MAAM,KAAKuM,UAAUC,KAAK,OAI3C,IGnPKC,GH6PCC,GAAgC,SAC3CxL,GAEA,IAAMyL,EAbiC,SACvCzL,GAEA,OAAOA,EAAM8H,IAAIY,cACdgD,QACAC,IAAIR,IACJN,KAAKA,IACLc,IAAIR,IAMSS,CAA0B5L,GACtC+F,EAAwB,GA4B5B,OA1BA0F,EAAQzF,SAAQ,SAACoF,EAAyBS,GAAe,IAAD,EAChDC,EAASC,KAAIC,MAAMZ,EAAOL,OAChC,IAAIe,EAAOpM,OAAUoM,EAAO5F,OAA5B,CAFsD,IAK9CA,EAAW4F,EAAX5F,QACJ,UAAAH,EAAOA,EAAOQ,OAAS,UAAvB,eAA2B1G,QAASqG,GACtCH,EAAOK,KAAK,CACVC,IAAK,iBAAmBH,EACxBrG,KAAMqG,EACNI,WAAYuF,EACZI,aAAa,EACbzF,MAAO,EACPC,MAAO,QAKbV,EAASA,EAAO4F,KAAI,SAACO,EAAOC,GAAW,IAAD,EACpC,OAAO,2BACFD,GADL,IAEEzF,QACG,UAAAV,EAAOoG,EAAQ,UAAf,eAAmB7F,aAAcmF,EAAQlF,QAAU2F,EAAM5F,gBAIzD,CAACmF,EAAS1F,IAGNqG,GAAuB,SAClCpM,GACiD,IACzCwI,EAASxI,EAAM8H,IAAfU,KACFiD,EAAsC,GACtC1F,EAAwB,GAe9B,OAbAyC,EAAKxC,SAAQ,SAACqG,GAAgC,IAAD,cACVA,EADU,GACpCC,EADoC,KACxBC,EADwB,KAE3CxG,EAAOK,KAAK,CACVC,IAAK,eAAiBiG,EACtBzM,KAAMyM,EACNhG,WAAYmF,EAAQlF,OACpB0F,aAAa,EACbzF,MAAO,EACPC,MAAO8F,EAAWhG,SAEpBkF,EAAQrF,KAAR,MAAAqF,EAAO,aAAUc,OAGZ,CAACd,EAAS1F,IAGNyG,GAAyB,yDAAgB,WACpDtK,GADoD,eAAAT,EAAA,6DAGpDS,EAASsH,MAH2C,kBAK7BvI,EAAOwL,4BALsB,OAK5CzF,EAL4C,OAMlD9E,EAASuH,GAA8BzC,IANW,iEAQ5C/E,EAAmB,EAAD,GAAMC,EAAU4G,IARU,yDAAhB,uDAsBzB4D,GAAmB,yDAAgB,WAC9CxK,GAD8C,eAAAT,EAAA,6DAG9CS,EAAS0H,MAHqC,kBAKvB3I,EAAO0L,sBALgB,OAKtC3F,EALsC,OAM5C9E,EAAS2H,GAAwB7C,IANW,iEAQtC/E,EAAmB,EAAD,GAAMC,EAAU8G,IARI,yDAAhB,uDAYnB4D,GAAU,yDAAgB,WAAO1K,GAAP,eAAAT,EAAA,6DACrCS,EAASoH,MAD4B,kBAGdrI,EAAO4L,aAHO,OAG7B7F,EAH6B,OAInC9E,EAASqH,GAAevC,IAJW,iEAM7B/E,EAAmB,EAAD,GAAMC,EAAU+G,IANL,yDAAhB,wD,SGzVXsC,O,sBAAAA,Q,KAsBZ,I,GC/BYuB,GAMAC,GDyCCC,GAAMpN,YAAY,CAC7BC,KAAM,MACNP,aAlB6B,CAC7B2N,iBAAiB,EACjBC,iBAAiB,EACjBC,yBAAyB,EACzBC,UAAW,CACTC,aAAc,GACd3L,OAAQ,IAEV4L,oBAAqB,KACrBC,2BAA4B,KAC5BC,eAAgB,KAChBC,iBAAkB,KAClBC,wBAAyB,KACzBC,UAAW,MAMX7N,SAAU,CACR8N,kBAAmB,SAAC5N,GAClBA,EAAMwN,eAAiB,KACvBxN,EAAMiN,iBAAkB,GAE1BY,oBAAqB,SAAC7N,EAAOC,GAC3BD,EAAMiN,iBAAkB,EACxBjN,EAAMoN,UAAYnN,EAAOC,SAE3B4N,kBAAmB,SAAC9N,EAAOC,GACzBD,EAAMwN,eAAiBvN,EAAOC,QAC9BF,EAAMiN,iBAAkB,GAE1Bc,iBAAkB,SAAC/N,GACjBA,EAAMyN,iBAAmB,KACzBzN,EAAMkN,iBAAkB,GAE1Bc,mBAAoB,SAAChO,EAAOC,GAC1BD,EAAMkN,iBAAkB,EACxBlN,EAAMsN,oBAAsBrN,EAAOC,SAErCuN,iBAAkB,SAACzN,EAAOC,GACxBD,EAAMyN,iBAAmBxN,EAAOC,QAChCF,EAAMkN,iBAAkB,GAE1Be,iBAAkB,SAACjO,GACjBA,EAAMyN,iBAAmB,KACzBzN,EAAMsN,oBAAsB,KAC5BtN,EAAMkN,iBAAkB,GAE1BgB,wBAAyB,SAAClO,GACxBA,EAAM0N,wBAA0B,KAChC1N,EAAMmN,yBAA0B,GAElCgB,0BAA2B,SAACnO,EAAOC,GACjCD,EAAMmN,yBAA0B,EAChCnN,EAAMuN,2BAA6BtN,EAAOC,SAE5CwN,wBAAyB,SAAC1N,EAAOC,GAC/BD,EAAM0N,wBAA0BzN,EAAOC,QACvCF,EAAMmN,yBAA0B,GAElCiB,wBAAyB,SAACpO,GACxBA,EAAM0N,wBAA0B,KAChC1N,EAAMuN,2BAA6B,KACnCvN,EAAMmN,yBAA0B,GAElCkB,eAAgB,SAACrO,GACfA,EAAM2N,UAAY,MAEpBW,aAAc,SAACtO,EAAOC,GACpBD,EAAM2N,UAAY1N,EAAOC,Y,GAmB3B8M,GAAI7M,QAbN0N,G,GAAAA,oBACAD,G,GAAAA,kBACAE,G,GAAAA,kBACAC,G,GAAAA,iBACAC,G,GAAAA,mBACAP,G,GAAAA,iBACAQ,G,GAAAA,iBACAC,G,GAAAA,wBACAC,G,GAAAA,0BACAT,G,GAAAA,wBACAU,G,GAAAA,wBACAC,G,GAAAA,eACAC,G,GAAAA,aAGsBC,GAAevB,GAAxB3M,QAEFmO,GAAe,yDAKvB,WAAOtM,GAAP,eAAAT,EAAA,6DACHS,EAAS0L,MADN,kBAGoB7M,EAAOyN,eAH3B,OAGKxH,EAHL,OAID9E,EAAS2L,GAAoB7G,IAJ5B,iEAMK/E,EAAmB,EAAD,GAAMC,EAAU4L,IANvC,yDALuB,uD,sCEpHtBW,GAAsB/K,YAAY,eACnCQ,IAAgBwK,YAGRC,GAKT,SAAC,GAA4C,IAAD,IAAzCC,eAAyC,SAAzBnL,EAAyB,EAAzBA,UAAcoL,EAAW,wCACxCC,EAAqBF,EAAO,2BAEzBC,GAFyB,IAG5BpL,UAAWC,YAAYD,EAAWgL,MAEpCI,EAEJ,OACE,kBAAC,KAAD,iBAAsBC,EAAtB,CAA0CC,uBAAuB,Y,wCCd/DC,GAAQpL,cAERqL,GAAsBvL,YAAY,CACtCwL,aAAc,SASHC,GAAoD,SAC/D9L,GACiB,IAAD,EACmCA,EAA3CH,gBADQ,MACG,IADH,EACQkM,EAA2B/L,EAA3B+L,cAAkBP,EAD1B,aACmCxL,EADnC,gCAE+CgM,cAC7D,GAHc,mBAETC,EAFS,KAEmBC,EAFnB,KAEWC,OAGrBC,EAAuBC,aAAM,cACnC,OACE,oCACE,kBAAC9M,EAAA,EAAD,CAAO+M,YAAU,EAACC,cAAc,UAAhC,OACGR,QADH,IACGA,OADH,EACGA,EAAgBP,GACjB,kBAACgB,GAAA,EAAD,CACEC,GAAIL,EACJM,MAAM,OACNC,UAAU,OACVC,UAAW,CAAEC,SAAU,QACvBC,QAASZ,EACT9L,UAAWwL,MAGdK,GACC,kBAACc,GAAA,EAAD,CACEC,OAAQ,IAAMZ,EACda,UAAWf,EACXgB,KAAK,cACLvN,OAAQ,CACNC,KAAM,CACJC,cAIJ,kBAACN,EAAA,EAAD,CAAO4N,gBAAgB,QAAQzN,QAAQ,IAAID,IAAI,KAC7C,kBAAC2N,EAAA,EAAD,KAAOpN,EAAMqN,iBAQZC,GAAyB,SAACD,GAAD,OAAkC,SACtErN,EACA+L,GAFsE,OAItE,kBAAC,GAAD,iBACM/L,EADN,CAEEqN,YAAaA,EACbtB,cAAeA,OAINwB,GAA+B,CAC1CC,mBAAoB,CAClBnJ,MAAO,CACLzE,KAAM,CACJ6N,UAAW,CACT,SAAU,CACRC,aAAc/B,GAAMgC,QAAQC,U,SFlF5BnE,K,kBAAAA,E,qBAAAA,E,4BAAAA,Q,cAMAC,K,UAAAA,E,iBAAAA,Q,KA0BL,IAAMmE,IAAkB,sBAC5BpE,GAAUqE,QAAU,CACnBxP,KAAM,UACNyP,MAAO,CACLC,YAAa,8CACbC,KACE,mGAEJC,WAAY,CACVF,YAAa,gDACbC,KAAM,gDAERE,iBAAkB,CAChBH,YAAa,qBACbC,KAAM,+CACNG,IACE,mGACFC,OACE,8FAlBuB,gBAqB5B5E,GAAU6E,SAAW,CACpBhQ,KAAM,YACN2P,KACE,wEACFF,MAAO,CACLC,YAAa,8CACbC,KACE,qKAEJC,WAAY,CACVF,YAAa,gDACbC,KAAM,gDAERE,iBAAkB,CAChBH,YAAa,qBACbC,KAAM,+CACNG,IACE,iHACFC,OACE,4GAxCuB,gBA2C5B5E,GAAU8E,YAAc,CACvBjQ,KAAM,eACN2P,KACE,kIACFF,MAAO,CACLC,YAAa,8CACbC,KACE,qKAEJC,WAAY,CACVF,YAAa,6CACbC,KAAM,qEAERE,iBAAkB,CAChBH,YAAa,qBACbC,KAAM,+CACNG,IACE,iHACFC,OACE,4GA9DuB,IGFzB1C,GAAQpL,cAERiO,GAAkBnO,YAAY,CAClCoO,UAAW,IAgBb,IAAMC,GAAuC,CAC3CC,QAAS,GACTT,WAAY,GACZC,iBAAkB,GAClBS,eAAgB,GAOLC,GAAiE,SAAC,GAGxE,IAAD,EAFJvP,EAEI,EAFJA,SAEI,IADJwP,mBACI,MADUJ,GACV,IAC8CK,aAChD,SAACpS,GAAD,OAAsBA,EAAMsE,WADtBM,EADJ,EACIA,oBAAqBD,EADzB,EACyBA,iBAIvBzC,EAAWG,cALb,EAM8BgQ,mBAjCpC,YAGuC,IAFrCL,EAEoC,EAFpCA,QACAT,EACoC,EADpCA,WAEA,MAA0B,MAAtBS,EAAQM,OAAO,IAAuC,MAAzBf,EAAWe,OAAO,GAC1CxF,GAAU8E,YACc,MAAtBI,EAAQM,OAAO,GACjBxF,GAAU6E,SAEV7E,GAAUqE,QAyBjBoB,CAAoBJ,IAPlB,mBAMGK,EANH,KAMcC,EANd,OASgCJ,mBAClCF,EAAYX,iBAAmBzE,GAAW2E,OAAS3E,GAAW0E,KAV5D,mBASGiB,EATH,KASeC,EATf,OAYsBN,mBAAiCF,GAZvD,mBAYGf,EAZH,KAYUwB,EAZV,KAcEC,EAA0C,CAC9C,CAAExM,IAAK0G,GAAW0E,IAAK9P,KAAMuP,GAASsB,GAAWhB,iBAAiBC,KAClE,CACEpL,IAAK0G,GAAW2E,OAChB/P,KAAMuP,GAASsB,GAAWhB,iBAAiBE,SAIzCoB,EAAqBC,uBACzB,SACEC,EACAC,GAEIA,GACFN,EAAcM,EAAO5M,OAGzB,CAACsM,IAGGO,EAAmBH,uBACvB,SAACI,EAAkBC,GACbD,GAAQA,EAAK9P,OAAS8P,EAAK9P,MAAMgQ,SACnCZ,EAAaU,EAAK9P,MAAMgQ,WAG5B,CAACZ,IAGGa,EAAgBP,uBACpB,SACEQ,EACAC,GAEAZ,EAAS,2BACJxB,GADG,mBAEJmC,EAAMlD,OAAkDxQ,KACxD2T,GAAY,QAGlB,CAACpC,IAGGqC,EAA2BV,uBAC/B,SACEC,GAEA9Q,EAASmD,QAEX,CAACnD,IAGGwR,EAAeX,uBACnB,SAACQ,GACCA,EAAMI,iBACNzR,EVkCqB,SAACkP,GAAD,8CAA6C,WACtElP,GADsE,eAAAT,EAAA,6DAGtES,EAASgD,MAH6D,kBAK/C/D,EAAQyS,gBAAgBxC,GALuB,OAK9DpK,EAL8D,OAMpE9E,EAASiD,GAAmB6B,IANwC,iEAQ9D/E,EAAmB,EAAD,GAAMC,EAAUyC,IAR4B,yDAA7C,sDUjCnBkP,CAAY,2BACPzC,GADM,IAETI,iBACEkB,IAAe3F,GAAW2E,OAASN,EAAMI,iBAAmB,SAIpE,CAACJ,EAAOlP,EAAUwQ,IAGdoB,EAA0BC,mBAC9B,kBACEpD,GACE,4UAQJ,IASF,OANArO,qBAAU,WACJsC,GACFgO,EAASb,MAEV,CAAC7P,EAAU0C,IAGZ,kBAAChC,EAAA,EAAD,CACEE,IAAI,IACJD,GAAG,OACHmR,KAAM,EACNvQ,UAAWoO,GACXoC,SAAUP,GAET/O,GACC,kBAAC,GAAD,CACEuP,eAAgBC,IAAezU,MAC/B0U,aAAa,EACb9D,UAAWmD,EACX1E,uBAAuB,SAEtBpK,GAGL,kBAAC/B,EAAA,EAAD,CAAOE,IAAI,MACT,kBAACuR,GAAA,EAAD,CACEC,SAAUC,KAAcC,OACxBC,WAAYC,KAAgBC,KAC5BC,YAAa1B,EACb2B,YAAarC,GAEZsC,OAAOC,KAAK7D,IAAUvF,KAAI,SAACpG,GAAD,OACzB,kBAACyP,GAAA,EAAD,CACEC,WAAY/D,GAAS3L,GAAM5D,KAC3B0R,QAAS9N,EACT2P,kBAAmB,CACjBC,SAAyC,IAA/BhD,EAAYF,iBAGvBf,GAAS3L,GAAM+L,KACd,kBAAC,GAAD,CACEtO,OAAQ,CACNC,KAAM,CACJO,UAAWwL,GAAMgC,QAAQoE,MAI5BlE,GAAS3L,GAAM+L,MAEhB,WAKZ,kBAAC+D,EAAA,EAAD,CACE3N,MAAM,QACN4N,UAAQ,EACRjE,YAAaH,GAASsB,GAAWpB,MAAMC,YACvCkE,YAAarE,GAASsB,GAAWpB,MAAME,KACvCtO,OAAQ,CAAEuS,YAAY,eAAMvG,GAAMwG,MAAMC,QACxCC,SAAUpC,EACVzT,KAAK,UACLoL,MAAOmG,EAAMY,QACb2D,WAAYxD,EAAYH,QACxBmD,WAAYhD,EAAYH,UAE1B,kBAACqD,EAAA,EAAD,CACE3N,MAAM,cACNkO,WAAS,EACTC,KAAM,EACNP,UAAQ,EACRjE,YAAaH,GAASsB,GAAWjB,WAAWF,YAC5CkE,YAAarE,GAASsB,GAAWjB,WAAWD,KAC5CtO,OAAM,aACJuS,YAAY,eAAMvG,GAAMwG,MAAMC,QAC3B7E,IAEL/Q,KAAK,aACL6V,SAAUpC,EACVrI,MAAOmG,EAAMG,WACbuE,cAAehC,EACf6B,YAAaxD,EAAYH,UAE3B,kBAAC+D,GAAA,EAAD,CACElB,YAAanC,EACbsD,QAASnD,EACT6C,SAAU5C,EACVpL,MAAM,oBACN4N,UAAQ,IAET5C,IAAe3F,GAAW2E,QACzB,kBAAC2D,EAAA,EAAD,CACEO,WAAS,EACTC,KAAM,EACNP,UAAQ,EACRzV,KAAK,mBACLwR,YAAaH,GAASsB,GAAWhB,iBAAiBH,YAClDqE,SAAUpC,EACVrI,MAAK,UAAEmG,EAAMI,wBAAR,QAA4B,GACjCxO,OAAM,aACJuS,YAAY,eAAMvG,GAAMwG,MAAMC,QAC3B7E,IAEL2E,YAAarE,GAASsB,GAAWhB,iBAAiBF,OAGrD3O,ICpQDqM,GAAQpL,cAERH,GAAYC,YAAY,CAC5BX,QAASiM,GAAMgC,QAAQiF,EACvBC,WAAY,YACZnS,gBAAiBiL,GAAMhL,QAAQmS,kBAC/BC,YAAapH,GAAMqH,eAAeC,cAClCC,aAAcvH,GAAMnL,QAAQ2S,eAC5BC,YAAa,EACbC,YAAa,QACbC,SAAU,OACVC,aAAc,QACdC,OAAQ,IAGGC,GAA+B,SAAC,GAAkB,IAAhBnU,EAAe,EAAfA,SAC7C,OACE,kBAAC8N,EAAA,EAAD,CAAM5N,GAAG,MAAMY,UAAWA,GAAWsT,OAAK,GACvCpU,ICEDkP,GAAkBnO,YAAY,CAClCoO,UAAW,IAGPkF,GAA0C,CAC9CzR,KAAM0R,KAAWC,YACjBnH,MAAO,eAGHoH,GAA0B,CAC9BC,YAAY,GAGDC,GAAqD,SAAC,GAE5D,IADFhU,EACC,sBAC8C+O,aAChD,SAACpS,GAAD,OAAsBA,EAAMsE,WADtBG,EADJ,EACIA,iBAAkBG,EADtB,EACsBA,oBAGpB1C,EAAWG,cAJb,EAMwCgQ,oBAAkB,GAN1D,mBAMGiF,EANH,KAMmBC,EANnB,OAO0ClF,oBAAkB,GAP5D,mBAOGmF,EAPH,KAOoBC,EAPpB,KASEC,EAAoB3E,uBAAY,WACpC7Q,EAASkD,MACTqS,GAAmB,KAClB,CAACvV,IAEEyV,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IA6BF,OA1BAjV,qBAAU,WACJsC,GAAuB0S,IAAmBE,GAC5CD,GAAkB,KAEnB,CAAC3S,EAAqB4S,EAAiBF,IAE1ChV,qBAAU,WACHgV,GACHG,GAAmB,KAEpB,CAACH,IAEJhV,qBAAU,WACJsC,IACF1C,EAASwE,MACTxE,EAASsM,MACTtM,EAAS0K,SAEV,CAAC1K,EAAU0C,IAEdtC,qBAAU,WACR,OAAO,WACLJ,EAASkD,SAEV,CAAClD,IAGF,kBAACU,EAAA,EAAD,KACE,kBAACgV,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoBA,GACpBG,WAAYA,GACZW,SAAU,IACV5U,SAAU,IACV6U,YAAaL,GAEb,kBAAC,GAAD,KAAM9S,GACN,kBAAC,KAAD,KACE,kBAACoT,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGtC,kBAAC/U,EAAA,EAAD,eAAOE,IAAI,KAAK6M,YAAU,GAAKtM,GAC7B,kBAACT,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACpB,EAAA,EAAD,qEACgE,IAC9D,kBAACwH,GAAA,EAAD,CAAMC,KAAK,KAAX,aAFF,6BAIA,kBAACzH,EAAA,EAAD,iKAMF,kBAAC,GAAD,KACE,kBAAC7N,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,CAAezS,KAAK,SAAS4P,SAAU1Q,GAAvC,kB,sCClGN0T,GAAc,SAAC9U,GACnB,OAAIA,EAEA,kBAAC+U,GAAA,EACK/U,GASH,MAQIgV,GAET,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,kBAAmBvS,EAAuB,EAAvBA,OAAW1C,EAAY,6DACPiV,EADO,GACxCC,EADwC,KAC1BC,EAD0B,OAESnG,oBACtD,GAH6C,mBAExCoG,EAFwC,KAElBC,EAFkB,KAMzCC,EAAwB5F,uBAC5B,SAAC6F,EAAkBC,GACbA,EACFN,EAAaO,OAAOP,EAAaQ,QAAQH,GAAW,GAEpDL,EAAanS,KAAKwS,GAEpBJ,EAAgBD,EAAa7M,WAE/B,CAAC6M,EAAcC,IAGXQ,EAA2BjG,uBAAY,WAEzC0F,GAAwBF,EAAahS,SAAWR,EAAOQ,QAEvDiS,EAAgB,IAChBE,GAAwB,KAExBF,EAAgBzS,EAAO4F,KAAI,qBAAGtF,QAC9BqS,GAAwB,MAEzB,CAAC3S,EAAQ0S,EAAsBF,EAAahS,OAAQiS,IAEjDS,EAAwBlG,uBAC5B,SACEmG,EACA9J,GAEA,OACe,OAAbA,QAAa,IAAbA,OAAA,EAAAA,EAAa,2BACR8J,GADQ,IAEXC,oBAAqBH,EACrBhW,OAAQ,CACNC,KAAM,CACJmW,WAAY,SAGW,OAGjC,CAACJ,IAGGK,EAAsBtG,uBAC1B,SACE1P,EACA+L,GAEA,GAAIA,EAAe,CACjB,IAAMkK,EAAiB,YACrB,OAAIjW,QAAJ,IAAIA,OAAJ,EAAIA,EAAO6I,QACTyM,EAAsBtV,EAAM6I,MAAM7F,KAAMhD,EAAM6I,MAAMD,cAGxD,OACE,yBACEkE,QAAS,SACPoD,GAEIlQ,GAASA,EAAM6I,QACjBqH,EAAMI,iBACN2F,OAIHlK,EAAc,2BACV/L,GADS,IAEZkW,iBAAkBD,MAK1B,OAAO,OAET,CAACX,IAGGa,EAA2BzT,EAAO4F,KAAI,SAACO,GAAD,mBAAC,eACxCA,GADuC,IAE1CD,aAAkD,IAArCsM,EAAaQ,QAAQ7M,EAAM7F,UAG1C,OACE,kBAACoT,GAAA,EAAD,iBACMpW,EADN,CAEE0C,OAAQyT,EACRE,WAAYC,KAAsBC,UAClCC,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,sBAC7BC,iBAAe,EACfC,mBAAoB,kBAClBZ,EAAyBjT,OAAS,IAAMlD,EAAMgX,MAAM9T,OAAS,IAE/D0S,sBAAuBA,EACvBd,YAAaA,GACbmC,WAAY,CACVC,qBAA8C,IAAxBhC,EAAahS,OACnCiU,eAAgBnB,O,UC5IlBrK,GAAQpL,cAMD6W,GAA2D,SAAC,GAGlE,IAFL9X,EAEI,EAFJA,SAEI,IADJ+X,iBACI,SACJ,OACE,kBAAC9X,EAAA,EAAD,CACE4N,gBAAgB,MAChBZ,cAAc,SACdD,YAAU,EACV7M,IAAI,KACJE,OAAQ,CACNC,KAAM,CACJO,UAAWwL,GAAMgC,QAAQiF,KAI5ByE,GAAa,kBAACC,EAAA,EAAD,CAASC,KAAMC,IAAYC,SACxCnY,ICHMoY,GAET,SAAC,GASE,IARLlD,EAQI,EARJA,OACAmD,EAOI,EAPJA,UACAN,EAMI,EANJA,UACAhb,EAKI,EALJA,MACAub,EAII,EAJJA,kBACAtY,EAGI,EAHJA,SACAuY,EAEI,EAFJA,eACGrM,EACC,2GACEsM,EAAuBpI,uBAAY,WAClCmI,EAEMrM,EAAKyB,WACdzB,EAAKyB,YAFL0K,MAID,CAACE,EAAgBF,EAAWnM,IACzBuM,EAAsBrI,uBAAY,WAClClE,EAAKyB,WACPzB,EAAKyB,cAEN,CAACzB,IACJ,OACE,kBAAC+I,GAAA,EAAD,eAAQC,OAAQA,EAAQC,SAAU,IAAK5U,SAAU,KAAS2L,GACxD,kBAACjM,EAAA,EAAD,CAAOE,IAAI,KACRpD,GACC,kBAAC,GAAD,CAAYwU,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1D1U,GAGJwb,GAAkB,kBAAC,GAAD,KAAMA,IACvBA,GAAkBvY,GAEtB,kBAAC,GAAD,CAAc+X,UAAWA,GACvB,kBAAC1C,EAAA,EAAD,CACE7C,SAAUuF,EACV/Y,KAAOuZ,EAAqC,KAApBD,EACxB9K,QAASgL,KAETD,GACA,kBAACG,GAAA,EAAD,CACElG,SAAUuF,EACV/Y,KAAK,SACLwO,QAASiL,OChDfE,GAAqD,CACzD/V,KAAM0R,KAAWC,YACjBnH,MAAO,gBAGIwL,GAET,SAAC,GAA+B,IAAD,MAA5BnK,EAA4B,EAA5BA,MAAUoK,EAAkB,4BACiBpJ,aAChD,SAACpS,GAAD,OAAsBA,EAAMsE,WADtBM,EADyB,EACzBA,oBAAqBH,EADI,EACJA,iBAIvBgX,EAA2B1I,uBAAY,WAAO,IAAD,EACjD,UAAAyI,EAAYlL,iBAAZ,cAAAkL,KACC,CAACA,IAEErJ,EAAsC,CAC1CH,SAAc,OAALZ,QAAK,IAALA,OAAA,EAAAA,EAAOY,UAAW,GAC3BT,WAAU,iBAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAOG,WAAWjG,KAAK,aAAzB,QAAkC,GAC5CkG,iBAAgB,iBAAEJ,QAAF,IAAEA,GAAF,UAAEA,EAAOI,wBAAT,aAAE,EAAyBlG,KAAK,aAAhC,QAAyC,KACzD2G,eAAgB,GAGZyJ,EAAc9W,EAAsB,IAAM,IAChD,OACE,kBAACgT,GAAA,EAAD,iBACM4D,EADN,CAEExE,mBAAoBsE,GACpBnE,WAAY,CACVC,YAAY,GAEdU,SAAU4D,EACVxY,SAAUwY,IAET9W,GACC,oCACE,kBAAC,GAAD,KAAMA,GACN,kBAAC,GAAD,KACE,kBAACoT,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASsL,OAItC7W,GACA,kBAAC,GAAD,CAAiBuN,YAAaA,GAC5B,kBAAC,GAAD,CAAcuI,UAAWjW,GACvB,kBAACuT,EAAA,EAAD,CACErW,KAAK,eACL4D,KAAK,SACL4P,SAAU1Q,IAEZ,kBAAC4W,GAAA,EAAD,CACE1Z,KAAK,SACLwO,QAASsL,EACTtG,SAAU1Q,QC1DXkX,GAA4C,WAAO,IAAD,IAOzDvJ,aAAY,SAACpS,GAAD,OAAsBA,EAAMsE,WAL1CI,EAF2D,EAE3DA,gBACAK,EAH2D,EAG3DA,YACAF,EAJ2D,EAI3DA,iBACAC,EAL2D,EAK3DA,oBACAF,EAN2D,EAM3DA,oBAGI1C,EAAWG,cAEXuZ,EAAwB7I,uBAAY,WACxC7Q,EAASoD,QACR,CAACpD,IAEE2Z,EAA2B9I,uBAAY,WACvCjO,GACF5C,EAASwE,MAEXxE,EAAS0D,QACR,CAAC1D,EAAU4C,IAERgX,EAA+B/I,uBAAY,WAC3CnO,GACF1C,EAASwE,MAEXxE,EAASkD,QACR,CAAClD,EAAU0C,IAERmX,EAAuBhJ,uBAAY,WjBsIhB,IAACf,GiBrIxB,OAAIjN,QAAJ,IAAIA,OAAJ,EAAIA,EAAaqM,QACflP,GjBoIsB8P,EiBpIF,OAACjN,QAAD,IAACA,OAAD,EAACA,EAAaqM,MAAMY,QjBoInB,uCAA+B,WACxD9P,GADwD,eAAAT,EAAA,6DAGxDS,EAASwD,MAH+C,kBAKjCvE,EAAQ6a,gBAAgB,CAC3ChK,YANoD,OAKhDhL,EALgD,OAQtD9E,EAASyD,GAAmBqB,IAR0B,iEAUhD/E,EAAmB,EAAD,GAAMC,EAAU2C,IAVc,yDAA/B,0DiBlItB,CAACE,EAAa7C,IAEjB,OACE,oCACE,kBAAC,GAAD,CACE2V,QAAmB,OAAX9S,QAAW,IAAXA,OAAA,EAAAA,EAAaQ,QAAS9C,GAAgBwZ,OAC9CvB,UAAWhW,EACX4L,UAAWsL,EACX7D,YAAa8D,EACbb,UAAWe,EACXrc,MAAOmF,EACPqW,eAAgBpW,EAChBmW,kBAAkB,eAClBjE,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,gBAEToH,WAAY,CACVC,YAAY,IAGd,kBAAC3G,EAAA,EAAD,8CACyC,IACvC,uCAAS1L,QAAT,IAASA,GAAT,UAASA,EAAaqM,aAAtB,aAAS,EAAoB8K,gBAF/B,MAKF,kBAAC,GAAD,CACErE,QAAmB,OAAX9S,QAAW,IAAXA,OAAA,EAAAA,EAAaQ,QAAS9C,GAAgB0Z,OAC9C/K,MAAK,OAAErM,QAAF,IAAEA,OAAF,EAAEA,EAAaqM,MACpBd,UAAWsL,EACX7D,YAAa+D,M,SCjERM,GAA2E,SAAC,GAElF,IADLhL,EACI,EADJA,MAEMlP,EAAWG,cACXga,EAAWtJ,uBACf,SAACxN,GACCrD,EACEuD,GAAe,CACb2L,QACA7L,YAIN,CAACrD,EAAUkP,IAEb,OACE,kBAACvB,GAAA,EAAD,CACEyM,cAAe,CACbpM,SAAU,gBAEZlN,OAAQ,CACNuZ,SAAU,CACRC,WAAY,SAGhBjM,KAAK,SACLkM,iBAAe,EACfC,aAAW,eACXC,UAAW,CACTC,gBAAiBC,KAAgBC,gBACjCzC,MAAO,CACL,CACEhU,IAAK,cAAgB+K,EAAMY,QAC3BrQ,KAAM,SACNwO,QAAS,kBAAYkM,EAAS5Z,GAAgB0Z,UAEhD,CACE9V,IAAK,eAAiB+K,EAAMY,QAC5BrQ,KAAM,SACNwO,QAAS,kBAAYkM,EAAS5Z,GAAgBwZ,eCrCpDc,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,QACNiY,SAAU,IACV1D,aAAa,EACb4I,aAAa,EACbC,UAAW,kBAEb,CACE5W,IAAK,UACLxG,KAAM,cACNiY,SAAU,IACV1D,aAAa,EACb8I,SAAU,SAAC/J,GAKT,OAJKA,GAASA,EAAK5B,YACjB4L,QAAQC,IAAI,QAIZ,oCACGjK,EAAK5B,WAAW5F,KAAI,SAAC0R,GAAD,OACnB,kBAAC5M,EAAA,EAAD,CAAMsG,OAAK,GAAEsG,SAMvB,CACEhX,IAAK,UACLxG,KAAM,oBACNiY,SAAU,IACV1D,aAAa,EACb8I,SAAU,SAAC/J,GAAyC,IAAD,EACjD,OACE,8CACGA,EAAK3B,wBADR,aACG,EAAuB7F,KAAI,SAAC2R,GAAD,OAC1B,kBAAC7M,EAAA,EAAD,CAAMsG,OAAK,GAAEuG,SAMvB,CACEjX,IAAK,UACLxG,KAAM,UACNuU,aAAa,EACb0D,SAAU,GACVyF,UAAU,EACVL,SAAU,SAAC9L,GACT,OAAO,kBAAC,GAAD,CAAsBA,MAAOA,KAEtC3N,UAAWC,YAAY,CACrB8Z,YAAa,8BASNC,GAET,SAAC,GAAqC,IAAnCnF,EAAkC,EAAlCA,kBAAsBjV,EAAY,wCACb+O,YAAYtM,IADC,mBAChCxB,EADgC,KACvByB,EADuB,KAEvC,OACE,kBAACnD,EAAA,EAAD,eAAOC,GAAG,WAAcQ,GACtB,kBAAC,GAAD,MACA,kBAAC,GAAD,CACEiV,kBAAmBA,EACnB+B,MAAO/V,EACPyB,OAAQA,EACRgX,QAASA,OCpFJW,GAAuC,SAAC,GAAkB,IAAhB/a,EAAe,EAAfA,SAC/CtE,EAAUsf,cACVC,EAAWC,cACX3K,EAAmBH,uBACvB,SAACI,EAAkBH,IACjB,OAAIG,QAAJ,IAAIA,OAAJ,EAAIA,EAAM9P,MAAMgQ,UACdhV,EAAQ+H,KAAK+M,EAAK9P,MAAMgQ,WAG5B,CAAChV,IAEH,OACE,kBAACgW,GAAA,EAAD,CACEC,SAAUC,KAAcuJ,MACxBjJ,YAAa+I,EAASG,SACtBnJ,YAAa1B,GAEZvQ,ICTMqb,GAAuC,WAAO,IAAD,EACD5L,aACrD,SAACpS,GAAD,OAAsBA,EAAMsE,WADtBC,EADgD,EAChDA,iBAAkBC,EAD8B,EAC9BA,gBAAiBF,EADa,EACbA,QAGrCgU,EAAoBjG,mBAAmB,IACvCnQ,EAAWG,cALuC,EAMlC4b,cAAdzb,EANgD,EAMhDA,KAAM0b,EAN0C,EAM1CA,IAOd,OALA5b,qBAAU,WACHgC,EAAQiC,QACXrE,EAASwE,QAEV,CAACpC,EAAQiC,OAAQrE,IAElB,oCACE,kBAAC,GAAD,KACE,kBAAC8S,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,0BACpC,kBAACD,GAAA,EAAD,CAAW3B,QAAO,UAAK6K,EAAL,QAAgBjJ,WAAW,sBAE/C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GACjB,kBAAC,GAAD,KACGgC,GACC,kBAAC,KAAD,CAAY0P,eAAgBC,IAAezU,OACxC8E,GAGJD,GACC,kBAAC,GAAD,CACE2C,aAAa,qBACbC,UAAWpI,QAAQuF,EAAQiC,WAG7B/B,GAAmBzF,QAAQuF,EAAQiC,SACnC,kBAAC,GAAD,CAAiB+R,kBAAmBA,MAI1C,kBAAC,IAAD,CAAO6F,OAAK,EAAC3b,KAAI,UAAKA,EAAL,SACf,kBAAC,GAAD,UC5CG4b,GAET,WACF,OACE,kBAAC,GAAD,KACE,kBAACxb,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,OACN0E,IAAK,QAEP,CACE1E,KAAM,UACN0E,IAAK,UACLxD,GAAI,UAKZ,kBAAC,GAAD,KACE,kBAAC,GAAD,SAMRub,GAAa5b,KAAO,gB,ICtBR6b,G,UCTCC,G,OCOPvB,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,IACV5U,SAAU,IACV8Z,aAAa,EACbC,UAAW,UAEb,CACE5W,IAAK,UACLxG,KAAM,QACNiY,SAAU,IACVkF,aAAa,EACbC,UAAW,UAIT5C,GAAQ,CACZ,CACEpH,OAAQ,SACRhI,MAAOqT,GAAOC,UAEhB,CACEtL,OAAQ,UACRhI,MAAO,sBAIEuT,GAAoD,WAC/D,OACE,kBAAC/E,GAAA,EAAD,CACEgF,SAAO,EACPpE,MAAOA,GACP0C,QAASA,GACTrD,WAAYC,KAAsBC,UAClCO,iBAAiB,EACjBC,mBAAoB,kBAAe,GACnCP,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,yBCxC7B6C,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,IACV5U,SAAU,IACV8Z,aAAa,EACbC,UAAW,UAEb,CACE5W,IAAK,UACLxG,KAAM,QACNiY,SAAU,IACVkF,aAAa,EACbC,UAAW,UAIT5C,GAAQ,CACZ,CACEpH,OAAQ,kBACRhI,MAAO,QAET,CACEgI,OAAQ,cACRhI,MAAOqT,GAAOC,UAEhB,CACEtL,OAAQ,YACRhI,MAAO,OAET,CACEgI,OAAQ,gBACRhI,MAAO,cAET,CACEgI,OAAQ,YACRhI,MAAO,OAET,CACEgI,OAAQ,gBACRhI,MAAO,kDAET,CACEgI,OAAQ,WACRhI,MAAO,6BAET,CACEgI,OAAQ,WACRhI,MAAO,wBAIEyT,GAA4C,WACvD,OACE,kBAACjF,GAAA,EAAD,CACEzW,OAAQ,CACNC,KAAM,CACJO,WAAY,KAGhBib,SAAO,EACPpE,MAAOA,GACP0C,QAASA,GACTrD,WAAYC,KAAsBC,UAClCO,iBAAe,EACfC,mBAAoB,kBAAe,GACnCP,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,yBC5D7BrI,GAAkBnO,YAAY,CAClCoO,UAAW,IAGA6M,GAET,WACF,IAAMC,EAAYlP,aAAM,WACxB,OACE,kBAAC,GAAD,KACE,kBAAC9M,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,OACN0E,IAAK,QAEP,CACE1E,KAAM,4BACN0E,IAAK,eACLxD,GAAI,SAIV,kBAACgc,GAAA,EAAD,CACEC,QAAQ,sFACRhP,GAAI8O,GAEJ,kBAACvD,GAAA,EAAD,CAAepL,UAAW,CAAEC,SAAU,aAAtC,2BAKJ,kBAACtN,EAAA,EAAD,CAAO+M,YAAU,EAAC7M,IAAI,MACpB,kBAACF,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAAC,GAAD,KACE,kBAACpB,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,SAApB,WAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,iFAIA,kBAACtG,EAAA,EAAD,CAAMsG,OAAK,GACT,kBAACkB,GAAA,EAAD,CAAMC,KAAI,kBAAaoG,GAAOC,SAApB,UAAV,WACWD,GAAOC,SADlB,UAIF,kBAAC9N,EAAA,EAAD,CAAMsG,OAAK,GAAX,+CAEF,kBAAC,GAAD,KACE,kBAACtG,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,SAApB,uBAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,cAApB,2BAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,0BAC0B,IACxB,kBAACkB,GAAA,EAAD,CAAMC,KAAI,kBAAaoG,GAAOC,SAApB,6BAAV,2BAEQ,IAJV,mJASA,kBAAC9N,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,cAApB,wBAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,kGAIA,kBAAC,GAAD,MACA,kBAACtG,EAAA,EAAD,CAAMsG,OAAK,GAAX,yEAES,kBAACkB,GAAA,EAAD,8CAAmD,IAF5D,eAKA,kBAACxH,EAAA,EAAD,CAAMsG,OAAK,GAAX,8PAOA,kBAACtG,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,cAApB,gCAIA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,kCACkC,IAChC,kBAACkB,GAAA,EAAD,CAAMC,KAAK,kDAAX,sBAFF,mRAWA,kBAAC,GAAD,MACA,kBAACzH,EAAA,EAAD,CAAMsG,OAAK,GAAX,mHAMJ,kBAACnU,EAAA,EAAD,CAAOoR,KAAM,EAAGvQ,UAAWoO,IACzB,kBAAC,GAAD,KACE,kBAACpB,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,SAApB,4CAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,cAApB,2BAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,siBAWA,kBAACtG,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,cAApB,kBAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,sDACsD,IACpD,sCAFF,uCAEwD,IACtD,oDAHF,qDAImB,iEAJnB,0IAQA,kBAACtG,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,cAApB,oCAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,oUAcZ4H,GAAkBnc,KAAO,qB,SJhKb6b,O,yCAAAA,I,+CAAAA,I,6BAAAA,I,sBAAAA,Q,KAyBZ,IAaaW,GAAQpf,YAAY,CAC/BC,KAAM,QACNP,aAf+B,CAC/B2f,gBAAgB,EAChBD,MAAO,GACPE,cAAe,KACfC,gBAAgB,EAChBC,cAAc,EACdC,gBAAiB,KACjBC,mBAAoB,KACpBC,WAAY,KACZC,gBAAiB,KACjBC,aAAc,MAMd3f,SAAU,CACR4f,cAAe,SAAC1f,GACdA,EAAMkf,cAAgB,KACtBlf,EAAMif,gBAAiB,GAEzBU,gBAAiB,SAAC3f,EAAOC,GACvBD,EAAMif,gBAAiB,EACvBjf,EAAMgf,MAAQ/e,EAAOC,SAEvBgf,cAAe,SAAClf,EAAOC,GACrBD,EAAMkf,cAAgBjf,EAAOC,QAC7BF,EAAMif,gBAAiB,GAEzBW,gBAAiB,SAAC5f,GAChBA,EAAMqf,gBAAkB,KACxBrf,EAAMmf,gBAAiB,GAEzBU,kBAAmB,SAAC7f,EAAOC,GACzBD,EAAMmf,gBAAiB,EACvBnf,EAAMsf,mBAAqBrf,EAAOC,SAEpCmf,gBAAiB,SAACrf,EAAOC,GACvBD,EAAMqf,gBAAkBpf,EAAOC,QAC/BF,EAAMmf,gBAAiB,GAEzBW,gBAAiB,SAAC9f,GAChBA,EAAMmf,gBAAiB,EACvBnf,EAAMqf,gBAAkB,KACxBrf,EAAMsf,mBAAqB,MAE7BS,cAAe,SAAC/f,EAAOC,GACrBD,EAAMuf,WAAatf,EAAOC,SAE5B8f,gBAAiB,SAAChgB,GAChBA,EAAMuf,WAAN,2BACKvf,EAAMuf,YADX,IAEEha,UAAMC,KAGVya,aAAc,SAACjgB,GACbA,EAAMyf,aAAe,KACrBzf,EAAMof,cAAe,GAEvBc,eAAgB,SAAClgB,EAAOC,GACtBD,EAAMof,cAAe,EACrBpf,EAAMwf,gBAAkBvf,EAAOC,SAEjCuf,aAAc,SAACzf,EAAOC,GACpBD,EAAMyf,aAAexf,EAAOC,QAC5BF,EAAMof,cAAe,GAEvBe,aAAc,SAACngB,GACbA,EAAMyf,aAAe,KACrBzf,EAAMof,cAAe,EACrBpf,EAAMwf,gBAAkB,MAE1BY,kBAAmB,SAACpgB,GAClBA,EAAMyf,aAAe,S,GAoBvBT,GAAM7e,QAdRwf,G,GAAAA,gBACAD,G,GAAAA,cACAR,G,GAAAA,cACAU,G,GAAAA,gBACAC,G,GAAAA,kBACAR,G,GAAAA,gBACAS,G,GAAAA,gBACAC,G,GAAAA,cACAC,G,GAAAA,gBACAC,G,GAAAA,aACAC,G,GAAAA,eACAT,G,GAAAA,aACAU,G,GAAAA,aACAC,G,GAAAA,kBAGsBC,GAAiBrB,GAA1B3e,QAEFigB,GAAwB,SACnCtgB,GACsC,IACvBugB,EAAcvgB,EAAMgf,MAA3BA,MACFA,EAAyB,GACzBjZ,EAAwB,GAe9B,OAbAwa,EAAUva,SAAQ,SAACwa,GAAkC,IAC3Cta,EAAiCsa,EAAjCta,OAAeua,EAAkBD,EAAzBxB,MAChBjZ,EAAOK,KAAK,CACVC,IAAK,QAAUN,EAAOQ,OACtB1G,KAAMqG,EACNI,WAAY0Y,EAAMzY,OAClB0F,aAAa,EACbzF,MAAO,EACPC,MAAOga,EAAcla,SAEvByY,EAAM5Y,KAAN,MAAA4Y,EAAK,aAASyB,OAGT,CAACzB,EAAOjZ,IAGJ2a,GAAW,yDAAgB,WAAOxe,GAAP,eAAAT,EAAA,6DACtCS,EAASwd,MAD6B,kBAGfve,EAAQwf,aAAa,CACxC9Z,OAAQ+Z,0BAAwB7Z,OAJE,OAG9BC,EAH8B,OAMpC9E,EAASyd,GAAgB3Y,IANW,iEAQ9B/E,EAAmB,EAAD,GAAMC,EAAUgd,IARJ,yDAAhB,uD,UK1HlBlQ,GAAQpL,cAERiO,GAAkBnO,YAAY,CAClCoO,UAAW,IAGPkF,GAA0C,CAC9CzR,KAAM0R,KAAWC,YACjBnH,MAAO,cAGHoH,GAA0B,CAC9BC,YAAY,GAGRyJ,GAAsC,CAC1C,CACExa,IAAKya,oBAAkBC,MACvBpf,KAAM,eAER,CACE0E,IAAKya,oBAAkBE,MACvBrf,KAAM,kBAUJsf,GAA8B,CAClCC,MAAO,GACPviB,SAAU,GACVwiB,UAAWN,GAAiB,IAGjBO,GAAoD,SAAC,GAE3D,IADF/d,EACC,sBACoD+O,aACtD,SAACpS,GAAD,OAAsBA,EAAMgf,SADtBI,EADJ,EACIA,aAAcI,EADlB,EACkBA,gBAAiBC,EADnC,EACmCA,aAIjCvd,EAAWG,cALb,EAMwCgQ,oBAAkB,GAN1D,mBAMGiF,EANH,KAMmBC,EANnB,OAO0ClF,oBAAkB,GAP5D,mBAOGmF,EAPH,KAOoBC,EAPpB,OASoBpF,mBAAoB4O,IATxC,mBASGI,EATH,KASSC,EATT,KAWEC,EAAgBxO,uBACpB,SAACC,EAAsCQ,GACrC8N,EAAQ,2BACHD,GADE,IAELH,MAAK,OAAE1N,QAAF,IAAEA,IAAY,QAGvB,CAAC6N,IAGGG,EAAmBzO,uBACvB,SAACC,EAAsCQ,GACrC8N,EAAQ,2BACHD,GADE,IAEL1iB,SAAQ,OAAE6U,QAAF,IAAEA,IAAY,QAG1B,CAAC6N,IAGGI,EAAoB1O,uBACxB,SACEC,EACAC,GAEIA,GACFqO,EAAQ,2BACHD,GADE,IAELF,UAAWlO,OAIjB,CAACoO,IAGG3N,EAAeX,uBACnB,SAACQ,GL2GkB,IACrB2N,EACAviB,EACAwiB,EK7GI5N,EAAMI,iBACNzR,GL0GJgf,EKxGQG,EAAKH,MLyGbviB,EKxGQ0iB,EAAK1iB,SLyGbwiB,EKxGQE,EAAKF,UAAU9a,ILqGF,uCAIR,WAAOnE,GAAP,eAAAT,EAAA,6DACbS,EAAS+d,MADI,kBAGU9e,EAAQugB,YAAY,CACvCR,QACAviB,WACAgjB,WAAYR,IANH,OAGLna,EAHK,OAQX9E,EAASge,GAAelZ,IARb,iEAUL/E,EAAmB,EAAD,GAAMC,EAAUud,IAV7B,yDAJQ,0DKjGnB,CAACvd,EAAUmf,EAAKH,MAAOG,EAAK1iB,SAAU0iB,EAAKF,UAAU9a,MAGjDsR,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IAGIG,EAAoB3E,uBAAY,WACpC7Q,EAASie,MACTmB,EAAQL,MACP,CAAC/e,IAEEuR,EAA2BV,uBAC/B,SACEC,GAEA9Q,EAASke,QAEX,CAACle,IA4BH,OAzBAI,qBAAU,WACJkd,GAAmBlI,IAAmBE,GACxCD,GAAkB,KAEnB,CAACiI,EAAiBhI,EAAiBF,IAEtChV,qBAAU,WACHgV,GACHG,GAAmB,KAEpB,CAACH,IAEJhV,qBAAU,WACJkd,IACFtd,EAASwe,MACTxe,EAASsM,MACTtM,EAAS0K,SAEV,CAAC4S,EAAiBtd,IAErBI,qBAAU,WACR,OAAO,WACLJ,EAASie,SAEV,CAACje,IAEF,kBAACU,EAAA,EAAD,KACE,kBAACgV,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoBA,GACpBG,WAAYA,GACZW,SAAU,IACV5U,SAAU,IACV6U,YAAaL,GAEb,kBAAC,GAAD,KAAM8H,GACN,kBAAC,GAAD,KACE,kBAACxH,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGtC,kBAAC/U,EAAA,EAAD,eAAOE,IAAI,KAAK6M,YAAU,GAAKtM,GAC7B,kBAACT,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACpB,EAAA,EAAD,6FAIA,kBAAC,GAAD,CAAYyD,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,gHAGE,kBAAC6D,GAAA,EAAD,CAAMC,KAAK,KAAX,8BAHF,IAIE,6BACA,6BALF,MAMK,kBAACD,GAAA,EAAD,CAAMC,KAAK,KAAX,WANL,gEAQE,6BACA,6BATF,mDAWE,6BACA,6BAZF,6EAciB,kBAACD,GAAA,EAAD,CAAMC,KAAK,KAAX,WAdjB,UAiBF,kBAACtV,EAAA,EAAD,CACEE,IAAI,IACJD,GAAG,OACHmR,KAAM,EACNvQ,UAAWoO,GACXoC,SAAUP,GAET+L,GACC,kBAAC,GAAD,CACEvL,eAAgBC,IAAezU,MAC/B4Q,UAAWmD,EACX1E,uBAAuB,SAEtB0Q,GAGL,kBAACpK,EAAA,EAAD,CACE3N,MAAM,QACNnC,KAAK,QACL+P,UAAQ,EACRI,SAAU6L,EACVtW,MAAOoW,EAAKH,QAEd,kBAAC7L,EAAA,EAAD,CACE3N,MAAM,WACNnC,KAAK,WACL+P,UAAQ,EACRI,SAAU8L,EACVvW,MAAOoW,EAAK1iB,SACZ4W,YAAY,0EACZvS,OAAQ,CAAEuS,YAAY,eAAMvG,GAAMwG,MAAMC,UAE1C,kBAACoM,GAAA,EAAD,CACEna,MAAM,YACN4N,UAAQ,EACRU,QAAS6K,GACThM,YAAawM,EAAKF,UAAU9a,IAC5BqP,SAAU+L,IAEZ,kBAAC7e,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,CAAezS,KAAK,SAAS4P,SAAUiK,GAAvC,iBC/ONpI,GAA0C,CAC9CzR,KAAM0R,KAAWC,YACjBnH,MAAO,gBAYI+R,GAA6E,SAAC,GAOpF,IAAD,IANJjK,EAMI,EANJA,OACAvH,EAKI,EALJA,UACAiP,EAII,EAJJA,WACAJ,EAGI,EAHJA,eACAE,EAEI,EAFJA,gBACAC,EACI,EADJA,mBAEQ5gB,EAAa0T,aAAY,SAACpS,GAAD,OAAsBA,EAAM+hB,QAArDrjB,SAEFwD,EAAWG,cAHb,EAOAgQ,oBAAkB,GAPlB,mBAKF2P,EALE,KAMFC,EANE,KASEC,EAAmBnP,uBAAY,WAC/BuM,GACFpd,EAASwe,MAEXxe,EAAS4d,QACR,CAAC5d,EAAUod,IAER6C,EAAmBpP,uBAAY,WN8Jb,IAACsO,GM7JvB,OAAI9B,QAAJ,IAAIA,OAAJ,EAAIA,EAAY8B,OACdnf,GN4JqBmf,EM5JD9B,EAAW8B,KN4JX,uCAA8B,WACtDnf,GADsD,eAAAT,EAAA,6DAGtDS,EAAS0d,MAH6C,kBAK/Bze,EAAQihB,eAAe,CAC1ClB,MAAOG,EAAKH,QANsC,OAK9Cla,EAL8C,OAQpD9E,EAAS2d,GAAkB7Y,IARyB,iEAU9C/E,EAAmB,EAAD,GAAMC,EAAUmd,IAVY,yDAA9B,0DM1JrB,CAACnd,EAAUqd,IAERpI,EAAa,CACjBC,YAAY,EACZW,YAAamK,GAGTG,GAAmBxK,GAAUnZ,KAAQ,OAAK6gB,QAAL,IAAKA,GAAL,UAAKA,EAAY8B,YAAjB,aAAK,EAAkBH,OAKlE,OAHA5e,qBAAU,WACR2f,GAAiCI,KAChC,CAACJ,EAAiCI,IAEnC,oCACE,kBAACzK,GAAA,EAAD,CACEC,OAAQmK,EACRhL,mBAAoBA,GACpBG,WAAYA,GAEZ,kBAAC1G,EAAA,EAAD,6CACA,kBAAC,KAAD,KACE,kBAACuH,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASG,MAGtC,kBAAC,GAAD,CACE0G,mBAAoBA,GACpBG,WAAYA,EACZ7G,UAAWA,EACXoK,UAAWyE,EACXzf,MAAO2f,EACPxH,OAAQA,IAAWmK,EACnB/G,kBAAkB,UAClBC,eAAgBoE,EAChBtE,UAAWmH,GAEX,kBAACvf,EAAA,EAAD,CAAOE,IAAI,KACT,kBAAC2N,EAAA,EAAD,wCACmC,IACjC,uCAAS8O,QAAT,IAASA,GAAT,UAASA,EAAY8B,YAArB,aAAS,EAAkBH,OAF7B,KAIA,kBAACzQ,EAAA,EAAD,4JCnEJ6R,GAAwD,CAC5D/c,KAAM0R,KAAWC,YACjBnH,MAAO,gBAGIwS,GAAqF,SAAC,GAO5F,IAAD,IANJ1K,EAMI,EANJA,OACAvH,EAKI,EALJA,UACAiP,EAII,EAJJA,WACAJ,EAGI,EAHJA,eACAE,EAEI,EAFJA,gBACAC,EACI,EADJA,mBAEQ5gB,EAAa0T,aAAY,SAACpS,GAAD,OAAsBA,EAAM+hB,QAArDrjB,SAEFwD,EAAWG,cAHb,EAI4BgQ,mBAAiB,IAJ7C,mBAIG1T,EAJH,KAIa6jB,EAJb,KAKEN,EAAmBnP,uBAAY,WACnCyP,EAAY,IACRlD,GACFpd,EAASwe,MAEXxe,EAAS4d,QACR,CAAC5d,EAAUod,IAERkC,EAAmBzO,uBACvB,SAACC,EAAsCQ,GACrCgP,EAAW,OAAChP,QAAD,IAACA,IAAY,MAE1B,IAGIE,EAAeX,uBACnB,SAACQ,GACCA,EAAMI,kBACN,OAAI4L,QAAJ,IAAIA,OAAJ,EAAIA,EAAY8B,OACdnf,EPiIuB,SAC7Bmf,EACA1iB,GAF6B,8CAGhB,WAAOuD,GAAP,eAAAT,EAAA,6DACbS,EAAS0d,MADI,kBAGUze,EAAQshB,oBAAoB,CAC/CvB,MAAOG,EAAKH,MACZviB,SAAUA,IALD,OAGLqI,EAHK,OAOX9E,EAAS2d,GAAkB7Y,IAPhB,iEASL/E,EAAmB,EAAD,GAAMC,EAAUmd,IAT7B,yDAHgB,sDOjIdqD,CAAgBnD,EAAW8B,KAAM1iB,MAG9C,CAACuD,EAAUvD,EAAU4gB,IAEjBoD,EAAajkB,KAAQ,OAAK6gB,QAAL,IAAKA,GAAL,UAAKA,EAAY8B,YAAjB,aAAK,EAAkBH,OAClD,OACE,kBAACtJ,GAAA,EAAD,CACEC,OAAQA,EACRb,mBAAoBsL,GACpBnL,WAAY,CACVC,YAAY,EACZW,YAAamK,GAEfpK,SAAU,IACV5U,SAAU,KAEToc,GACC,oCACE,kBAAC,GAAD,KAAMA,GACN,kBAAC,GAAD,KACE,kBAACtH,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASG,OAItCgP,GACA,0BAAMrL,SAAUP,GACd,kBAAC9Q,EAAA,EAAD,CAAOE,IAAI,MACRuc,GACC,kBAAC,GAAD,CAAYnL,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1DiL,GAGL,kBAAC5O,EAAA,EAAD,CAAMsG,OAAK,GAAX,0BACyB,uCAASwI,QAAT,IAASA,GAAT,UAASA,EAAY8B,YAArB,aAAS,EAAkBH,QAEpD,kBAAC7L,EAAA,EAAD,CACE3N,MAAM,eACNnC,KAAK,WACL0F,MAAOtM,EACP2W,UAAQ,EACRI,SAAU8L,EACVjM,YAAY,0EACZvS,OAAQ,CAAEuS,YAAY,eAAM3R,cAAW4R,MAAMC,UAE9CkN,GACC,kBAAC,GAAD,CAAYzO,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,iHAMJ,kBAAC,GAAD,CAAcsG,UAAWyE,GACvB,kBAACnH,EAAA,EAAD,CACErW,KAAK,eACLwT,SAAUgK,EACV5Z,KAAK,WAEP,kBAAC8V,GAAA,EAAD,CACE1Z,KAAK,SACLwT,SAAUgK,EACVhP,QAASG,QC9GjBsS,GAA0D,CAC9Drd,KAAM0R,KAAWC,YACjBnH,MAAO,qBAWI8S,GAAiF,SAAC,GAMxF,IAAD,MALJC,EAKI,EALJA,gBACAvD,EAII,EAJJA,WACAJ,EAGI,EAHJA,eACAE,EAEI,EAFJA,gBACAC,EACI,EADJA,mBAEMpd,EAAWG,cAET3D,EAAa0T,aAAY,SAACpS,GAAD,OAAsBA,EAAM+hB,QAArDrjB,SAHJ,EAOA2T,oBAAkB,GAPlB,mBAKF0Q,EALE,KAMFC,EANE,KASEC,GACM,OAAV1D,QAAU,IAAVA,OAAA,EAAAA,EAAYha,QAAS8Y,GAAe6E,qBAEhCC,GACM,OAAV5D,QAAU,IAAVA,OAAA,EAAAA,EAAYha,QAAS8Y,GAAe+E,kBAEhCf,GACHY,GAA2BvkB,KAAQ,OAAK6gB,QAAL,IAAKA,GAAL,UAAKA,EAAY8B,YAAjB,aAAK,EAAkBH,OAEvDgB,EAAmBnP,uBAAY,WAC/BuM,GACFpd,EAASwe,MAEXxe,EAAS4d,QACR,CAAC5d,EAAUod,IAER+D,EAAuBtQ,uBAAY,WRuHH,IAACsO,GQtHrC,OAAI9B,QAAJ,IAAIA,OAAJ,EAAIA,EAAY8B,OACdnf,GRqHmCmf,EQrHD9B,EAAW8B,KRqHX,uCAA8B,WACpEnf,GADoE,eAAAT,EAAA,6DAGpES,EAAS0d,MAH2D,kBAK7Cze,EAAQmiB,wBAAwB,CACnDpC,MAAOG,EAAKH,MACZC,UAAWL,oBAAkBE,QAPmC,OAK5Dha,EAL4D,OASlE9E,EAAS2d,GAAkB7Y,IATuC,iEAW5D/E,EAAmB,EAAD,GAAMC,EAAUmd,IAX0B,yDAA9B,0DQnHnC,CAACnd,EAAUqd,IAERgE,EAAoBxQ,uBAAY,WRkGH,IAACsO,GQjGlC,OAAI9B,QAAJ,IAAIA,OAAJ,EAAIA,EAAY8B,OACdnf,GRgGgCmf,EQhGD9B,EAAW8B,KRgGX,uCAA8B,WACjEnf,GADiE,eAAAT,EAAA,6DAGjES,EAAS0d,MAHwD,kBAK1Cze,EAAQqiB,qBAAqB,CAChDtC,MAAOG,EAAKH,MACZC,UAAWL,oBAAkBE,QAPgC,OAKzDha,EALyD,OAS/D9E,EAAS2d,GAAkB7Y,IAToC,iEAWzD/E,EAAmB,EAAD,GAAMC,EAAUmd,IAXuB,yDAA9B,0DQ9FhC,CAACnd,EAAUqd,IAEdjd,qBAAU,WACR0gB,GAAgCX,KAC/B,CAACA,IAEJ,IAAMlL,EAAa,CACjBC,YAAY,EACZW,YAAamK,GAEf,OACE,oCACE,kBAACtK,GAAA,EAAD,CACEC,OAAQkL,EACR/L,mBAAoB4L,GACpBzL,WAAYA,GAEZ,kBAAC1G,EAAA,EAAD,6DACA,kBAAC,KAAD,KACE,kBAACuH,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAAS2S,OAGpCT,GACA,oCACE,kBAAC,GAAD,CACErL,mBAAoB4L,GACpBzL,WAAYA,EACZ7G,UAAWwS,EACXpI,UAAWyE,EACXzf,MAAO2f,EACPxH,OAAQoL,EACRjI,UAAWqI,EACXpI,kBAAkB,SAClBC,eAAgBoE,GAEhB,kBAAC7O,EAAA,EAAD,+DAC0D,IACxD,uCAAS8O,QAAT,IAASA,GAAT,UAASA,EAAY8B,YAArB,aAAS,EAAkBH,MAA3B,OAGJ,kBAAC,GAAD,CACElK,mBAAoB4L,GACpBzL,WAAYA,EACZ7G,UAAWwS,EACXpI,UAAWyE,EACXzf,MAAO2f,EACPxH,OAAQsL,EACRnI,UAAWuI,EACXtI,kBAAkB,MAClBC,eAAgBoE,GAEhB,kBAAC7O,EAAA,EAAD,4DACuD,IACrD,uCAAS8O,QAAT,IAASA,GAAT,UAASA,EAAY8B,YAArB,aAAS,EAAkBH,MAA3B,UCxHDuC,GAA2C,WAAO,IAAD,EAMxDrR,aAAY,SAACpS,GAAD,OAAsBA,EAAMgf,SAJ1CG,EAF0D,EAE1DA,eACAE,EAH0D,EAG1DA,gBACAC,EAJ0D,EAI1DA,mBACAC,EAL0D,EAK1DA,WAGIrd,EAAWG,cAEXygB,EAAkB/P,uBAAY,WAClC7Q,EAAS8d,QACR,CAAC9d,IAOJ,OACE,oCACE,kBAAC,GAAD,CACE4gB,gBAAiBA,EACjBvD,WAAYA,EACZJ,eAAgBA,EAChBE,gBAAiBA,EACjBC,mBAAoBA,IAEtB,kBAAC,GAAD,CACEzH,QAAkB,OAAV0H,QAAU,IAAVA,OAAA,EAAAA,EAAYha,QAAS8Y,GAAemE,YAC5ClS,UAAWwS,EACXvD,WAAYA,EACZJ,eAAgBA,EAChBE,gBAAiBA,EACjBC,mBAAoBA,IAEtB,kBAAC,GAAD,CACEzH,QAAkB,OAAV0H,QAAU,IAAVA,OAAA,EAAAA,EAAYha,QAAS8Y,GAAeqF,QAC5CpT,UAAWwS,EACXvD,WAAYA,EACZJ,eAAgBA,EAChBE,gBAAiBA,EACjBC,mBAAoBA,MCxCfqE,GAAyE,SAAC,GAEhF,IADLtC,EACI,EADJA,KAEMnf,EAAWG,cACXga,EAAWtJ,uBACf,SAACxN,GACCrD,EACE6d,GAAc,CACZsB,OACA9b,YAIN,CAACrD,EAAUmf,IAEb,OACE,kBAACxR,GAAA,EAAD,CACEyM,cAAe,CACbpM,SAAU,gBAEZlN,OAAQ,CACNuZ,SAAU,CACRC,WAAY,SAGhBjM,KAAK,SACLkM,iBAAe,EACfC,aAAW,eACXC,UAAW,CACTC,gBAAiBC,KAAgBC,gBACjCzC,MAAO,CACLgH,EAAKM,WAAWiC,SAAS9C,oBAAkBE,OACvC,CACE3a,IAAK,cACL1E,KAAM,yBACNwO,QAAS,kBACPkM,EAASgC,GAAe6E,wBAE5B,CACE7c,IAAK,YACL1E,KAAM,aACNwO,QAAS,kBAAYkM,EAASgC,GAAe+E,qBAEnD,CACE/c,IAAK,cACL1E,KAAM,eACNwO,QAAS,kBAAYkM,EAASgC,GAAemE,eAE/C,CACEnc,IAAK,iBACL1E,KAAM,kBACNwO,QAAS,kBAAYkM,EAASgC,GAAeqF,gBC5CnD3G,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,gBACNiY,SAAU,IACV1D,aAAa,EACb4I,aAAa,EACbC,UAAW,QACXC,SAAU,SAAC/J,GACT,IAAMnQ,EACJmQ,EAAKzR,SAAWmiB,iBAAeC,SAC3B,CACE7gB,KAAM,CACJ8gB,eAAgB,iBAGpB,GACN,OACE,oCACE,kBAACtT,EAAA,EAAD,CAAMzN,OAAQA,GAASmQ,EAAK+N,OAC3B/N,EAAKzR,SAAWmiB,iBAAeC,UAAY3Q,EAAK6Q,QAC/C,kBAAC,GAAD,CACE9P,eAAgBC,IAAe7C,KAC/B8C,aAAW,EACXpR,OAAQ,CAAEC,KAAM,CAAEO,UAAW,MAH/B,+HAM6D,IAC3D,8BAAO2P,EAAK6Q,SAPd,oBASE,QAKZ,CACE3d,IAAK,UACLxG,KAAM,YACNiY,SAAU,GACV1D,aAAa,EACb8I,SAAU,SAACmE,GACT,OAAOA,EAAK3f,SAAWmiB,iBAAeI,OACpC,kBAACxT,EAAA,EAAD,KACG4Q,EAAKM,WAAWpb,OACf,gCAAS8a,EAAKM,WAAWrW,KAAK,OAE9B,UAGF,OAGR,CACEjF,IAAK,UACLxG,KAAM,UACNiY,SAAU,GACV1D,aAAa,EACb8I,SAAU,SAACmE,GACT,OAAOA,EAAK3f,SAAWmiB,iBAAeI,OACpC,kBAAC,GAAD,CAAqB5C,KAAMA,IACzB,MAEN5d,UAAWC,YAAY,CACrB8Z,YAAa,8BASN0G,GAET,SAAC,GAAqC,IAAnC5L,EAAkC,EAAlCA,kBAAsBjV,EAAY,wCACf+O,YAAYkO,IADG,mBAChCtB,EADgC,KACzBjZ,EADyB,KAEvC,OACE,kBAACnD,EAAA,EAAD,eAAOC,GAAG,WAAcQ,GACtB,kBAAC,GAAD,MACA,kBAAC,GAAD,CACEiV,kBAAmBA,EACnB+B,MAAO2E,EACPjZ,OAAQA,EACRgX,QAASA,OCpFXoH,GAAyC,WAAO,IAAD,EACF/R,aAC/C,SAACpS,GAAD,OAAsBA,EAAMgf,SADtBC,EAD2C,EAC3CA,eAAgBD,EAD2B,EAC3BA,MAAOE,EADoB,EACpBA,cAGzB5G,EAAoBjG,mBAAmB,IAJM,EAK7B4L,cAAdzb,EAL2C,EAK3CA,KAAM0b,EALqC,EAKrCA,IAERhc,EAAWG,cAOjB,OALAC,qBAAU,WACH0c,EAAMzY,QACTrE,EAASwe,QAEV,CAACxe,EAAU8c,EAAMzY,SAElB,oCACE,kBAAC,GAAD,KACE,kBAACyO,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,wBACpC,kBAACD,GAAA,EAAD,CAAW3B,QAAO,UAAK6K,EAAL,QAAgBjJ,WAAW,qBAE/C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GACjB,kBAAC,GAAD,KACG0c,GACC,kBAAC,GAAD,CAAYhL,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1D8K,GAGJD,GACC,kBAAC,GAAD,CACE/X,aAAa,mBACbC,UAAWpI,QAAQigB,EAAMzY,WAG3B2Y,GAAiBngB,QAAQigB,EAAMzY,SAC/B,kBAAC,GAAD,CAAe+R,kBAAmBA,MAIxC,kBAAC,IAAD,CAAO6F,OAAK,EAAC3b,KAAI,UAAKA,EAAL,SACf,kBAAC,GAAD,UAOG4hB,GAET,WACF,OACE,kBAAC,GAAD,KACE,kBAACxhB,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,OACN0E,IAAK,UAEP,CACE1E,KAAM,QACN0E,IAAK,QACLxD,GAAI,UAKZ,kBAAC,GAAD,KACE,kBAAC,GAAD,SAMRuhB,GAAW5hB,KAAO,cC7ElB,IAAMwM,GAAQpL,cAORyW,GAAgC,CACpC,CACEpH,OAAQ,WACRhI,MAAM,WAAD,OAAaqT,GAAOC,SAApB,oBAEP,CACEtL,OAAQ,WACRhI,MAAM,WAAD,OAAaqT,GAAOC,SAApB,qBAIHxB,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,GACV5U,SAAU,GACV8Z,aAAa,EACbE,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,KACE,gCAAS0C,EAAKF,WAKtB,CACE5M,IAAK,UACLxG,KAAM,mBACNiY,SAAU,IACVkF,aAAa,EACb5I,aAAa,EACb8I,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,KACE,kBAACwH,GAAA,EAAD,CAAMC,KAAM/E,EAAKlI,OAAQkI,EAAKlI,WAO3BoZ,GAA2C,WACtD,OACE,kBAAC5K,GAAA,EAAD,CACEzW,OAAQ,CACNC,KAAM,CACJO,UAAW,IAAMwL,GAAMgC,QAAQiF,IAGnCwI,SAAO,EACPpE,MAAOA,GACP0C,QAASA,GACTrD,WAAYC,KAAsBC,UAClCO,iBAAe,EACfC,mBAAoB,kBAAe,GACnCP,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,yBCjE7BlL,GAAQpL,cAORyW,GAA6B,CACjC,CACEpH,OAAQ,wBACRhI,MACE,kBAACwF,EAAA,EAAD,KACE,kBAACwH,GAAA,EAAD,CAAMC,KAAK,qEAAX,YAEQ,IAHV,eAIe,IACb,kBAACD,GAAA,EAAD,CAAMC,KAAK,qDAAX,QALF,MAYJ,CACEjF,OAAQ,gBACRhI,MACE,kBAACwF,EAAA,EAAD,KACE,kBAACwH,GAAA,EAAD,CAAMC,KAAK,uEAAX,0BAEQ,IAHV,WAQJ,CACEjF,OAAQ,gBACRhI,MACE,kBAACwF,EAAA,EAAD,KACE,kBAACwH,GAAA,EAAD,CAAMC,KAAK,qEAAX,eAEQ,IAHV,aAUA6E,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,GACV5U,SAAU,IACV8Z,aAAa,EACbE,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,KACE,gCAAS0C,EAAKF,WAKtB,CACE5M,IAAK,UACLxG,KAAM,mBACNiY,SAAU,IACVkF,aAAa,EACb5I,aAAa,EACb6I,UAAW,UAIFqH,GAA0C,WACrD,OACE,kBAAC7K,GAAA,EAAD,CACEzW,OAAQ,CACNC,KAAM,CACJO,UAAW,IAAMwL,GAAMgC,QAAQiF,IAGnCwI,SAAO,EACPpE,MAAOA,GACP0C,QAASA,GACTrD,WAAYC,KAAsBC,UAClCO,iBAAe,EACfC,mBAAoB,kBAAe,GACnCP,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,yBCnF7BG,GAA6B,CACjC,CACEpH,OAAQ,eACRhI,MAAO,qBAET,CACEgI,OAAQ,cACRhI,MAAOqT,GAAOC,UAEhB,CACEtL,OAAQ,UACRhI,MAAO,OAET,CACEgI,OAAQ,WACRhI,MAAO,+BAET,CACEgI,OAAQ,WACRhI,MAAO,uBAIL8R,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,GACV5U,SAAU,IACV8Z,aAAa,EACbE,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,KACE,gCAAS0C,EAAKF,WAKtB,CACE5M,IAAK,UACLxG,KAAM,mBACNiY,SAAU,IACVkF,aAAa,EACb5I,aAAa,EACb8I,SAAU,SAAC/J,GACT,OAAO,kBAAC1C,EAAA,EAAD,KAAO0C,EAAKlI,UAKZsZ,GAAkD,WAC7D,OACE,kBAAC9K,GAAA,EAAD,CACEgF,SAAO,EACPpE,MAAOA,GACP0C,QAASA,GACT5C,iBAAiB,EACjBT,WAAYC,KAAsBC,UAClCQ,mBAAoB,kBAAe,GACnCP,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,yBC3D7BrI,GAAkBnO,YAAY,CAClCoO,UAAW,IAGA0S,GAET,WACF,IAAM5F,EAAYlP,aAAM,WACxB,OACE,kBAAC,GAAD,KACE,kBAAC9M,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,sCACN0E,IAAK,YACLxD,GAAI,SAIV,kBAACgc,GAAA,EAAD,CACEC,QAAQ,sFACRhP,GAAI8O,GAEJ,kBAACvD,GAAA,EAAD,CAAepL,UAAW,CAAEC,SAAU,aAAtC,yBAKJ,kBAACtN,EAAA,EAAD,CAAO+M,YAAU,EAAC7M,IAAI,MACpB,kBAACF,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAAC,GAAD,KACE,kBAACpB,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,SAApB,mBAGA,kBAACtO,EAAA,EAAD,CAAMsG,OAAK,GAAX,kEAGA,kBAAC,GAAD,MACA,kBAACtG,EAAA,EAAD,6CACuC,kBAACwH,GAAA,EAAD,CAAMC,KAAK,KAAX,QADvC,2DAMJ,kBAACtV,EAAA,EAAD,CAAOoR,KAAM,EAAGvQ,UAAWoO,IACzB,kBAAC,GAAD,KACE,kBAACpB,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,SAApB,yBAGA,kBAACtO,EAAA,EAAD,2BACqB,kBAACwH,GAAA,EAAD,CAAMC,KAAK,KAAX,QADrB,6FAKA,kBAACzH,EAAA,EAAD,6GAIA,kBAAC,GAAD,MACA,kBAACA,EAAA,EAAD,oCACA,kBAAC,GAAD,WAQZ+T,GAAehiB,KAAO,cCjEtB,ICTYiiB,GD8BNC,GAAgB9kB,YAAY,CAChCC,KAAM,UACNP,aAvBuC,CACvC2N,iBAAiB,EACjB0X,iBAAiB,EACjBC,kBAAkB,EAClBljB,OAAQ,CACNmjB,QAAS,GACTC,kBAAmB,GAErBxG,OAAQ,CACNyG,UAAW,GACXC,oBAAqB,GACrBC,aAAc,EACdC,UAAW,GACX7U,OAAQ,IAEV8U,qBAAsB,KACtB3X,eAAgB,KAChB4X,eAAgB,KAChBC,kBAAmB,MAMnBvlB,SAAU,CACRwlB,eAAgB,SAACtlB,GACfA,EAAMwN,eAAiB,KACvBxN,EAAMiN,iBAAkB,GAE1BsY,iBAAkB,SAACvlB,EAAOC,GACxBD,EAAMiN,iBAAkB,EACxBjN,EAAM0B,OAASzB,EAAOC,SAExBsN,eAAgB,SAACxN,EAAOC,GACtBD,EAAMwN,eAAiBvN,EAAOC,QAC9BF,EAAMiN,iBAAkB,GAE1BuY,eAAgB,SAACxlB,GACfA,EAAMolB,eAAiB,KACvBplB,EAAM2kB,iBAAkB,GAE1Bc,iBAAkB,SAACzlB,EAAOC,GACxBD,EAAM2kB,iBAAkB,EACxB3kB,EAAMse,OAASre,EAAOC,SAExBklB,eAAgB,SAACplB,EAAOC,GACtBD,EAAMolB,eAAiBnlB,EAAOC,QAC9BF,EAAM2kB,iBAAkB,GAE1Be,kBAAmB,SAAC1lB,GAClBA,EAAMqlB,kBAAoB,KAC1BrlB,EAAM4kB,kBAAmB,GAE3Be,oBAAqB,SAAC3lB,EAAOC,GAC3BD,EAAM4kB,kBAAmB,EACzB5kB,EAAMmlB,qBAAuBllB,EAAOC,SAEtCmlB,kBAAmB,SAACrlB,EAAOC,GACzBD,EAAMqlB,kBAAoBplB,EAAOC,QACjCF,EAAM4kB,kBAAmB,GAE3BgB,uBAAwB,SAAC5lB,GACvBA,EAAMqlB,kBAAoB,MAE5BQ,kBAAmB,SAAC7lB,GAClBA,EAAMqlB,kBAAoB,KAC1BrlB,EAAM4kB,kBAAmB,EACzB5kB,EAAMmlB,qBAAuB,S,GAiB/BT,GAAcvkB,QAXhBolB,G,GAAAA,iBACAD,G,GAAAA,eACA9X,G,GAAAA,eACAgY,G,GAAAA,eACAC,G,GAAAA,iBACAL,G,GAAAA,eACAM,G,GAAAA,kBACAC,G,GAAAA,oBACAN,G,GAAAA,kBACAO,G,GAAAA,uBACAC,G,GAAAA,kBAGsBC,GAAyBpB,GAAlCrkB,QAEF0lB,GAAY,yDAAgB,WAAO7jB,GAAP,eAAAT,EAAA,6DACvCS,EAASojB,MAD8B,kBAGhBzkB,EAAUmlB,wBAHM,OAG/Bhf,EAH+B,OAIrC9E,EAASqjB,GAAiBve,IAJW,iEAM/B/E,EAAmB,EAAD,GAAMC,EAAUsL,IANH,yDAAhB,wD,SCjGbiX,K,UAAAA,E,cAAAA,E,cAAAA,E,SAAAA,Q,KCJL,IAAMwB,GAAsE,SAAC,GAI7E,IAHLC,EAGI,EAHJA,aACAC,EAEI,EAFJA,gBACAC,EACI,EADJA,eACI,EACoB/T,mBACtBgU,OAAOH,EAAajB,eAFlB,mBACGqB,EADH,KACSC,EADT,KAIEC,EAAezT,uBACnB,SACEC,EACAQ,GAEA+S,EAAQ/S,KAEV,IAEIiT,EAAoB1S,mBACxB,kBAAMpD,GAAuBwV,KAC7B,CAACA,IAYH,OATA7jB,qBAAU,WACR8jB,EAAe,CACb/V,OAAQoU,GAAWiC,MACnBC,WAAY,GACZC,WAAY,GACZC,OAAQC,OAAOR,IAAS,MAEzB,CAACA,EAAMF,IAGR,kBAAC/Q,EAAA,EAAD,CACEpK,MAAOqb,EACP5e,MAAM,OACNqf,IAAK,EACLC,KAAM,EACNzhB,KAAK,SACL+P,UAAQ,EACRQ,cAAe2Q,EACfzjB,OAAQ4N,GACR8E,SAAU8Q,KCxCHS,GAAiE,SAAC,GAExE,IADL3I,EACI,EADJA,OAEA,OACE,oCACE,kBAAC7N,EAAA,EAAD,6JAGE,8BAAO6N,EAAO0G,qBAHhB,uFAMA,kBAAC,GAAD,CAAY9Q,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,+CAC+C,IAC7C,8BAAOkK,EAAOyG,WAFhB,sFCXOmC,GAAsE,SAAC,GAK7E,IAAD,EAJJhB,EAII,EAJJA,aACAiB,EAGI,EAHJA,cACAhB,EAEI,EAFJA,gBACAC,EACI,EADJA,eAEMgB,EAAaD,EACfjB,EAAa7V,OAAOgX,UAAU,GAAGvoB,MAAM,MACvC,GACEwoB,EAAkBH,IACpB,UAAAC,EAAWG,eAAX,eAAoBzoB,MAAM,OAC1B,GACE0oB,EAAkBL,EAAgBG,EAAgB,GAAK,GACvDG,EAAkBN,EAAgBG,EAAgB,GAAK,GACvDI,EAAcP,EAAa,WAAOC,EAAW,IAAO,GATtD,EAWoB/U,mBACtBgU,OAAOH,EAAajB,eAZlB,mBAWGqB,EAXH,KAWSC,EAXT,OAc4BlU,mBAA6BoV,GAdzD,mBAcGlJ,EAdH,KAcaoJ,EAdb,OAeoBtV,mBAA6BqV,GAfjD,mBAeGllB,EAfH,KAeSolB,EAfT,OAgB4BvV,mBAA6BmV,GAhBzD,mBAgBG9oB,EAhBH,KAgBampB,EAhBb,KAkBErB,EAAezT,uBACnB,SACEC,EACAQ,GAEA+S,EAAQ/S,KAEV,IAGIsU,EAAmB/U,uBACvB,SACEC,EACAQ,GAEAmU,EAAYnU,KAEd,IAGIuU,EAAehV,uBACnB,SACEC,EACAQ,GAEAoU,EAAQpU,KAEV,IAEIwU,EAAmBjV,uBACvB,SACEC,EACAQ,GAEAqU,EAAYrU,KAEd,IAGIiT,EAAoB1S,mBACxB,kBAAMpD,GAAuBwV,KAC7B,CAACA,IAGG8B,EAAsBlU,mBAC1B,kBACEpD,GACE,6FACyD,IACvD,wDAFF,iLAOJ,IAYF,OATArO,qBAAU,WACR8jB,EAAe,CACb/V,OAAO,WAAD,OAAa3R,EAAb,YAAyB6f,EAAzB,YAAqC/b,GAC3CmkB,WAAY,GACZC,WAAY,GACZC,OAAQC,OAAOR,IAAS,MAEzB,CAACA,EAAM/H,EAAU6H,EAAgB5jB,EAAM9D,IAGxC,oCACE,kBAAC2W,EAAA,EAAD,CACEpK,MAAOsT,EACP7W,MAAM,WACN4N,UAAQ,EACRjE,YAAY,iBACZqE,SAAUoS,IAEZ,kBAACzS,EAAA,EAAD,CACEpK,MAAOzI,EACPkF,MAAM,OACN4N,UAAQ,EACRjE,YAAW,mBAAciN,GAAOC,UAChC7I,SAAUqS,IAEZ,kBAAC1S,EAAA,EAAD,CACEpK,MAAOvM,EACPgJ,MAAM,WACN4N,UAAQ,EACRI,SAAUsS,IAEZ,kBAAC3S,EAAA,EAAD,CACEpK,MAAOib,EAAahB,UACpBxd,MAAM,iBACN4N,UAAQ,EACR4S,UAAQ,EACRpS,cAAemS,EACfjlB,OAAQ4N,KAEV,kBAACyE,EAAA,EAAD,CACEpK,MAAOqb,EACP5e,MAAM,OACNqf,IAAK,EACLC,KAAM,EACNzhB,KAAK,SACL+P,UAAQ,EACRQ,cAAe2Q,EACfzjB,OAAQ4N,GACR8E,SAAU8Q,MChIL2B,GAAiE,SAAC,GAExE,IADL7J,EACI,EADJA,OAEA,OACE,oCACE,kBAAC7N,EAAA,EAAD,sFAEY,8BAAO6N,EAAO0G,qBAF1B,oEAKA,kBAAC,GAAD,CAAY9Q,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,+CAC+C,IAC7C,8BAAOkK,EAAOyG,WAFhB,sFCXAqD,GAAkB,CACtB,CAAE/hB,IAAK,6BAA8B1E,KAAM,aAC3C,CACE0E,IAAK,kCACL1E,KAAM,kBAER,CACE0E,IAAK,iCACL1E,KAAM,iBAER,CACE0E,IAAK,8BACL1E,KAAM,cAER,CACE0E,IAAK,6BACL1E,KAAM,aAER,CACE0E,IAAK,gCACL1E,KAAM,gBAER,CACE0E,IAAK,kCACL1E,KAAM,kBAER,CACE0E,IAAK,6BACL1E,KAAM,aAER,CACE0E,IAAK,kCACL1E,KAAM,kBAER,CACE0E,IAAK,kCACL1E,KAAM,kBAER,CACE0E,IAAK,6BACL1E,KAAM,aAER,CACE0E,IAAK,mBACL1E,KAAM,aAER,CACE0E,IAAK,6BACL1E,KAAM,aAER,CACE0E,IAAK,6BACL1E,KAAM,aAER,CACE0E,IAAK,gCACL1E,KAAM,gBAER,CACE0E,IAAK,iCACL1E,KAAM,cAER,CACE0E,IAAK,QACL1E,KAAM,UAIG0mB,GAAmE,SAAC,GAK1E,IAJLnC,EAII,EAJJA,aACAiB,EAGI,EAHJA,cACAhB,EAEI,EAFJA,gBACAC,EACI,EADJA,eAEMkC,EAAoBnB,EACtBjB,EAAa7V,OAAOgX,UAAU,GAAGvoB,MAAM,KACvC,GACEypB,EAAgBpB,EAAgBmB,EAAkBf,QAAU,GAC5DiB,EAAgBJ,GAAgBK,MACpC,SAACC,GAAD,OAAkBA,EAAariB,MAAQkiB,KANrC,EASoBlW,oBACE,WAAV,OAAbmW,QAAa,IAAbA,OAAA,EAAAA,EAAeniB,KAAkB,GAAjC,OAAsCmiB,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAeniB,MAAQ,IAV5D,mBASGsiB,EATH,KASSC,EATT,OAawBvW,mBAC1BmW,GAdE,mBAaGK,EAbH,KAaWC,EAbX,OAgBoBzW,mBACtBgU,OAAOH,EAAajB,eAjBlB,mBAgBGqB,EAhBH,KAgBSC,EAhBT,OAmBoBlU,mBACtBiW,EAAkBhd,KAAK,MApBrB,mBAmBG9I,EAnBH,KAmBSolB,EAnBT,OAsB8BvV,qBAtB9B,mBAsBG0W,EAtBH,KAsBcC,EAtBd,OAuB0C3W,qBAvB1C,mBAuBG4W,EAvBH,KAuBoBC,EAvBpB,KAyBEC,EAAiBpW,uBACrB,SACEC,EACAC,GAEA6V,EAAU7V,GACV2V,GAA0B,WAAV,OAAN3V,QAAM,IAANA,OAAA,EAAAA,EAAQ5M,KAAkB,GAA1B,OAA+B4M,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAQ5M,MAAQ,MAE3D,IAGI0hB,EAAehV,uBACnB,SAACC,EAAsCQ,GACrCoU,EAAO,OAACpU,QAAD,IAACA,IAAY,MAEtB,IAGI4V,EAAoBrW,uBACxB,SAACC,EAAsCQ,GACrCwV,EAAY,OAACxV,QAAD,IAACA,IAAY,MAE3B,IAGI6V,EAA0BtW,uBAC9B,SAACC,EAAsCQ,GACrC0V,EAAkB,OAAC1V,QAAD,IAACA,IAAY,MAEjC,IAGIgT,EAAezT,uBACnB,SAACC,EAAsCQ,GACrC+S,EAAO,OAAC/S,QAAD,IAACA,IAAY,MAEtB,IAGI8V,EAAevW,uBACnB,SAACC,EAAsCQ,GACrCoV,EAAO,OAACpV,QAAD,IAACA,IAAY,MAEtB,IAGIiT,EAAoB1S,mBACxB,kBAAMpD,GAAuBwV,KAC7B,CAACA,IAYH,OATA7jB,qBAAU,WACR8jB,EAAe,CACb/V,OAAO,QAAD,OAAUsY,EAAV,YAAkBnmB,GACxBmkB,WAAYoC,GAAa,GACzBnC,WAAYqC,GAAmB,GAC/BpC,OAAQC,OAAOR,IAAS,MAEzB,CAACyC,EAAWzC,EAAMqC,EAAMvC,EAAgB5jB,EAAMymB,IAG/C,oCACE,kBAACpH,GAAA,EAAD,CACEna,MAAM,YACNsO,QAASoS,GACTvT,YAAW,OAAEgU,QAAF,IAAEA,OAAF,EAAEA,EAAQxiB,IACrBiP,UAAQ,EACRI,SAAUyT,IAEZ,kBAAC9T,EAAA,EAAD,CACE3N,MAAM,qBACN4N,UAAQ,EACRrK,MAAO0d,EACPjT,SAAU4T,EACVjY,YAAY,aAEd,kBAACgE,EAAA,EAAD,CACE3N,MAAM,UACN4N,UAAQ,EACRrK,MAAOzI,EACP6O,YAAY,oCACZqE,SAAUqS,IAEZ,kBAAC1S,EAAA,EAAD,CACE3N,MAAM,gBACN4N,UAAQ,EACRrK,MAAO8d,EACPrT,SAAU0T,IAEZ,kBAAC/T,EAAA,EAAD,CACE3N,MAAM,uBACN4N,UAAQ,EACRrK,MAAOge,EACPvT,SAAU2T,IAEZ,kBAAChU,EAAA,EAAD,CACEpK,MAAOqb,EACP5e,MAAM,OACNqf,IAAK,EACLC,KAAM,EACNzhB,KAAK,SACL+P,UAAQ,EACRQ,cAAe2Q,EACfzjB,OAAQ4N,GACR8E,SAAU8Q,MCzML+C,GAA2D,SAAC,GAElE,IADLjL,EACI,EADJA,OAEA,OACE,oCACE,kBAAC7N,EAAA,EAAD,sGAIA,kBAAC,GAAD,CAAYyD,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,sDACsD,IACpD,8BAAOkK,EAAOyG,WAFhB,iICoBAlT,GAAkBnO,YAAY,CAClCoO,UAAW,IAGP0X,GAAmC,CACvC,CACEnjB,IAAKoe,GAAWgF,IAChB9nB,KAAM,6BAER,CACE0E,IAAKoe,GAAWiC,MAChB/kB,KAAM2c,GAAOC,UAEf,CACElY,IAAKoe,GAAWiF,MAChB/nB,KAAM,SAER,CACE0E,IAAKoe,GAAWkF,GAChBhoB,KAAM,cAIJwkB,GACJ,sUAgBK,IAAMyD,GAET,SAAC,GAA6C,EAA3C/E,QAA2C,EAAlCC,kBAAmC,IAfjDxG,EAeoCjb,EAAY,kDAM5C+O,aAAY,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAOhF,WAJjDQ,EAF8C,EAE9CA,kBACAF,EAH8C,EAG9CA,qBACAP,EAJ8C,EAI9CA,iBACQsB,EALsC,EAK9C5H,OAGIpc,EAAWG,cAR+B,EASJgQ,oBAAkB,GATd,mBASzCiF,EATyC,KASzBC,EATyB,OAUFlF,oBAAkB,GAVhB,mBAUzCmF,EAVyC,KAUxBC,EAVwB,KAY1CqS,GA3BNxL,EA2BiC4H,GAzBtB7V,SAAW,UAAYiO,EAAO0G,oBAChCP,GAAWiC,MACS,QAAlBpI,EAAOjO,OACToU,GAAWgF,IACyB,aAAlCnL,EAAOjO,OAAOgX,UAAU,EAAG,GAC7B5C,GAAWiF,MACyB,UAAlCpL,EAAOjO,OAAOgX,UAAU,EAAG,GAC7B5C,GAAWkF,QADb,EAoBDI,EAAuBP,GAAcf,MACzC,SAACxV,GAAD,OAAYA,EAAO5M,MAAQyjB,KAdmB,EAgBRzX,mBACtC0X,GAjB8C,mBAgBzCC,EAhByC,KAgB3BC,EAhB2B,OAmBI5X,qBAnBJ,mBAmBzC6X,EAnByC,KAmBrBC,EAnBqB,KAuB1CzS,EAAoB3E,uBAAY,WACP,OAAzBoS,GACFjjB,EAAS6jB,MAEX7jB,EAAS2jB,QACR,CAAC3jB,EAAUijB,IAERxN,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IAGI6S,EAAuBrX,uBAC3B,SACEC,EACAC,GAEAgX,EAAgBhX,KAElB,IAGIoX,EAAuBtX,uBAC3B,SAACuL,GACC6L,EAAsB7L,KAExB,IAGI5K,EAAeX,uBACnB,SAACQ,GACCA,EAAMI,iBACFuW,GACFhoB,ERToB,SAC1Boc,GAD0B,8CAEgC,WAC1Dpc,GAD0D,eAAAT,EAAA,6DAG1DS,EAASwjB,MAHiD,kBAKnC7kB,EAAUypB,yBAAyBhM,GALA,OAKlDtX,EALkD,OAMxD9E,EAASyjB,GAAoB3e,IAN2B,iEAQlD/E,EAAmB,EAAD,GAAMC,EAAUmjB,IARgB,yDAFhC,sDQSXkF,CAAaL,MAG1B,CAAChoB,EAAUgoB,IAGPM,EAAsBzX,uBAC1B,SACEC,GAEA9Q,EAAS0jB,QAEX,CAAC1jB,IAgCH,OA7BAI,qBAAU,WACJ6iB,GAAwB7N,IAAmBE,GAC7CD,GAAkB,KAEnB,CAAC4N,EAAsB3N,EAAiBF,IAE3ChV,qBAAU,WACHgV,GACHG,GAAmB,KAEpB,CAACH,IAEJhV,qBAAU,WACR,OAAO,WACLJ,EAAS2jB,SAEV,CAAC3jB,IAEJI,qBAAU,YACQ,OAAZ0nB,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWgF,KACnCU,EAAsB,CACpB9Z,OAAQoU,GAAWgF,IACnB9C,WAAY,GACZC,WAAY,GACZC,OAAQX,EAAajB,cAAgB,MAGxC,CAACiB,EAAajB,aAAc+E,IAG7B,kBAACpnB,EAAA,EAAD,eAAOC,GAAG,UAAUC,IAAI,KAAK6M,YAAU,GAAKtM,GAC1C,kBAACuU,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,wBAEToH,WAAY,CACVC,YAAY,GAEdU,SAAU,IACV5U,SAAU,IACV6U,YAAaL,GAEZyN,EACD,kBAAC,KAAD,KACE,kBAACnN,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGtC,kBAAC/U,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACgQ,GAAA,EAAD,CACEna,MAAM,YACNsO,QAASwT,GACT3U,YAAW,OAAEmV,QAAF,IAAEA,OAAF,EAAEA,EAAc3jB,IAC3BiP,UAAQ,EACRI,SAAU0U,KAEC,OAAZJ,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWiC,OAChC,kBAAC,GAAD,CAAiBpI,OAAQ4H,KAEd,OAAZ8D,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWiF,OAChC,kBAAC,GAAD,CAAiBpL,OAAQ4H,KAEd,OAAZ8D,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWkF,IAChC,kBAAC,GAAD,CAAcrL,OAAQ4H,KAG1B,kBAACtjB,EAAA,EAAD,CACEE,IAAI,IACJkR,KAAM,EACNvQ,UAAWoO,GACXjC,eAA2B,OAAZoa,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWgF,IAAM,MAAQ,QAC9D5mB,GAAG,OACHoR,SAAUP,GAET2R,GACC,kBAAC,GAAD,CACEnR,eAAgBC,IAAezU,MAC/B4Q,UAAWka,GAEVnF,IAGQ,OAAZ2E,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWiC,OAChC,kBAAC,GAAD,CACER,aAAcA,EACdiB,cAAe2C,IAAerF,GAAWiC,MACzCP,gBAAiBA,GACjBC,eAAgBiE,KAGP,OAAZL,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWiF,OAChC,kBAAC,GAAD,CACExD,aAAcA,EACdiB,cAAe2C,IAAerF,GAAWiF,MACzCvD,gBAAiBA,GACjBC,eAAgBiE,KAGP,OAAZL,QAAY,IAAZA,OAAA,EAAAA,EAAc3jB,OAAQoe,GAAWkF,IAChC,kBAAC,GAAD,CACEzD,aAAcA,EACdiB,cAAe2C,IAAerF,GAAWkF,GACzCxD,gBAAiBA,GACjBC,eAAgBiE,IAGpB,kBAACznB,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,CAAezS,KAAK,SAAS4P,SAAUyP,GAAvC,YCrPV,SAAS6F,GAASC,GAEhB,IADA,IAAMC,EAAS,CAAC,QAAS,KAAM,KAAM,KAAM,MAEnB,IAAlBA,EAAOpkB,UAGPmkB,EAAQ,MAGZA,GAAS,KACTC,EAAOpD,QAQT,OAJEmD,EADEA,GAAS,IACHE,KAAKC,MAAMH,GAEXE,KAAKC,MAAc,GAARH,GAAc,IAEpB,IAAMC,EAAO,GAY9B,IAAMG,GAAsBpnB,YAAY,CACtC8Y,WAAY,SAGRO,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,OACNiY,SAAU,IACV5U,SAAU,IACVkR,aAAa,EACb4I,aAAa,EACbE,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,CAAMhN,UAAW0P,EAAK4X,KAAOD,QAAsBtlB,GAChD2N,EAAK6X,WAKd,CACE3kB,IAAK,UACLxG,KAAM,GACNiY,SAAU,IACV1D,aAAa,EACb4I,aAAa,EACbE,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,CAAMhN,UAAW0P,EAAK4X,KAAOD,QAAsBtlB,GAChD2N,EAAK8X,UADR,UAMN,CACE5kB,IAAK,UACLxG,KAAM,OACNuU,aAAa,EACb0D,SAAU,IACVmF,UAAW,OACXC,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,CAAMhN,UAAW0P,EAAK4X,KAAOD,QAAsBtlB,GAChD2N,EAAK4X,KAAO,OAAS,eAK9B,CACE1kB,IAAK,UACLxG,KAAM,OACNuU,aAAa,EACb0D,SAAU,IACVoF,SAAU,SAAC/J,GACT,OACE,kBAAC1C,EAAA,EAAD,CAAMhN,UAAW0P,EAAK4X,KAAOD,QAAsBtlB,GAChDilB,GAAStX,EAAKyH,SAKvB,CACEvU,IAAK,UACLxG,KAAM,aACNuU,aAAa,EACb0D,SAAU,IACVoF,SAAU,SAAC/J,GAA+C,IAAD,EACvD,OACE,kBAAC1C,EAAA,EAAD,CAAMhN,UAAW0P,EAAK4X,KAAOD,QAAsBtlB,GAAnD,UACG2N,EAAK+X,iBADR,QACqB,cAOhBC,GAET,SAAC,GAAmD,IAAD,IAAhDtG,eAAgD,MAAtC,GAAsC,EAAlCC,EAAkC,EAAlCA,kBAAsBzhB,EAAY,gDACrD,OACE,kBAACT,EAAA,EAAD,eAAOC,GAAG,WAAcQ,IACpBwhB,EAAQte,QACR,kBAAC,GAAD,CAAY2N,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,kCAIDyQ,EAAQte,QACP,oCACE,kBAAC,GAAD,mHAEyC,IACvC,gCApGZ,SACE8T,EACAyK,GAIA,OAAO2F,GADLpQ,EAAM+Q,QAAO,SAACC,EAAOlY,GAAR,OAAiBkY,EAAQlY,EAAKyH,OAAM,GAAKkK,GA+FrCwG,CAAoBzG,EAASC,IAHxC,KAKA,kBAACrL,GAAA,EAAD,CACEY,MAAOwK,EACP9H,QAASA,GACTrD,WAAYC,KAAsBC,UAClCO,iBAAe,EACfC,mBAAoB,kBAAe,GACnCP,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,2BCtHnCqR,GAA0C,WAAO,IAC7C7pB,EAAW0Q,aAAY,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAOhF,WAA1DnjB,OAD4C,EAE9Buc,cAAdzb,EAF4C,EAE5CA,KAAM0b,EAFsC,EAEtCA,IAFsC,EAGR7L,oBAAkB,GAHV,mBAG7CiF,EAH6C,KAG7BC,EAH6B,KAI5CsN,EAAsCnjB,EAAtCmjB,QAASC,EAA6BpjB,EAA7BojB,kBAAmBplB,EAAUgC,EAAVhC,MAE9BiY,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IASF,OANAjV,qBAAU,WACJ5C,GACF6X,GAAkB,KAEnB,CAAC7X,IAGF,oCAKE,kBAACkY,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,gBAEToH,WAAY,CACVC,YAAY,GAEdU,SAAU,IACV5U,SAAU,KAETxD,EACD,kBAAC,KAAD,KACE,kBAACsY,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGtC,kBAAC,GAAD,KACE,kBAAC3C,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,kBACpC,kBAACD,GAAA,EAAD,CACE3B,QAAO,UAAK6K,EAAL,WACPjJ,WAAW,0BAGf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GAChBqiB,GAAWA,EAAQte,OAAS,GAC3B,kBAAC,GAAD,CACEse,QAASA,EACTC,kBAAmBA,KAGrBD,GACA,kBAAC,GAAD,CAAY3Q,eAAgBC,IAAeyN,SAA3C,2BAIDiD,IAAYA,EAAQte,QACnB,kBAAC,GAAD,CAAY2N,eAAgBC,IAAeyN,SAA3C,mCAKJ,kBAAC,IAAD,CAAOzD,OAAK,EAAC3b,KAAI,UAAKA,EAAL,YACf,kBAAC,GAAD,CACEqiB,QAASA,EACTC,kBAAmBA,QAQlB0G,GAET,WAAO,IAAD,EAMJpZ,aAAY,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAOhF,WAJjD5X,EAFM,EAENA,gBACA0X,EAHM,EAGNA,gBACAnX,EAJM,EAINA,eACA4X,EALM,EAKNA,eAGIljB,EAAWG,cAEjBC,qBAAU,WACRJ,EAAS6jB,MACT7jB,EVFqB,uCAAgB,WAAOA,GAAP,eAAAT,EAAA,6DACvCS,EAASsjB,MAD8B,kBAGhB3kB,EAAU4qB,wBAHM,OAG/BzkB,EAH+B,OAIrC9E,EAASujB,GAAiBze,IAJW,iEAM/B/E,EAAmB,EAAD,GAAMC,EAAUkjB,IANH,yDAAhB,yDUGpB,CAACljB,IAEJ,IAAMwY,EAAYzN,GAAmB0X,EAC/BjlB,EAAQ8N,GAAkB4X,EAEhC,OACE,kBAAC,GAAD,KACE,kBAACxiB,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,SACN0E,IAAK,UAEP,CACE1E,KAAM,gBACN0E,IAAK,eACLxD,GAAI,UAKZ,kBAAC,GAAD,KACE,kBAAC4N,EAAA,EAAD,8JAMF,kBAAC,GAAD,KACG/Q,GACC,kBAAC,GAAD,CAAYwU,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1D1U,GAGJgb,GAAa,kBAACjT,GAAA,EAAD,CAAmBC,MAAM,+BACrCgT,IAAchb,GAAS,kBAAC,GAAD,SAMjC8rB,GAAahpB,KAAO,iBC1Jb,IAAMkpB,GAA+E,SAAC,GAEtF,IADLte,EACI,EADJA,UAEMlL,EAAWG,cACXga,EAAWtJ,uBACf,SAACxN,GACCrD,EACEoM,GAAa,CACXlB,YACA7H,YAIN,CAACrD,EAAUkL,IAEb,OACE,kBAACyC,GAAA,EAAD,CACEyM,cAAe,CACbpM,SAAU,gBAEZlN,OAAQ,CACNuZ,SAAU,CACRC,WAAY,SAGhBjM,KAAK,SACLkM,iBAAe,EACfC,aAAW,eACXC,UAAW,CACTC,gBAAiBC,KAAgBC,gBACjCzC,MAAO,CACL,CACEhU,IAAK,qBAAuB+G,EAAUlH,OACtCvE,KAAK,GAAD,OACFyL,EAAU1L,SAAWiqB,gBAAcC,QAAU,UAAY,UADvD,gBAGJzb,QAAS,kBAAYkM,EAAS9Q,GAAcsgB,gBC1BlD7c,GAAQpL,cAcd,ICHKkoB,GDGC/O,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,IACV5U,SAAU,IACVkR,aAAa,EACb4I,aAAa,EACb+O,aAAa,EACb9O,UAAW,SACXC,SAAU,SAAC/J,GACT,OAAO,kBAAC8E,GAAA,EAAD,CAAMC,KAAI,kBAAa/E,EAAKjN,SAAWiN,EAAKjN,UAGvD,CACEG,IAAK,UACLxG,KAAM,qBACNuU,aAAa,EACb4I,aAAa,EACblF,SAAU,IACVmF,UAAW,OACXC,SAAU,SAAC/J,GACT,IAAM6Y,EAlCZ,SAAsBtqB,GACpB,OAAQA,GACN,KAAKiqB,gBAAcC,QACjB,OAAO5c,GAAMhL,QAAQioB,UACvB,KAAKN,gBAAcO,OACjB,OAAOld,GAAMhL,QAAQmoB,QACvB,KAAKR,gBAAcS,cACnB,QACE,OAAOpd,GAAMqH,eAAegW,UA0BVC,CAAanZ,EAAKzR,QACpC,OAAO,kBAAC+O,EAAA,EAAD,CAAMzN,OAAQ,CAAEC,KAAM,CAAEspB,MAAOP,KAAgB7Y,EAAKxR,QAG/D,CACE0E,IAAK,UACLxG,KAAM,UACNuU,aAAa,EACb0D,SAAU,GACVoF,SAAU,SAAC9P,GACT,OAAOA,EAAU1L,SAAWiqB,gBAAcS,cAAgB,KACxD,kBAAC,GAAD,CAAwBhf,UAAWA,KAGvC3J,UAAWC,YAAY,CACrB8Z,YAAa,8BAKNgP,GAIT,SAAC,GAAyB,IAAvBnS,EAAsB,EAAtBA,MAAUhX,EAAY,0BAC3B,OACE,kBAACT,EAAA,EAAD,eAAOC,GAAG,WAAcQ,GACtB,kBAAC,GAAD,0GAGE,kBAAC4U,GAAA,EAAD,CAAMC,KAAK,4BAAX,iBAHF,iCAMA,kBAACuB,GAAA,EAAD,CACEY,MAAOA,EACP0C,QAASA,GACTrD,WAAYC,KAAsBC,UAClCO,iBAAe,EACfN,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,sBAC7BuS,uBAAqB,EACrBtU,YAAa,SAAC9U,GACZ,OAAIA,EAEA,kBAAC+U,GAAA,EAAD,iBACM/U,EADN,CAEEL,OAAQ,CACNC,KAAM,CACJypB,UAAW,YAMd,U,8BEpGJC,GAKT,SAACtpB,GAAyB,IAAD,EACoCgM,cAC7D,GAFyB,mBACpBC,EADoB,KACQC,EADR,KACAC,OAGrBod,EAAwBld,aAAM,eAC9BD,EAAuBC,aAAM,cAEnC,OACE,oCACE,kBAAC9M,EAAA,EAAD,CAAO+M,YAAU,EAACC,cAAc,UAAhC,OACGvM,QADH,IACGA,OADH,EACGA,EAAO+L,cAAc/L,GACtB,kBAACwM,GAAA,EAAD,CACEC,GAAIL,EACJM,MAAM,OACNC,UAAU,OACVC,UAAW,CAAEC,SAAU,QACvBC,QAASZ,KAGZD,GACC,kBAACc,GAAA,EAAD,CACEC,OAAQ,IAAMZ,EACdod,iBAAe,EACfvc,UAAWf,EACXud,gBAAiBF,EACjBrc,KAAK,cACLvN,OAAQ,CACNC,KAAM,CACJC,SAAU,OAId,kBAACN,EAAA,EAAD,CAAO4N,gBAAgB,QAAQzN,QAAQ,IAAID,IAAI,KAC7C,kBAAC2N,EAAA,EAAD,KAAOpN,EAAMqN,iBChBnBsG,GAA0C,CAC9CzR,KAAM0R,KAAWC,YACjBnH,MAAO,gCAGHoH,GAA0B,CAC9BC,YAAY,GAGR2V,GAAiE,CACrE7mB,OAAQ,GACR8mB,KAAM,GACNC,MAAO,IAGHC,GAAiB,YAEVC,GAAiF,SAAC,GAGxF,IAFLjnB,EAEI,EAFJA,OACAknB,EACI,EADJA,YACI,EAQAhb,aAAY,SAACpS,GAAD,OAAsBA,EAAMgN,OAN1CE,EAFE,EAEFA,gBACAO,EAHE,EAGFA,iBACAH,EAJE,EAIFA,oBACAH,EALE,EAKFA,wBACAO,EANE,EAMFA,wBACAH,EAPE,EAOFA,2BAEIrL,EAAWG,cATb,EAW8DgQ,mBAAQ,2BAGrE0a,IAHqE,IAIxE7mB,YAfE,mBAWGmnB,EAXH,KAW8BC,EAX9B,OAiBwCjb,oBAAkB,GAjB1D,mBAiBGiF,EAjBH,KAiBmBC,EAjBnB,OAkB0ClF,oBAAkB,GAlB5D,mBAkBGmF,EAlBH,KAkBoBC,EAlBpB,KAoBEE,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IAGIG,EAAoB3E,uBAAY,WACFma,GAAeK,KAC/ChgB,GAA8B,MAG9B+f,EAA6B,2BACxBP,IADuB,IAE1B7mB,YAEFhE,EAASsM,OAEXtM,EAASkM,MACTqJ,GAAmB,KAClB,CAACvV,EAAUgE,EAAQqH,IAEhBigB,EAAeza,uBACnB,SAACC,EAAsCQ,GACrC8Z,EAA6B,2BACxBD,GADuB,IAE1BL,KAAI,OAAExZ,QAAF,IAAEA,IAAY,QAGtB,CAAC6Z,IAGGI,EAAgB1a,uBACpB,SAACC,EAAsCQ,GACrC8Z,EAA6B,2BACxBD,GADuB,IAE1BJ,MAAK,OAAEzZ,QAAF,IAAEA,IAAY,QAGvB,CAAC6Z,IAGG3Z,EAAeX,uBACnB,SAACQ,GjDwC6B,IAChCma,EiDxCIna,EAAMI,iBACNzR,GjDuCJwrB,EiDvCgCL,EjDsCA,uCAEnB,WAAOnrB,GAAP,eAAAT,EAAA,6DACbS,EAASgM,MADI,kBAGUnN,EAAO4sB,sBAAsBD,GAHvC,OAGL1mB,EAHK,OAIX9E,EAASiM,GAA0BnH,IAJxB,iEAML/E,EAAmB,EAAD,GAAMC,EAAUwL,IAN7B,yDAFmB,0DiDpC9B,CAACxL,EAAUmrB,IAGb/qB,qBAAU,WACJiL,GAA8B+J,IAAmBE,GACnDD,GAAkB,KAEnB,CAAChK,EAA4BiK,EAAiBF,IAEjDhV,qBAAU,WACHgV,GACHG,GAAmB,KAEpB,CAACH,IAEJhV,qBAAU,WACRJ,EjDIuB,SACzBgE,EACA0nB,GAFyB,8CAGZ,WAAO1rB,GAAP,eAAAT,EAAA,6DACbS,EAAS6L,MADI,kBAGUhN,EAAO8sB,eAAe,CACzC3nB,SACA0nB,gBALS,OAGL5mB,EAHK,OAOX9E,EAAS8L,GAAmBhH,IAPjB,iEASL/E,EAAmB,EAAD,GAAMC,EAAUuL,IAT7B,yDAHY,sDiDJdqgB,CAAY5nB,EAAQknB,MAC5B,CAACA,EAAalnB,EAAQhE,IAEzB,IAAMxC,EAAQ+N,GAAoBC,EAE5BqgB,EAAgBb,GAAeK,KAAKhgB,GAA8B,IACpE,4FACAA,EAEJ,OACE,kBAAC3K,EAAA,EAAD,KACE,kBAACgV,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoBA,GACpBG,WAAYA,GACZW,SAAU,IACV5U,SAAU,IACV6U,YAAaL,GAEb,kBAACjH,EAAA,EAAD,KAAOsd,GACP,kBAAC,KAAD,KACE,kBAAC/V,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGrCjY,GACC,kBAAC,KAAD,CAAYwU,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1D1U,GAGJwN,GAAmB,kBAACzF,GAAA,EAAD,CAAmBC,MAAM,uBAC3CwF,GAAmBI,GACnB,kBAAC1K,EAAA,EAAD,CAAOE,IAAI,IAAID,GAAG,OAAOoR,SAAUP,GACjC,kBAACjD,EAAA,EAAD,kGAIA,kBAAC,KAAD,CAAYyD,eAAgBC,IAAe7C,KAAM8C,aAAW,GAA5D,0GAIA,kBAAC,GAAD,KAAM9G,GACN,kBAACmD,EAAA,EAAD,qLAKA,kBAAC4E,EAAA,EAAD,CACE3N,MAAM,uBACNkO,WAAS,EACTC,KAAM,EACNxE,YAAY,qEACZpG,MAAOoiB,EAA0BL,KACjCtX,SAAU8X,EACVlY,UAAQ,IAEV,kBAACD,EAAA,EAAD,CACE3N,MAAM,4CACNkO,WAAS,EACTC,KAAM,EACNxE,YAAY,8IACZpG,MAAOoiB,EAA0BJ,MACjCvX,SAAU+X,IAEZ,kBAAC7qB,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,CAAezS,KAAK,SAAS4P,SAAUhI,GAAvC,2BClLN6gB,GAAYC,yBAEZC,GAAgBpZ,OAAOC,KAAKiZ,IAC/BriB,KAAI,SAACyhB,GAAD,MAAkB,CACrB/mB,IAAK+mB,EAAYe,cACjBxsB,KAAMqsB,GAAUZ,OAEjBviB,MAAK,SAACpJ,EAAGqJ,GAAJ,OAAUrJ,EAAEE,KAAKuJ,cAAcJ,EAAEnJ,SAEnCkQ,GAAkBnO,YAAY,CAClCoO,UAAW,IAGPsc,GAAiB,CACrB1mB,MAAO,CACLoJ,UAAW,CACT,SAAU,CACRC,aAAc,MAMhBsd,GAAwB,SAAC3d,GAAD,OAAyB,SACrDrN,EACA+L,GAFqD,OAIrD/L,GAAS+L,EACP,kBAAC,GAAD,iBACM/L,EADN,CAEEqN,YAAaA,EACbtB,cAAeA,KAEf,OAEOkf,GAIT,SAAC,GAAyB,IAAD,IAAtBjU,EAAsB,EAAtBA,MAAUhX,EAAY,0BACnBsK,EAAcyE,aAAY,SAACpS,GAAD,OAAsBA,EAAMgN,OAAtDW,UACFzL,EAAWG,cAFU,EAGiBgQ,mBAA0B,CACpEhM,KAAc,OAATsH,QAAS,IAATA,GAAA,UAAAA,EAAWP,iBAAX,eAAsBlH,SAAU,GACrCvE,MAAe,OAATgM,QAAS,IAATA,GAAA,UAAAA,EAAWP,iBAAX,eAAsBlH,SAAU,KALb,mBAGpBqoB,EAHoB,KAGJC,EAHI,OAOmBnc,qBAPnB,mBAOpBoc,EAPoB,KAOHC,EAPG,KASrBC,EAAiB5b,uBACrB,SAACC,EAAoCC,GAC/BA,IACF/Q,EAAS+L,MACTugB,EAAkBvb,MAGtB,CAAC/Q,IAEG0sB,EAAkB7b,uBACtB,SAACC,EAAoCC,GACnC/Q,EAAS+L,MACTygB,EAAmBzb,KAErB,CAAC/Q,IAEG2sB,EAAsB9a,mBAC1B,kBACEsa,GACE,2IAEJ,IAEIS,EAAuB/a,mBAC3B,kBACEsa,GACE,gJAEJ,IAGF,OACE,kBAACzrB,EAAA,EAAD,eAAOC,GAAG,UAAUC,IAAI,KAAQO,GAC9B,kBAAC,GAAD,CAAY6Q,eAAgBC,IAAe7C,KAAM8C,aAAW,GAA5D,+JAKA,kBAACxR,EAAA,EAAD,CAAO+M,YAAU,EAAC7M,IAAI,MACpB,kBAACF,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACkd,GAAA,EAAD,CACE1d,YAAY,kBACZ3J,MAAM,kDACNsO,QAASqE,EAAM1O,KAAI,gBAAGzF,EAAH,EAAGA,OAAH,MAAiB,CAClCG,IAAKH,EACLvE,KAAMuE,MAERoP,UAAQ,EACR0Z,eAAa,EACbC,aAAa,KACbpa,YAAW,OAAE0Z,QAAF,IAAEA,OAAF,EAAEA,EAAgBloB,IAC7ByP,cAAe+Y,EACfnZ,SAAUiZ,EACV3rB,OAAQorB,MAEK,OAAdG,QAAc,IAAdA,OAAA,EAAAA,EAAgBloB,MACf,kBAAC6oB,GAAA,EAAD,CACE7d,YAAY,mBACZ3J,MAAM,2BACNsO,QAASkY,GACTpY,cAAegZ,EACfE,eAAa,EACbC,aAAa,KACbpa,YAAW,OAAE4Z,QAAF,IAAEA,OAAF,EAAEA,EAAiBpoB,IAC9BqP,SAAUkZ,EACV5rB,OAAQorB,GACRe,iBAAkB,IAClBC,wBAAsB,KAI5B,kBAACxsB,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IAChC0c,GAAkBE,GACjB,kBAAC,GAAD,CACEvoB,OAAQqoB,EAAeloB,IACvB+mB,YAAaqB,EAAgBpoB,W,SHjHtCylB,K,UAAAA,E,oBAAAA,Q,KAKL,I,GAAMuD,GAA+C,WAAO,IAAD,EACxBjd,aAAY,SAACpS,GAAD,OAAsBA,EAAMgN,OAAjEI,EADiD,EACjDA,UAAWO,EADsC,EACtCA,UACH0M,EAAUjN,EAAlB1L,OACFQ,EAAWG,cACXub,EAAWC,cACXxf,EAAUsf,cALyC,EAMnCM,cAAdzb,EANiD,EAMjDA,KAAM0b,EAN2C,EAM3CA,IAcd,OAZA5b,qBAAU,YACK,OAATqL,QAAS,IAATA,OAAA,EAAAA,EAAWpI,QAASgG,GAAcsgB,SACpCxtB,EAAQ+H,KAAR,UAAgB8X,GAAhB,OAAsB4N,GAAYD,YAEnC,CAACxtB,EAASsP,EAAWuQ,IAExB5b,qBAAU,WACJsb,EAASG,WAAaG,GACxBhc,EAASmM,QAEV,CAACnM,EAAU0b,EAASG,SAAUG,IAG/B,oCACE,kBAAC,GAAD,KACE,kBAAClJ,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,uBACpC,kBAACD,GAAA,EAAD,CACE3B,QAAO,UAAK6K,GAAL,OAAW4N,GAAYD,SAC9B5W,WAAW,gCAGf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GACjB,kBAAC,GAAD,CAAkB6X,MAAOA,KAE3B,kBAAC,IAAD,CAAO8D,OAAK,EAAC3b,KAAI,UAAKA,GAAL,OAAYspB,GAAYD,UACvC,kBAAC,GAAD,CAAoBxR,MAAOA,QAOxBiV,GAET,WAAO,IAAD,EAC+Cld,aACrD,SAACpS,GAAD,OAAsBA,EAAMgN,OADtBC,EADA,EACAA,gBAAiBO,EADjB,EACiBA,eAAgBJ,EADjC,EACiCA,UAInClL,EAAWG,cAQjB,OANAC,qBAAU,WACH8K,EAAU1L,OAAO6E,QACpBrE,EAASsM,QAEV,CAACtM,EAAUkL,EAAU1L,OAAO6E,SAG7B,kBAAC,GAAD,KACE,kBAAC3D,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,SACN0E,IAAK,UAEP,CACE1E,KAAM,yBACN0E,IAAK,eACLxD,GAAI,UAKZ,kBAAC,GAAD,KACE,kBAAC4N,EAAA,EAAD,mMAKA,kBAACA,EAAA,EAAD,iEACuD6N,GAAOC,SAD9D,oHAMF,kBAAC,GAAD,KACG/Q,GACC,kBAAC,KAAD,CAAY0G,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1D5G,GAGJP,GACC,kBAACxF,GAAA,EAAD,CAAmBC,MAAM,oCAEzBuF,IAAoBO,GAAkB,kBAAC,GAAD,SAMhD8hB,GAAkB9sB,KAAO,cI/HlB,IAAM+sB,IAAwB,sBAClCC,gBAAcC,EAAI,CACjBC,KACE,6IACF/tB,KAAM,qBAJ2B,gBAMlC6tB,gBAAcG,KAAO,CACpBD,KACE,+FACF/tB,KAAM,wBAT2B,gBAWlC6tB,gBAAcI,IAAM,CACnBF,KACE,kIACF/tB,KAAM,8CAd2B,gBAgBlC6tB,gBAAcK,MAAQ,CACrBH,KACE,sFACF/tB,KAAM,2BAnB2B,gBAqBlC6tB,gBAAcM,IAAM,CACnBJ,KAAM,wBACN/tB,KAAM,sBAvB2B,gBAyBlC6tB,gBAAcO,GAAK,CAClBL,KACE,qGACF/tB,KAAM,wBA5B2B,gBA8BlC6tB,gBAAcQ,IAAM,CACnBN,KACE,0HACF/tB,KAAM,yBAjC2B,gBAmClC6tB,gBAAcS,MAAQ,CACrBP,KAAM,0DACN/tB,KAAM,mCArC2B,gBAuClC6tB,gBAAcU,GAAK,CAClBR,KAAM,mEACN/tB,KAAM,kCAzC2B,ICqB/BwuB,GAAoBrb,OAAOC,KAAKwa,IAAa5jB,KAAI,SAACtF,GAAD,MAAU,CAC/DA,MACA1E,KAAM4tB,GAAYlpB,GAAsB1E,SAGpCkQ,GAAkBnO,YAAY,CAClCoO,UAAW,IAGAse,GAAqD,SAAC,GAE5D,IADF/sB,EACC,sBAMA+O,aAAY,SAACpS,GAAD,OAAsBA,EAAM8H,OAJ1CK,EAFE,EAEFA,qBACAQ,EAHE,EAGFA,wBACAO,EAJE,EAIFA,qBACAT,EALE,EAKFA,MAEIvG,EAAWG,cACXguB,EAAc5nB,EAAMkD,KAAI,SAAC2kB,GAAD,MAAW,CACvCjqB,IAAKiqB,EACL3uB,KAAM2uB,MAVJ,EAYoBje,mBAA0B8d,GAAkB,IAZhE,mBAYG5qB,EAZH,KAYSgrB,EAZT,OAaoBle,mBAA0Bge,EAAY,IAb1D,mBAaGC,EAbH,KAaSE,EAbT,OAcoBne,mBAAiB,IAdrC,mBAcGxS,EAdH,KAcS4wB,EAdT,OAesBpe,mBAAiB,IAfvC,mBAeGpH,EAfH,KAeUylB,EAfV,OAgBwCre,oBAAkB,GAhB1D,mBAgBGiF,EAhBH,KAgBmBC,EAhBnB,OAiB0ClF,oBAAkB,GAjB5D,mBAiBGmF,EAjBH,KAiBoBC,EAjBpB,KAmBEC,EAAoB3E,uBAAY,WAChCpK,GACFzG,EAASwK,MAEXxK,EAAS+H,MACTwN,GAAmB,GACnB8Y,EAAQJ,GAAkB,IAC1BK,EAAQH,EAAY,IACpBI,EAAQ,IACRC,EAAS,MACR,CAAC/nB,EAAyBzG,EAAUmuB,IAEjC1Y,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IAGIoZ,EAAe5d,uBACnB,SACEC,EACAC,GAEIA,GACFsd,EAAQtd,KAGZ,IAGI2d,EAAe7d,uBACnB,SACEC,EACAC,GAEIA,GACFud,EAAQvd,KAGZ,IAGI4d,EAAe9d,uBACnB,SAACC,EAAsCQ,GACrCid,EAAQjd,GAAY,MAEtB,IAGIsd,EAAgB/d,uBACpB,SAACC,EAAsCQ,GACrCkd,EAASld,GAAY,MAEvB,IAGIE,EAAeX,uBACnB,SAACQ,GACCA,EAAMI,iBACN,IvDqPJod,EuDrPU7qB,EAASrG,EAAI,UACZA,EADY,YACJywB,EAAKjqB,KACfiqB,EAAKjqB,IACVnE,GvDkPJ6uB,EuDjPsB,CACd7qB,SACAX,KAAMA,EAAKc,IACX2qB,KAAM/lB,GvD6Oe,uCAEhB,WAAO/I,GAAP,eAAAT,EAAA,6DACbS,EAAS4H,MADI,kBAGU7I,EAAOgwB,mBAAmBF,GAHpC,OAGL/pB,EAHK,OAIX9E,EAAS6H,GAAuB/C,IAJrB,iEAML/E,EAAmB,EAAD,GAAMC,EAAUgH,IAN7B,yDAFgB,0DuDzO3B,CAAChH,EAAUrC,EAAM0F,EAAKc,IAAK4E,EAAOqlB,EAAKjqB,MAGnCmkB,EAAsBzX,uBAC1B,SACEC,GAEA9Q,EAAS8H,QAEX,CAAC9H,IAqBH,OAlBAI,qBAAU,WACJqG,GAA2B2O,IAAmBE,GAChDD,GAAkB,KAEnB,CAAC5O,EAAyB6O,EAAiBF,IAE9ChV,qBAAU,WACHgV,GACHG,GAAmB,KAEpB,CAACH,IAEJhV,qBAAU,WACR,OAAO,WACLJ,EAAS+H,SAEV,CAAC/H,IAGF,oCAEE,kBAAC0V,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,cAEToH,WAAY,CACVC,YAAY,GAEdU,SAAU,IACV5U,SAAU,IACV6U,YAAaL,GAEb,kBAAC,GAAD,KAAM/O,GACN,kBAAC,KAAD,KACE,kBAACqP,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGtC,kBAAC/U,EAAA,EAAD,eAAOC,GAAG,UAAUC,IAAI,KAAK6M,YAAU,GAAKtM,GAC1C,kBAACT,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACpB,EAAA,EAAD,uMAMF,kBAAC7N,EAAA,EAAD,CACEE,IAAI,IACJkR,KAAM,EACNvQ,UAAWoO,GACXhP,GAAG,OACHoR,SAAUP,GAETxK,GACC,kBAAC,GAAD,CACEgL,eAAgBC,IAAezU,MAC/B0U,aAAa,EACb9D,UAAWka,EACXzb,uBAAuB,SAEtB7F,GAGL,kBAAC2Y,GAAA,EAAD,CACEna,MAAM,SACN4N,UAAQ,EACRU,QAASqa,EACTxb,YAAayb,EAAKjqB,IAClBqP,SAAUkb,IAEZ,kBAACvb,EAAA,EAAD,CACE3N,MAAM,OACN2J,YAAY,YACZpG,MAAOpL,EACP6V,SAAUmb,IAEZ,kBAAChP,GAAA,EAAD,CACEna,MAAM,OACN4N,UAAQ,EACRU,QAASma,GACTtb,YAAatP,EAAKc,IAClBqP,SAAUib,IAEZ,kBAACtb,EAAA,EAAD,CACE3N,MAAM,QACN4N,UAAQ,EACRrK,MAAOA,EACPyK,SAAUob,IAEZ,kBAAC,GAAD,KAAavB,GAAYhqB,EAAKc,KAAsBqpB,MACpD,kBAAC9sB,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,CAAezS,KAAK,SAAS4P,SAAUhN,GAAvC,oBC7NC+oB,GAAkD,WAAO,IAAD,MAM/D9e,aAAY,SAACpS,GAAD,OAAsBA,EAAM8H,OAJ1CO,EAFiE,EAEjEA,uBACAgB,EAHiE,EAGjEA,UACAD,EAJiE,EAIjEA,wBACAP,EALiE,EAKjEA,2BAEI3G,EAAWG,cAEXuZ,EAAwB7I,uBAAY,WACxC7Q,EAASwI,QACR,CAACxI,IAEEivB,EAA0Bpe,uBAAY,WACtClK,GACF3G,EAASwK,MAEXxK,EAASmI,QACR,CAACnI,EAAU2G,IAERkT,EAAuBhJ,uBAAY,WACvC,UAAI1J,QAAJ,IAAIA,OAAJ,EAAIA,EAAW+nB,UAAW,CAAC,IAAD,EAC4B/nB,EAAU+nB,UAA/ClrB,EADS,EAChB6E,MAAsBxF,EADN,EACDyF,MAAoBgmB,EADnB,EACY/lB,MACpC/I,GxDoVJ6uB,EwDnVyB,CACjB7qB,SACAX,OACAyrB,QxD+UwB,uCAEnB,WAAO9uB,GAAP,eAAAT,EAAA,6DACbS,EAASgI,MADI,kBAGUjJ,EAAOowB,sBAAsBN,GAHvC,OAGL/pB,EAHK,OAIX9E,EAASiI,GAA0BnD,IAJxB,iEAML/E,EAAmB,EAAD,GAAMC,EAAUkH,IAN7B,yDAFmB,4DAChC2nB,IwD5UG,CAAC7uB,EAAUmH,IAEd,OACE,kBAAC,GAAD,CACEwO,QAAiB,OAATxO,QAAS,IAATA,OAAA,EAAAA,EAAW9D,QAASlB,GAAc4X,OAC1CvB,UAAWrS,EACXiI,UAAWsL,EACX7D,YAAaoZ,EACbnW,UAAWe,EACXrc,MAAO0J,EACP8R,eAAgBrS,EAChBoS,kBAAkB,gBAClBjE,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,qBAEToH,WAAY,CACVC,YAAY,GAEdU,SAAU,KAEV,kBAACrH,EAAA,EAAD,2DACA,kBAAC,GAAD,YACGpH,QADH,IACGA,GADH,UACGA,EAAW+nB,iBADd,aACG,EAAsBrmB,MADzB,eACuC1B,QADvC,IACuCA,GADvC,UACuCA,EAAW+nB,iBADlD,aACuC,EAAsBpmB,MAD7D,OCzDOsmB,GAAyF,SAAC,GAEhG,IADLF,EACI,EADJA,UAEMlvB,EAAWG,cACXga,EAAWtJ,uBACf,SAACxN,GACCrD,EACEyI,GAAa,CACXymB,YACA7rB,YAIN,CAACrD,EAAUkvB,IAEb,OACE,kBAACvhB,GAAA,EAAD,CACEyM,cAAe,CACbpM,SAAU,gBAEZlN,OAAQ,CACNuZ,SAAU,CACRC,WAAY,SAGhBjM,KAAK,SACLkM,iBAAe,EACfC,aAAW,eACXC,UAAW,CACTC,gBAAiBC,KAAgBC,gBACjCzC,MAAO,CACL,CACEhU,IAAK,kBAAoB+qB,EAAUrmB,MAAQqmB,EAAUpmB,MACrDrJ,KAAM,SACNwO,QAAS,kBAAYkM,EAAShY,GAAc4X,eC7BlDc,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,cACNiY,SAAU,IACV5U,SAAU,IACVkR,aAAa,EACb4I,aAAa,EACbC,UAAW,SAEb,CACE5W,IAAK,UACLxG,KAAM,cACNiY,SAAU,IACV5U,SAAU,IACVkR,aAAa,EACb8I,SAAU,SAAC/J,GACT,OAAO,kBAAC1C,EAAA,EAAD,KAAO0C,EAAKnI,SAGvB,CACE3E,IAAK,UACLxG,KAAM,QACNiY,SAAU,IACVoF,SAAU,SAAC/J,GACT,OAAO,kBAAC1C,EAAA,EAAD,KAAO0C,EAAKlI,SAGvB,CACE5E,IAAK,UACLxG,KAAM,UACNuU,aAAa,EACb0D,SAAU,GACVoF,SAAU,SAACkU,GACT,OAAO,kBAAC,GAAD,CAA6BA,UAAWA,KAEjD3tB,UAAWC,YAAY,CACrB8Z,YAAa,8BASN+T,GAET,SAAC,GAAqC,IAAnCjZ,EAAkC,EAAlCA,kBAAsBjV,EAAY,wCACb+O,YAAY5G,IADC,mBAChCC,EADgC,KACvB1F,EADuB,KAGvC,OACE,kBAACnD,EAAA,EAAD,eAAOC,GAAG,WAAcQ,GACtB,kBAAC,GAAD,MACA,kBAAC,GAAD,CACEgX,MAAO5O,EACPsR,QAASA,GACThX,OAAQA,EACRuS,kBAAmBA,MC/CrBzG,GAAkBnO,YAAY,CAClCoO,UAAW,IAGA0f,GAAqE,SAAC,GAE5E,IADFnuB,EACC,sBAKA+O,aAAY,SAACpS,GAAD,OAAsBA,EAAM8H,OAH1CM,EAFE,EAEFA,4BACAe,EAHE,EAGFA,4BACAP,EAJE,EAIFA,+BAEI1G,EAAWG,cANb,EAQ4BgQ,mBAAiB,IAR7C,mBAQGkM,EARH,KAQaoJ,EARb,OASwCtV,oBAAkB,GAT1D,mBASGiF,EATH,KASmBC,EATnB,OAU0ClF,oBAAkB,GAV5D,mBAUGmF,EAVH,KAUoBC,EAVpB,KAYEC,EAAoB3E,uBAAY,WAChCnK,GACF1G,EAASsK,MAEXtK,EAASuI,QACR,CAAC7B,EAAgC1G,IAE9ByV,EAAgB5E,uBACpB,SAACC,GACCuE,GAAkB,KAEpB,IAGI9D,EAA2BV,uBAC/B,SACEC,GAEA9Q,EAASsI,QAEX,CAACtI,IAGG4lB,EAAmB/U,uBACvB,SAACC,EAAsCQ,GACrCmU,EAAYnU,GAAY,MAE1B,IAGIE,EAAeX,uBACnB,SAACQ,G3DyTiC,IACpCke,E2DzTIle,EAAMI,iBACNzR,G3DwTJuvB,E2DvT6B,CACrBlpB,UAAWgW,G3DqTiB,uCAEvB,WAAOrc,GAAP,eAAAT,EAAA,6DACbS,EAASoI,MADI,kBAGUrJ,EAAOywB,0BAC1BD,GAJS,OAGLzqB,EAHK,OAMX9E,EAASqI,GAA8BvD,IAN5B,iEAQL/E,EAAmB,EAAD,GAAMC,EAAUiH,IAR7B,yDAFuB,0D2DjTlC,CAACjH,EAAUqc,IAqBb,OAlBAjc,qBAAU,WACJsG,GAAkC0O,IAAmBE,GACvDD,GAAkB,KAEnB,CAAC3O,EAAgC4O,EAAiBF,IAErDhV,qBAAU,WACHgV,GACHG,GAAmB,KAEpB,CAACH,IAEJhV,qBAAU,WACR,OAAO,WACLJ,EAASuI,SAEV,CAACvI,IAGF,kBAACU,EAAA,EAAD,eAAOC,GAAG,UAAUC,IAAI,KAAK6M,YAAU,GAAKtM,GAC1C,kBAACuU,GAAA,EAAD,CACEC,OAAQP,EACRN,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,cAEToH,WAAY,CACVC,YAAY,GAEdU,SAAU,IACV5U,SAAU,IACV6U,YAAaL,GAEb,kBAAC,GAAD,KAAM9O,GACN,kBAAC,KAAD,KACE,kBAACoP,EAAA,EAAD,CAAerW,KAAK,KAAKwO,QAASwH,MAGtC,kBAAC/U,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACpB,EAAA,EAAD,gPAMA,kBAACA,EAAA,EAAD,sUAQF,kBAAC7N,EAAA,EAAD,CACEE,IAAI,IACJkR,KAAM,EACNvQ,UAAWoO,GACXhP,GAAG,OACHoR,SAAUP,GAETvK,GACC,kBAAC,GAAD,CACE+K,eAAgBC,IAAezU,MAC/B0U,aAAa,EACb9D,UAAWmD,EACX1E,uBAAuB,SAEtB5F,GAGL,kBAAC,GAAD,iIAIA,kBAAC,GAAD,+KAKA,kBAACkM,EAAA,EAAD,CACE3N,MAAM,WACN4N,UAAQ,EACRjE,YAAY,wBACZpG,MAAOsT,EACP7I,SAAUoS,IAEZ,kBAACllB,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,CAAezS,KAAK,SAAS4P,SAAU/M,GAAvC,cClJJupB,GAA6C,WAAO,IAAD,EAUnDvf,aAAY,SAACpS,GAAD,OAAsBA,EAAM8H,OAR1CC,EAFqD,EAErDA,6BACAC,EAHqD,EAGrDA,eACAC,EAJqD,EAIrDA,uBACAa,EALqD,EAKrDA,4BACAC,EANqD,EAMrDA,cACAC,EAPqD,EAOrDA,sBACAP,EARqD,EAQrDA,MACAC,EATqD,EASrDA,cAEIxG,EAAWG,cAXsC,EAYjC4b,cAAdzb,EAZ+C,EAY/CA,KAAM0b,EAZyC,EAYzCA,IACR5F,EAAoBjG,mBAAmB,IAiB7C,OAfA/P,qBAAU,WACHmG,EAAMlC,QACTrE,E5DgSkB,uCAAgB,WAAOA,GAAP,eAAAT,EAAA,6DACtCS,EAASwH,MAD6B,kBAGfzI,EAAO2wB,cAHQ,OAG9B5qB,EAH8B,OAIpC9E,EAASyH,GAAgB3C,IAJW,iEAM9B/E,EAAmB,EAAD,GAAMC,EAAU6G,IANJ,yDAAhB,yD4D9RnB,CAAC7G,EAAUuG,IAEdnG,qBAAU,WACHoG,EAAcnC,QACjBrE,EAASwK,QAEV,CAAChE,EAAexG,IAEnBI,qBAAU,WACRJ,EAASsK,QACR,CAACtK,IAEF,oCACE,kBAAC,GAAD,KACE,kBAAC8S,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,gBACpC,kBAACD,GAAA,EAAD,CAAW3B,QAAO,UAAK6K,EAAL,QAAgBjJ,WAAW,sBAC7C,kBAACD,GAAA,EAAD,CACE3B,QAAO,UAAK6K,EAAL,eACPjJ,WAAW,0BAGf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GACjB,kBAAC,GAAD,KACGyF,GACC,kBAAC,GAAD,CACEf,aAAa,yBACbC,UAAWpI,QAAQ2J,EAAcnC,UAGpCxH,QAAQiK,IACP,kBAAC,KAAD,CAAYkL,eAAgBC,IAAezU,OACxCsJ,IAGHA,GAAyBjK,QAAQ2J,EAAcnC,SAC/C,kBAAC,GAAD,CAAsB+R,kBAAmBA,MAI/C,kBAAC,IAAD,CAAO6F,OAAK,EAAC3b,KAAI,UAAKA,EAAL,SACdwF,GAAkB,kBAACP,GAAA,EAAD,CAAmBC,MAAM,sBAC3C3I,QAAQgK,IACP,kBAAC,KAAD,CAAYmL,eAAgBC,IAAezU,OACxCqJ,IAGHA,GAAiBhK,QAAQ0J,EAAMlC,SAAW,kBAAC,GAAD,OAE9C,kBAAC,IAAD,CAAO4X,OAAK,EAAC3b,KAAI,UAAKA,EAAL,gBACduF,GACC,kBAACN,GAAA,EAAD,CAAmBC,MAAM,qCAE1B3I,QAAQ+J,IACP,kBAAC,KAAD,CAAYoL,eAAgBC,IAAezU,OACxCoJ,IAGHA,IAAgCf,GAChC,kBAAC,GAAD,UAQC8pB,GAET,WACF,OACE,kBAAC,GAAD,KACE,kBAACjvB,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,SACN0E,IAAK,UAEP,CACE1E,KAAM,aACN0E,IAAK,YACLxD,GAAI,UAKZ,kBAAC,KAAD,CAAYqR,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,2CAGA,kBAAC,GAAD,KACE,kBAAC3D,EAAA,EAAD,0EAIF,kBAAC,GAAD,KACE,kBAAC,GAAD,SAMRohB,GAAervB,KAAO,cCjIf,IAAMsvB,GAA6C,SAAC,GAMpD,IALLnwB,EAKI,EALJA,KAKI,IAJJuB,gBAII,MAJO,IAIP,MAHJ6uB,uBAGI,SAFJ9iB,EAEI,EAFJA,oBACA+iB,EACI,EADJA,iBACI,EAC2D3iB,cAC7D,GAFE,mBACGC,EADH,KAC+BC,EAD/B,KACuBC,OAGrBC,EAAuBC,aAAM,cACnC,OACE,oCACE,kBAACG,GAAA,EAAD,CACEC,GAAIL,EACJM,MAAM,OACNpO,KAAK,OACLqO,UAAU,OACVC,UAAW,CACTC,SAAU,QAEZC,QAASZ,EACT9L,UAAWwL,EACXjM,OAAQgvB,IAET1iB,GACC,kBAACc,GAAA,EAAD,CACEC,OAAQ,IAAMZ,EACdod,iBAAe,EACfvc,UAAWf,EACXgB,KAAK,cACLvN,OAAQ,CACNC,KAAM,CACJC,cAIJ,kBAACN,EAAA,EAAD,CAAO4N,gBAAgB,QAAQzN,QAAQ,IAAID,IAAI,KAC7C,kBAAC2N,EAAA,EAAD,KAAO9O,GACNowB,GACC,kBAAC1W,GAAA,EAAD,CAAelL,QAASZ,GAAxB,aC5CRwN,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,QACNiY,SAAU,IACV5U,SAAU,IACVkR,aAAa,EACb4I,aAAa,EACbO,UAAU,EACVN,UAAW,SAEb,CACE5W,IAAK,UACLxG,KAAM,cACNiY,SAAU,GACV5U,SAAU,IACVqa,UAAU,EACVnJ,aAAa,EACb6I,UAAW,QACXC,SAAU,SAAC/J,GACT,OAAO,kBAAC1C,EAAA,EAAD,KAAO0C,EAAKnI,SAGvB,CACE3E,IAAK,UACLxG,KAAM,QACNuU,aAAa,EACb0D,SAAU,IACVyF,UAAU,EACVN,UAAW,QACXC,SAAU,SAAC/J,GACT,OAAO,kBAAC1C,EAAA,EAAD,KAAO0C,EAAKlI,SAGvB,CACE5E,IAAK,UACLxG,KAAM,OACNuU,aAAa,EACb0D,SAAU,GACVma,YAAY,EACZ1U,UAAU,EACVL,SAAU,SAAC/J,GACT,OACE,kBAAC,GAAD,CACExR,KAAMwR,EAAK+e,YACXH,iBAAiB,EACjBC,iBAAkB,CAChB/uB,KAAM,CACJkvB,OAAQ,QAEVC,KAAM,CACJC,SAAUC,IAAUC,YAM9B9uB,UAAWC,YAAY,CACrB8Z,YAAa,8BASNgV,GAET,SAAC,GAAqC,IAAnCla,EAAkC,EAAlCA,kBAAsBjV,EAAY,wCACb+O,YAAYhG,IADC,mBAChCX,EADgC,KACvB1F,EADuB,KAEvC,OACE,kBAACnD,EAAA,EAAD,eAAOC,GAAG,WAAcQ,GACtB,kBAAC,GAAD,CACEgX,MAAO5O,EACP1F,OAAQA,EACRgX,QAASA,GACTzE,kBAAmBA,M,UC7ErBzG,GAAkBnO,YAAY,CAClCoO,UAAW,IA2DA2gB,GAA6D,SAAC,GAEpE,IADFpvB,EACC,oBACJ,OACE,kBAACT,EAAA,EAAD,eAAOC,GAAG,UAAUC,IAAI,KAAK6M,YAAU,GAAKtM,GAC1C,kBAACT,EAAA,EAAD,CAAOE,IAAI,IAAIkR,KAAM,EAAGvQ,UAAWoO,IACjC,kBAACpB,EAAA,EAAD,8CACA,kBAACoR,GAAA,EAAD,CACEna,MAAM,SACN4N,UAAQ,EACRjE,YAAY,kBACZ2E,QAAS,CACP,CACE3P,IAAK,MACL1E,KAAM,uBAIZ,kBAAC0T,EAAA,EAAD,CAAW3N,MAAM,cAAc4N,UAAQ,EAACM,WAAS,EAACC,KAAM,IACxD,kBAACR,EAAA,EAAD,CAAW3N,MAAM,cAAc4N,UAAQ,IACvC,kBAAC1S,EAAA,EAAD,CAAOE,IAAI,MACT,kBAAC4vB,GAAA,EAAD,2BACA,kBAACC,EAAA,EAAD,CAAUjrB,MAAM,yBAAyBkrB,SAAS,KAEpD,kBAAChwB,EAAA,EAAD,CAAO+M,YAAU,GACf,kBAACqI,EAAA,EAAD,mBAGJ,kBAACpV,EAAA,EAAD,CACEE,IAAI,IACJkR,KAAM,EACNvQ,UAAWoO,GACXjK,MAAO,CAAEkQ,SAAU,IAEnB,kBAAC+a,EAAA,EAAD,CACE7vB,OAAQ,CACNC,KAAM,CACJ6vB,YAAa,IAGjBzY,MAAO,CACL,CACEhU,IAAK,OACL1E,KAAM,OACNsO,UAAW,CAAEC,SAAU,SAEzB,CACE7J,IAAK,WACL1E,KAAM,WACNsO,UAAW,CAAEC,SAAU,cAG3BF,UAAU,+DAEZ,kBAAC,GAAD,KA9GE,y/DCEJ+iB,GAA+C,WAAO,IAAD,EACnC9U,cAAdzb,EADiD,EACjDA,KAAM0b,EAD2C,EAC3CA,IACR5F,EAAoBjG,mBAAmB,IAC7C,OACE,oCACE,kBAAC,GAAD,KACE,kBAAC2C,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,gBACpC,kBAACD,GAAA,EAAD,CACE3B,QAAO,UAAK6K,EAAL,cACPjJ,WAAW,yBAGf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GACjB,kBAAC,GAAD,CAAa8V,kBAAmBA,KAElC,kBAAC,IAAD,CAAO6F,OAAK,EAAC3b,KAAI,UAAKA,EAAL,eACf,kBAAC,GAAD,UAOGwwB,GAET,WAAO,IAAD,EACsC5gB,aAC5C,SAACpS,GAAD,OAAsBA,EAAM8H,OADtBI,EADA,EACAA,cAAee,EADf,EACeA,aAAcT,EAD7B,EAC6BA,KAG/BtG,EAAWG,cAQjB,OANAC,qBAAU,WACHkG,EAAKjC,QACRrE,EAAS0K,QAEV,CAAC1K,EAAUsG,EAAKjC,SAGjB,kBAAC,GAAD,KACE,kBAAC3D,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,SACN0E,IAAK,UAEP,CACE1E,KAAM,eACN0E,IAAK,cACLxD,GAAI,UAKZ,kBAAC,KAAD,CAAYqR,eAAgBC,IAAeyN,QAASxN,aAAW,GAA/D,2CAGA,kBAAC,GAAD,KACE,kBAAC3D,EAAA,EAAD,yUAOA,kBAACA,EAAA,EAAD,mPAMA,kBAAC,KAAD,CAAYyD,eAAgBC,IAAe7C,KAAM8C,aAAW,GAA5D,gGAGE,kBAAC6D,GAAA,EAAD,CAAMC,KAAK,oDAAX,YAEQ,IALV,8OAUE,kBAACD,GAAA,EAAD,CAAMC,KAAK,0EACT,kDACM,IAZV,gCAgBF,kBAAC,GAAD,KACGjP,GACC,kBAAC,KAAD,CAAYiL,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1DnL,GAGJf,GAAiB,kBAACT,GAAA,EAAD,CAAmBC,MAAM,yBACzCQ,IAAkBe,GAAgB,kBAAC,GAAD,SAM5C+pB,GAAiBxwB,KAAO,gBC7GxB,IAQMywB,GAAgBrzB,YAAY,CAChCC,KAAM,UACNP,aAVuC,CACvC4zB,kBAAkB,EAClBC,mBAAmB,EACnBzxB,QAAQ,EACR0xB,gBAAiB,KACjBC,mBAAoB,MAMpBvzB,SAAU,CACRwzB,gBAAiB,SAACtzB,GAChBA,EAAMozB,gBAAkB,KACxBpzB,EAAMkzB,kBAAmB,GAE3BK,kBAAmB,SAACvzB,EAAOC,GACzBD,EAAMkzB,kBAAmB,EACzBlzB,EAAM0B,OAASzB,EAAOC,SAExBkzB,gBAAiB,SAACpzB,EAAOC,GACvBD,EAAMkzB,kBAAmB,EACzBlzB,EAAMozB,gBAAkBnzB,EAAOC,SAEjCszB,mBAAoB,SAACxzB,GACnBA,EAAMozB,gBAAkB,KACxBpzB,EAAMmzB,mBAAoB,GAE5BM,qBAAsB,SAACzzB,EAAOC,GAC5BD,EAAMmzB,mBAAoB,EADmB,MAEjBlzB,EAAOC,QAA3B8G,EAFqC,EAErCA,OAAQ0sB,EAF6B,EAE7BA,QACD,OAAX1sB,IACFhH,EAAM0B,OAASgyB,IAGnBL,mBAAoB,SAACrzB,EAAOC,GAC1BD,EAAMmzB,mBAAoB,EAC1BnzB,EAAMqzB,mBAAqBpzB,EAAOC,Y,GAYpC+yB,GAAc9yB,QANhBozB,G,GAAAA,kBACAD,G,GAAAA,gBACAF,G,GAAAA,gBACAI,G,GAAAA,mBACAC,G,GAAAA,qBACAJ,G,GAAAA,mBAGsBM,GAAyBV,GAAlC5yB,QChDTuzB,GAAeh0B,YAAY,CAC/BC,KAAM,SACNP,aARsC,CACtCu0B,uBAAuB,EACvBnyB,QAAQ,EACRoyB,qBAAsB,MAMtBh0B,SAAU,CACRi0B,qBAAsB,SAAC/zB,GACrBA,EAAM8zB,qBAAuB,KAC7B9zB,EAAM6zB,uBAAwB,GAEhCG,uBAAwB,SAACh0B,EAAOC,GAC9BD,EAAM6zB,uBAAwB,EAC9B7zB,EAAM0B,OAASzB,EAAOC,SAExB4zB,qBAAsB,SAAC9zB,EAAOC,GAC5BD,EAAM8zB,qBAAuB7zB,EAAOC,QACpCF,EAAM6zB,uBAAwB,M,GAShCD,GAAazzB,QAHf6zB,G,GAAAA,uBACAD,G,GAAAA,qBACAD,G,GAAAA,qBAGsBG,GAAwBL,GAAjCvzB,Q,SCvBT6zB,GAAet0B,YAAY,CAC/BC,KAAM,SACNP,aARsC,CACtC2N,iBAAiB,EACjBvL,OAAQ,GACR8L,eAAgB,MAMhB1N,SAAU,CACRwlB,eAAgB,SAACtlB,GACfA,EAAMwN,eAAiB,KACvBxN,EAAMiN,iBAAkB,GAE1BsY,iBAAkB,SAACvlB,EAAOC,GACxBD,EAAMiN,iBAAkB,EACxBjN,EAAM0B,OAASzB,EAAOC,SAExBsN,eAAgB,SAACxN,EAAOC,GACtBD,EAAMwN,eAAiBvN,EAAOC,QAC9BF,EAAMiN,iBAAkB,M,GAS1BinB,GAAa/zB,QAHfolB,G,GAAAA,iBACAD,G,GAAAA,eACA9X,G,GAAAA,eAGsB2mB,GAAwBD,GAAjC7zB,QAoBF+zB,GAAmC,SAC9Cp0B,GAEA,IAAM+F,EAA6B,GAC7BsU,EAA2B,GAC7BnO,OAAiC1G,EACrB6uB,EAAYr0B,EAAM6pB,OAAOnoB,OAAjCA,OA2BR,OA1BA2yB,EAAQruB,SAAQ,SAACsuB,EAAazoB,GAC5B,IAAM0oB,EAAiBD,EAAY/uB,OAASivB,kBAAgBC,QACvDF,GACHla,EAAMjU,KAAN,aACEC,IAAK,OAASgU,EAAM9T,QACjB+tB,KAGFC,GAAkB1oB,IAAMwoB,EAAQ9tB,OAAS,IAAM2F,GAClDnG,EAAOK,KAAP,2BACK8F,GADL,IAEEzF,MAAO4T,EAAM9T,OAAS2F,EAAM5F,cAG5BiuB,IACFroB,EAAQ,CACN7F,IAAK,QAAUN,EAAOQ,OACtB1G,KAAMy0B,EAAY3yB,KAClB2E,WAAY+T,EAAM9T,OAClB0F,aAAa,EACbzF,MAAO,EACPC,MAAO,OAKN,CAAC4T,EAAOtU,IAUJ2uB,GAAyBC,aACpC,CAACP,KACD,YAAgC,IAAD,EAA7B/Z,EAA6B,oBACvBua,GAAO,oBACVJ,kBAAgBK,GAAK,GADX,eAEVL,kBAAgBM,QAAU,GAFhB,eAGVN,kBAAgB3yB,MAAQ,GAHd,uBAIJ,GAJI,GAsBb,OAhBAwY,EAAMrU,SAAQ,SAACmN,GAIb,OAHIA,EAAK5N,OAASivB,kBAAgBC,UAChCG,EAAQvJ,OAAS,GAEXlY,EAAK5N,MACX,KAAKivB,kBAAgBK,GACnBD,EAAQJ,kBAAgBK,KAAO,EAC/B,MACF,KAAKL,kBAAgB3yB,MACnB+yB,EAAQJ,kBAAgB3yB,QAAU,EAClC,MACF,KAAK2yB,kBAAgBM,QACnBF,EAAQJ,kBAAgBM,UAAY,MAInCF,K,oBC/HL5lB,GAAQpL,cAEd,SAASmxB,GAAYxvB,GACnB,OAAQA,GACN,KAAKivB,kBAAgBK,GACnB,MAAO,SACT,KAAKL,kBAAgB3yB,MACnB,MAAO,QACT,KAAK2yB,kBAAgBM,QACrB,QACE,MAAO,WAIb,SAASE,GAAazvB,GACpB,OAAQA,GACN,KAAKivB,kBAAgBK,GACnB,OAAO7lB,GAAMhL,QAAQixB,MACvB,KAAKT,kBAAgB3yB,MACnB,OAAOmN,GAAMhL,QAAQkxB,IACvB,KAAKV,kBAAgBM,QACrB,QACE,OAAO9lB,GAAMhL,QAAQmxB,YAQpB,IAAMC,GAAiE,SAAC,GAExE,IADL7vB,EACI,EADJA,KAEA,OACE,kBAAC8vB,GAAA,EAAD,CACEnlB,SAAU6kB,GAAYxvB,GACtBvC,OAAQ,CACNC,KAAM,CACJspB,MAAOyI,GAAazvB,GACpB8sB,SAAUC,IAAUxX,OACpBlL,cAAe,cCjCnBZ,GAAQpL,cAkBd,ICjBY0xB,GDiBNC,GAAkB7xB,YAAY,eAC/BQ,IAAgBsxB,YAGRC,GAAyF,SAAC,GAEhG,IADLtiB,EACI,EADJA,KAEQxR,EAAsBwR,EAAtBxR,KAAM+zB,EAAgBviB,EAAhBuiB,MAAOnwB,EAAS4N,EAAT5N,KADjB,EAEkC8M,oBAAS,GAF3C,mBAEGpG,EAFH,KAEgB0pB,EAFhB,KAGE/gB,EAAc7B,uBAAY,kBAAY4iB,GAAe,KAAQ,IAC7D3J,EAtBR,SAAsBzmB,GACpB,OAAQA,GACN,KAAKivB,kBAAgBK,GACnB,OAAO7lB,GAAMhL,QAAQioB,UACvB,KAAKuI,kBAAgB3yB,MACnB,OAAOmN,GAAMhL,QAAQmoB,QACvB,KAAKqI,kBAAgBM,QACrB,QACE,OAAO9lB,GAAMhL,QAAQmxB,YAcP7I,CAAa/mB,GAC/B,OACE,oCACE,kBAACkL,EAAA,EAAD,CAAMzN,OAAQ,CAAEC,KAAM,CAAEspB,MAAOP,KAAgBrqB,MAC3C+zB,IAASA,EAAMnvB,SACjB,oCACG0F,GACC,oCACE,6BACA,kBAACgM,GAAA,EAAD,CAAM9H,QAASyE,GAAf,eAGF3I,GACA,kBAACrJ,EAAA,EAAD,CAAOG,QAAQ,MAAMU,UAAW8xB,IAC7BG,EAAM/pB,KAAI,SAACiqB,GACV,OACE,oCACGA,EAAUC,UACT,kBAACplB,EAAA,EAAD,CACEsG,OAAK,EACL/T,OAAQ,CACNC,KAAM,CACJF,QAASiM,GAAMgC,QAAQiF,EACvBC,WAAY,eAIf0f,EAAUj0B,MAGb,kBAAC8O,EAAA,EAAD,CAAMsG,OAAK,GAAE6e,EAAUj0B,cE/CvCob,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,SACNiY,SAAU,GACV5U,SAAU,GACVga,SAAU,SAAC/J,GAAD,OAA2B,kBAAC,GAAD,CAAiB5N,KAAM4N,EAAK5N,SAEnE,CACEc,IAAK,UACLxG,KAAM,OACNmd,aAAa,EACb5I,aAAa,EACb0D,SAAU,IACVoF,SAAU,SAAC/J,GAAD,OACR,kBAAC,GAAD,CAA6BA,KAAMA,OAK5B2iB,GAAiF,SAAC,GAGxF,IAFLzb,EAEI,EAFJA,MACAtU,EACI,EADJA,OAEA,OACE,kBAAC0T,GAAA,EAAD,CACEY,MAAOA,EACP0C,QAASA,GACThX,OAAQA,EACR2T,WAAYC,KAAsBC,UAClCO,iBAAiB,EACjBC,mBAAoB,kBAAe,GACnCE,WAAY,CACVE,eAAgB,SACdub,EACA3mB,GAEA,OAAIA,EACKA,EAAc,2BAChB2mB,GADe,IAElB/yB,OAAQ,CACNgzB,YAAa,CAAE1uB,QAAS,YAIvB,MAETiT,sBAAsB,EACtB0b,sBAAuBC,KAAsBre,QAE/CgC,cAAeC,KAAcC,KAC7BC,cAAeC,KAAcC,yB,6BC1D7BlL,GAAQpL,cAERuyB,GAAe,CAAEC,SAAU,GAC3BC,GAA8B,CAClCpzB,KAAM,CAAEE,MAAO,SAGXmzB,GAAe,SAACnjB,GACpB,IAAMojB,EACJ,kBAACC,GAAA,EAAD,CACEjmB,KAAK,WACLmM,aAAYvJ,EAAKtT,KACjBmD,OAAQ,CACNC,KAAK,aACHF,QAASiM,GAAMgC,QAAQiF,EACvBwgB,UAAW,QACRJ,GAA4BpzB,OAGnCkS,SAAUhC,EAAKgC,SACflF,UAAW,CAAEC,SAAUiD,EAAKif,MAC5BzwB,KAAMwR,EAAKtT,KACXsQ,QAASgD,EAAKhD,UAGlB,OAAOgD,EAAKujB,QACV,kBAAC7X,GAAA,EAAD,CACEC,QAAS3L,EAAKujB,QACd5mB,GAAIqD,EAAKyL,UACTuX,aAAcA,GACdnzB,OAAQqzB,GACRM,MAAOC,KAAaC,KACpBja,gBAAiBC,KAAgBia,WAEhCP,GAGHA,GAIEQ,GAAyB,kBAAY,MAE9BC,GAAmD,WAAO,IAAD,EACf5kB,aACnD,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAO6J,WAD7BP,EAD4D,EAC5DA,kBAA2B8D,EADiC,EACzCv1B,OAGXw1B,EAAiB9kB,aAC/B,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAOsN,UAD7Bz1B,OAIFQ,EAAWG,cACX+0B,EAAuBrkB,uBAAY,WPcd,IAAC2gB,EOb1BxxB,GPa0BwxB,GObFuD,EPaC,uCAAgC,WAC3D/0B,GAD2D,eAAAT,EAAA,6DAG3DS,EAASsxB,MAHkD,kBAKpC3yB,EAAUw2B,oBAAoB,CACjDpsB,MAAOyoB,EAAU4D,sBAAoBC,QAAUD,sBAAoBE,MANZ,OAKnDxwB,EALmD,OAQzD9E,EACEuxB,GAAqB,CACnBzsB,SACA0sB,aAXqD,iEAenDzxB,EAAmB,EAAD,GAAMC,EAAUmxB,IAfiB,yDAAhC,0DOZxB,CAACnxB,EAAU+0B,IACd,OACE,kBAACQ,GAAA,EAAD,CACElnB,KAAK,UACLmnB,UAAQ,EACR10B,OAAQ,CACNC,KAAM,CACJE,MAAO,OACPQ,UAAWqL,GAAMnL,QAAQ8zB,WACzB5zB,gBAAiBiL,GAAMhL,QAAQC,QAGnCoW,MAAO,CACL,CACEhU,IAAK,QACL+rB,KAAM,iBACNvyB,KAAK,GAAD,OAAKo3B,EAAgB,SAAW,UAAhC,sBACJP,QAASO,EACL,sFACA,KACJrY,UAAWlP,aAAM,WACjByF,SAAUge,EACVhjB,QAASinB,GAEX,CACE/wB,IAAK,QACL+rB,KAAM,OACNvyB,KAAM,gBACNsV,UAAW+hB,IAGfH,uBAAwBA,GACxBT,aAAcA,MC/FPsB,GAA+C,WAAO,IACjDV,EAAiB9kB,aAC/B,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAOsN,UAD7Bz1B,OAGR,OACE,qCACIw1B,GACA,kBAAC,KAAD,CAAYhjB,eAAgBC,IAAe0jB,SAA3C,2BAIDX,GACC,kBAAC,KAAD,CAAYhjB,eAAgBC,IAAeyN,SAA3C,yBAKF,kBAAC,GAAD,Q,UChBOkW,GAA6C,WACxD,IAAMC,EAAmB3lB,YAAYsiB,IAsB/BsD,EAAoB,CACxBC,WAAY,gBACZC,UAtBmC,CACnC,CACEC,OAAQ,SACRH,KAAMD,EAAiBvD,kBAAgBK,IACvCtI,MAAO3oB,cAAWI,QAAQixB,MAC1BmD,iBAAkB,iBAEpB,CACED,OAAQ,SACRH,KAAMD,EAAiBvD,kBAAgB3yB,OACvC0qB,MAAO3oB,cAAWI,QAAQkxB,IAC1BkD,iBAAkB,iBAEpB,CACED,OAAQ,UACRH,KAAMD,EAAiBvD,kBAAgBM,SACvCvI,MAAO3oB,cAAWI,QAAQq0B,OAC1BD,iBAAkB,oBAOtB,OACE,kBAACE,GAAA,EAAD,CACEN,KAAMA,EACNO,YAAa,GACbC,oBAAqB,kBACrBC,qBAAsB,CAAEf,UAAU,EAAOgB,aAAc,SACvDC,YAAY,EACZxG,OAAQ,IACRhvB,MAAO,OClBPsL,GAAsB/K,YAAY,eACnCQ,IAAgBsxB,YAGRoD,GAET,WAAO,IAAD,EACoCxmB,aAC1C,SAACpS,GAAD,OAAsBA,EAAM6pB,OAAOnoB,UAD7BuL,EADA,EACAA,gBAAiBO,EADjB,EACiBA,eAInBtL,EAAWG,cALT,EAOgB+P,YAAYgiB,IAP5B,mBAOD/Z,EAPC,KAOMtU,EAPN,KAeR,OANAzD,qBAAU,WACRJ,ERK6B,uCAAgB,WAC/CA,GAD+C,eAAAT,EAAA,6DAG/CS,EAASojB,MAHsC,kBAKxBzkB,EAAUg4B,kBALc,OAKvC7xB,EALuC,OAM7C9E,EAASqjB,GAAiBve,IANmB,iEAQvC/E,EAAmB,EAAD,GAAMC,EAAUsL,IARK,yDAAhB,uDQJ7BtL,ETE6B,uCAAgB,WAC/CA,GAD+C,eAAAT,EAAA,6DAG/CS,EAAS6xB,MAHsC,kBAKxBlzB,EAAUi4B,wBALc,OAKvC9xB,EALuC,OAM7C9E,EAAS8xB,GAAuBhtB,IANa,iEAQvC/E,EAAmB,EAAD,GAAMC,EAAU4xB,IARK,yDAAhB,uDSD7B5xB,EVwB8B,uCAK7B,WAAOA,GAAP,eAAAT,EAAA,6DACHS,EAASoxB,MADN,kBAGoBzyB,EAAUk4B,yBAH9B,OAGK/xB,EAHL,OAID9E,EAASqxB,GAAkBvsB,IAJ1B,iEAMK/E,EAAmB,EAAD,GAAMC,EAAUkxB,IANvC,yDAL6B,yDUvB7B,CAAClxB,IAGF,kBAAC,GAAD,KACE,kBAACU,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,SACN0E,IAAK,UAEP,CACE1E,KAAM,gBACN0E,IAAK,eACLxD,GAAI,WAKVoK,IAAoBO,GACpB,kBAAC5K,EAAA,EAAD,CAAO+M,YAAU,EAAC7M,IAAI,MACpB,kBAAC,GAAD,CAAWkR,KAAM,EAAGhR,OAAQ,CAAEC,KAAM,CAAE6O,UAAW,KAC/C,kBAAC,GAAD,OAEF,kBAAC,GAAD,CACEkC,KAAM,EACNhR,OAAQ,CAAEC,KAAM,CAAE6O,UAAW,IAC7BtB,gBAAgB,SAEhB,kBAAC,GAAD,QAIN,kBAAC,GAAD,KACGhD,GACC,kBAAC,KAAD,CACE0G,eAAgBC,IAAezU,MAC/B0U,aAAW,EACX3Q,UAAWgL,IAEVjB,GAGJP,GACC,kBAACxF,GAAA,EAAD,CAAmBC,MAAM,+BAEzBuF,IAAoBO,GACpB,kBAAC,GAAD,CAAyB6M,MAAOA,EAAOtU,OAAQA,OAOzD6yB,GAAkBp2B,KAAO,iB,SLrFb8yB,O,oBAAAA,Q,KAmBZ,IAUa0D,GAAMp5B,YAAY,CAC7BC,KAAM,MACNP,aAZ6B,CAC7B25B,kBAAkB,EAClBC,QAAS,GACTC,gBAAiB,KACjBC,aAAc,KACdC,eAAe,EACfC,eAAgB,KAChBC,kBAAmB,MAMnBz5B,SAAU,CACR05B,gBAAiB,SAACx5B,GAChBA,EAAMm5B,gBAAkB,KACxBn5B,EAAMi5B,kBAAmB,GAE3BQ,kBAAmB,SAACz5B,EAAOC,GACzBD,EAAMi5B,kBAAmB,EACzBj5B,EAAMk5B,QAAUj5B,EAAOC,SAEzBi5B,gBAAiB,SAACn5B,EAAOC,GACvBD,EAAMi5B,kBAAmB,EACzBj5B,EAAMm5B,gBAAkBl5B,EAAOC,SAEjCw5B,eAAgB,SAAC15B,GACfA,EAAMs5B,eAAiB,KACvBt5B,EAAMq5B,eAAgB,GAExBM,iBAAkB,SAAC35B,EAAOC,GACxBD,EAAMq5B,eAAgB,EACtBr5B,EAAMu5B,kBAAoBt5B,EAAOC,SAEnCo5B,eAAgB,SAACt5B,EAAOC,GACtBD,EAAMq5B,eAAgB,EACtBr5B,EAAMs5B,eAAiBr5B,EAAOC,SAEhC05B,eAAgB,SAAC55B,GACfA,EAAMq5B,eAAgB,EACtBr5B,EAAMs5B,eAAiB,KACvBt5B,EAAMu5B,kBAAoB,MAE5BM,kBAAmB,SAAC75B,GAClBA,EAAMo5B,aAAN,2BACKp5B,EAAMo5B,cADX,IAEEn5B,YAAQuF,KAGZs0B,gBAAiB,SAAC95B,EAAOC,GACvBD,EAAMo5B,aAAen5B,EAAOC,YAKV65B,GAAef,GAAxB34B,Q,GAYX24B,GAAI74B,QATNq5B,G,GAAAA,gBACAC,G,GAAAA,kBACAN,G,GAAAA,gBACAU,G,GAAAA,kBACAC,G,GAAAA,gBACAJ,G,GAAAA,eACAC,G,GAAAA,iBACAL,G,GAAAA,eACAM,G,GAAAA,eAGF,SAASI,GACPv4B,EACAqJ,GAEA,OAAIrJ,EAAEw4B,yBAA2BnvB,EAAEmvB,uBAC1Bx4B,EAAEy4B,UAAUhvB,cAAcJ,EAAEovB,WAE9Bz4B,EAAEw4B,uBAAuB/uB,cAAcJ,EAAEmvB,wBAG3C,IAAME,GAA8C,SACzDn6B,GAEA,IAAMk5B,EAAUl5B,EAAMg5B,IAAIE,QACvBkB,QAAO,SAACC,GAAD,OAAeA,EAAUC,iBAChC3uB,KAAI,SAAC0uB,GACJ,IAAMvuB,EAASC,KAAIC,MAAMquB,EAAUn0B,QACnC,OAAO,2BACFm0B,GADL,IAEEJ,wBAA0BnuB,EAAOpM,OAASoM,EAAO5F,QAAW,GAC5Dg0B,WAAapuB,EAAOpM,OAASoM,EAAOyuB,WAAc,QAGrD1vB,KAAKmvB,IAEJj0B,EAAwB,GAwB5B,OAtBAmzB,EAAQlzB,SAAQ,SAACq0B,EAAoCluB,GAAW,IAAD,EACrD8tB,EAA2BI,EAA3BJ,wBACJ,UAAAl0B,EAAOA,EAAOQ,OAAS,UAAvB,eAA2B1G,QAASo6B,GACtCl0B,EAAOK,KAAK,CACVC,IAAK,QAAUN,EAAOQ,OACtB1G,KAAMo6B,EACN3zB,WAAY6F,EACZ3F,MAAO,EACPC,MAAO,EACPwF,aAAa,OAKnBlG,EAASA,EAAO4F,KAAI,SAACO,EAAOC,GAAW,IAAD,EACpC,OAAO,2BACFD,GADL,IAEEzF,QACG,UAAAV,EAAOoG,EAAQ,UAAf,eAAmB7F,aAAc4yB,EAAQ3yB,QAAU2F,EAAM5F,gBAIzD,CAAC4yB,EAASnzB,IMzINy0B,GAA4C,WAAO,IAAD,MAMzDpoB,aAAY,SAACpS,GAAD,OAAsBA,EAAMg5B,OAJ1CI,EAF2D,EAE3DA,aACAE,EAH2D,EAG3DA,eACAC,EAJ2D,EAI3DA,kBACAF,EAL2D,EAK3DA,cAEIn3B,EAAWG,cAEXuZ,EAAwB7I,uBAAY,WACxC7Q,EAAS23B,QACR,CAAC33B,IAEEivB,EAA0Bpe,uBAAY,WAC1C7Q,EAAS03B,QACR,CAAC13B,IAEEia,EAASpJ,uBAAY,YACzB,OAAIqmB,QAAJ,IAAIA,OAAJ,EAAIA,EAAciB,YAChBn4B,ENsImB,uCAAgB,WAAOA,GAAP,eAAAT,EAAA,6DACvCS,EAASw3B,MAD8B,kBAGhBr4B,EAAOo5B,YAHS,OAG/BzzB,EAH+B,OAIrC9E,EAASy3B,GAAiB3yB,GAAU,qBAJC,iEAM/B/E,EAAmB,EAAD,GAAMC,EAAUo3B,IANH,yDAAhB,yDMpIpB,CAACp3B,EAAUk3B,IAER1d,EAAc6d,EAAoB,IAAM,IAE9C,OACE,kBAAC,GAAD,CACE1hB,QAAoB,OAAZuhB,QAAY,IAAZA,OAAA,EAAAA,EAAcn5B,UAAWq1B,GAAoBnZ,OACrDzB,UAAW2e,EACXvhB,SAAU4D,EACVxY,SAAUwY,EACVpL,UAAWsL,EACX7D,YAAaoZ,EACbnW,UAAWmB,EACXzc,MAAO45B,EACPpe,eAAgBqe,EAChBte,kBAAkB,SAClBjE,mBAAoB,CAClBzR,KAAM0R,KAAWC,YACjBnH,MAAO,yBAEToH,WAAY,CACVC,YAAY,IAGd,kBAAC3G,EAAA,EAAD,+CAC0C,IACxC,uCAAS2oB,QAAT,IAASA,GAAT,UAASA,EAAciB,iBAAvB,aAAS,EAAyBn0B,QAFpC,QAIA,kBAACuK,EAAA,EAAD,KACE,qCAAO2oB,QAAP,IAAOA,GAAP,UAAOA,EAAciB,iBAArB,aAAO,EAAyBK,aAElC,kBAACjqB,EAAA,EAAD,0HCnDOkqB,GAA6E,SAAC,GAEpF,IADLN,EACI,EADJA,UAEMn4B,EAAWG,cACXga,EAAWtJ,uBACf,SAAC9S,GACCiC,EACE43B,GAAgB,CACdO,YACAp6B,cAIN,CAACiC,EAAUm4B,IAEb,OACE,kBAACxqB,GAAA,EAAD,CACEyM,cAAe,CACbpM,SAAU,gBAEZlN,OAAQ,CACNuZ,SAAU,CACRC,WAAY,SAGhBjM,KAAK,SACLkM,iBAAe,EACfC,aAAW,eACXC,UAAW,CACTC,gBAAiBC,KAAgBC,gBACjCzC,MAAO,CACL,CACEhU,IAAK,aACL1E,KAAM,wBACNwO,QAAS,kBAAYkM,EAASiZ,GAAoBnZ,eCtBxDY,GAAqB,CACzB,CACE1W,IAAK,UACLxG,KAAM,OACNiY,SAAU,IACV5U,SAAU,IACV8Z,aAAa,EACbE,SAAU,SAACmd,GAAD,OACR,kBAACpiB,GAAA,EAAD,CAAMC,KAAI,kBAAamiB,EAAUn0B,SAAjC,WACWm0B,EAAUn0B,UAIzB,CACEG,IAAK,UACLxG,KAAM,sBACNiY,SAAU,IACVkF,aAAa,EACbE,SAAU,SAACmd,GAAD,OACR,kBAAC5pB,EAAA,EAAD,KAAO4pB,EAAUp3B,QAGrB,CACEoD,IAAK,UACLxG,KAAM,UACNuU,aAAa,EACb0D,SAAU,GACVoF,SAAU,SAACmd,GAAD,OACR,kBAAC,GAAD,CAAuBA,UAAWA,KAEpC52B,UAAWC,YAAY,CACrB8Z,YAAa,8BASNod,GAET,SAAC,GAAqC,IAAnCtiB,EAAkC,EAAlCA,kBAAsBjV,EAAY,wCACO+O,aAC5C,SAACpS,GAAD,OAAsBA,EAAMg5B,OADtBC,EAD+B,EAC/BA,iBAAkBE,EADa,EACbA,gBAGpBj3B,EAAWG,cAJsB,EAKb+P,YACxB+nB,IANqC,mBAKhCjB,EALgC,KAKvBnzB,EALuB,KAcvC,OALAzD,qBAAU,WACH42B,EAAQ3yB,QAAW0yB,GAAqBE,GAC3Cj3B,ER6EoB,uCAAgB,WAAOA,GAAP,eAAAT,EAAA,6DACxCS,EAASs3B,MAD+B,kBAGjBn4B,EAAOw5B,gBAHU,OAGhC7zB,EAHgC,OAItC9E,EAASu3B,GAAkBzyB,IAJW,iEAMhC/E,EAAmB,EAAD,GAAMC,EAAUi3B,IANF,yDAAhB,yDQ3ErB,CAACj3B,EAAUg3B,EAASC,EAAiBF,IAEtC,kBAACr2B,EAAA,EAAUS,EACT,kBAAC,GAAD,MACC81B,GACC,kBAAC,GAAD,CAAYjlB,eAAgBC,IAAezU,MAAO0U,aAAW,GAC1D+kB,GAGL,kBAAC,GAAD,KACGF,GACC,kBAAC,GAAD,CACE/xB,aAAa,qBACbC,UAAWpI,QAAQm6B,EAAQ3yB,WAG7B0yB,IAAqBE,GACrB,kBAACv2B,EAAA,EAAD,CAAOE,IAAI,KACT,kBAAC,GAAD,qDAEE,kBAACmV,GAAA,EAAD,CAAMC,KAAK,UAAX,aAFF,MAGE,kBAACD,GAAA,EAAD,CAAMC,KAAK,YAAX,SAHF,mCAIE,kBAACD,GAAA,EAAD,CAAMC,KAAK,iEAAX,eAEQ,IANV,0EAQO,kCARP,mBAUA,kBAAC,GAAD,CACEmC,MAAO6e,EACPnc,QAASA,GACThX,OAAQA,EACRuS,kBAAmBA,QC3GpBwiB,GAA2C,WACtD,OACE,kBAACl4B,EAAA,EAAD,CAAOE,IAAI,KACT,kBAAC,GAAD,wKAGgB,uCAHhB,4DAMA,kBAAC2N,EAAA,EAAD,CAAM5N,GAAG,MACP,gHAEkB,kBAACoV,GAAA,EAAD,CAAMC,KAAK,kBAAX,iBAFlB,UAIA,uGAEK,kBAACD,GAAA,EAAD,CAAMC,KAAK,kCAAX,aAFL,MAEqE,IACnE,kBAACD,GAAA,EAAD,CAAMC,KAAK,+CAAX,OAHF,KAKA,mGACuE,IACrE,gCAASoG,GAAOC,UAFlB,8CAGU,yDAHV,+FAIuE,IACrE,uCALF,8HASA,2CACc,uCADd,mCACiE,IAC/D,6DAFF,2EAKA,oFACwD,IACtD,kBAACtG,GAAA,EAAD,CAAMC,KAAK,KAAX,gBAFF,qDC3BK6iB,GAET,WAAO,IAAD,EACc9c,cAAdzb,EADA,EACAA,KAAM0b,EADN,EACMA,IACR5F,EAAoBjG,mBAAmB,IAE7C,OACE,kBAAC,GAAD,KACE,kBAACzP,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,gBAAgBZ,cAAc,UAC9D,kBAAC,GAAD,CACEyK,MAAO,CACL,CACE1Y,KAAM,qBACN0E,IAAK,WAKb,kBAAC,GAAD,KACE,kBAACoK,EAAA,EAAD,2DACsD,IACpD,kBAACwH,GAAA,EAAD,CACEC,KAAI,kBAAaoG,GAAOC,WAD1B,kBAEaD,GAAOC,WAAmB,IAJzC,wEAQF,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACvJ,GAAA,EAAD,CAAW3B,QAAS6K,EAAKjJ,WAAW,YACpC,kBAACD,GAAA,EAAD,CACE3B,QAAO,UAAK6K,EAAL,iBACPjJ,WAAW,4BAGf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkJ,OAAK,EAAC3b,KAAMA,GACjB,kBAAC,GAAD,CAAgB8V,kBAAmBA,KAErC,kBAAC,IAAD,CAAO6F,OAAK,EAAC3b,KAAI,UAAKA,EAAL,kBACf,kBAAC,GAAD,WAQZu4B,GAASv4B,KAAO,OC5CT,IAAMw4B,GAAsC,WACjD,IAAM38B,EAAUsf,cAChB,OACE,kBAAC/a,EAAA,EAAD,CACEI,OAAQ,CACNC,KAAM,CACJE,MAAO,SAGXN,GAAG,OAEH,kBAACgwB,EAAA,EAAD,CACE7vB,OAAQ,CACNC,KAAM,CACJF,QAAS,IAGbk4B,SAAU,CACR,CACE50B,IAAK,YACL1E,KAAM,UACNsO,UAAW,CAAEC,SAAU,WACvBC,QAAS,WACP9R,EAAQ+H,KAAKhE,GAAYI,SAI/B6X,MAAO,CACL,CACEhU,IAAK,SACL1E,KAAM,SACNsO,UAAW,CAAEC,SAAU,UACvBgrB,aAAc,CACZ7gB,MAAO,CACL,CACEhU,IAAK,kBACL1E,KAAM,gBACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKwyB,GAAkBp2B,QAEtD,CACE6D,IAAK,kBACL1E,KAAM,yBACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKkpB,GAAkB9sB,QAEtD,CACE6D,IAAK,kBACL1E,KAAM,gBACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKolB,GAAahpB,QAEjD,CACE6D,IAAK,cACL1E,KAAM,WACNw5B,SAAUC,KAAuBC,QACjCC,aAAc,CACZC,YAAY,EACZC,eAAe,EACfzrB,MAAO,WACPsK,MAAO,CACL,CACEhU,IAAK,eACL1E,KAAM,aACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKyrB,GAAervB,QAEnD,CACE6D,IAAK,sBACL1E,KAAM,eACNwO,QAAS,kBACP9R,EAAQ+H,KAAK4sB,GAAiBxwB,QAElC,CACE6D,IAAK,gBACL1E,KAAM,0BAQpB,CACE0E,IAAK,UACL1E,KAAM,OACNsO,UAAW,CAAEC,SAAU,QACvBgrB,aAAc,CACZ7gB,MAAO,CACL,CACEhU,IAAK,kBACL1E,KAAM,eACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKuY,GAAkBnc,QAEtD,CACE6D,IAAK,WACL1E,KAAM,QACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKge,GAAW5hB,QAE/C,CACE6D,IAAK,aACL1E,KAAM,UACNwO,QAAS,kBAAY9R,EAAQ+H,KAAKgY,GAAa5b,WAKvD,CACE6D,IAAK,cACL1E,KAAM,oBACNsO,UAAW,CAAEC,SAAU,YACvBC,QAAS,kBAAY9R,EAAQ+H,KAAKoe,GAAehiB,QAEnD,CACE6D,IAAK,SACL1E,KAAM,MACNsO,UAAW,CAAEC,SAAU,YACvBC,QAAS,kBAAY9R,EAAQ+H,KAAK20B,GAASv4B,aC3HjDiB,GAAYC,YAAY,CAC5B+3B,UAAW,UACX13B,gBAAiBH,cAAWyS,eAAeqlB,iBAGhCC,GAAkC,WAC7C,OACE,kBAAC/4B,EAAA,EAAD,CACEC,GAAG,SACHY,UAAWA,GACXkM,YAAU,EACVa,gBAAgB,UAEhB,kBAAC5N,EAAA,EAAD,CACEC,GAAG,UACHC,IAAI,KACJE,OAAQ,CACNC,KAAM,CACJC,SAAU,KACVC,MAAO,SAGXwM,YAAU,EACVC,cAAc,UAOd,kBAAChN,EAAA,EAAMg5B,KAAP,KACE,kBAACC,EAAA,EAAD,CAAOC,IAAKC,IAAMC,IAAI,mBAAmB74B,MAAO,MAElD,kBAACP,EAAA,EAAMg5B,KAAP,CAAYK,eAAa,GACvB,kBAACxrB,EAAA,EAAD,CAAMyrB,QAAM,EAACnd,QAAQ,SAArB,kBAIF,kBAAC,GAAD,SClBKod,GAAwD,SAAxDA,IAA+D,IAClEv9B,EAAoBwT,aAAY,SAACpS,GAAD,OAAsBA,EAAM+hB,QAA5DnjB,gBACFgf,EAAWC,cACXxf,EAAUsf,cAQhB,OANArb,qBAAU,WACH1D,GAAmBgf,EAASG,WAAaqe,GAAW55B,MACvDnE,EAAQ+H,KAAKg2B,GAAW55B,QAEzB,CAACnE,EAASO,EAAiBgf,EAASG,WAGrC,kBAACnb,EAAA,EAAD,CAAOE,IAAI,KAAK0N,gBAAgB,UAC9B,kBAAC,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO2N,OAAK,EAAC3b,KAAM,CAAC25B,EAAU35B,KAAMo2B,GAAkBp2B,OACpD,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAM8sB,GAAkB9sB,MAC7B,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAMgpB,GAAahpB,MACxB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAMqvB,GAAervB,MAC1B,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAMwwB,GAAiBxwB,MAC5B,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO2b,OAAK,EAAC3b,KAAMmc,GAAkBnc,MACnC,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAM4hB,GAAW5hB,MACtB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAM4b,GAAa5b,MACxB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO2b,OAAK,EAAC3b,KAAMgiB,GAAehiB,MAChC,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAMu4B,GAASv4B,MACpB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO2b,OAAK,EAAC3b,KAAMJ,GAAYI,MAC7B,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAU65B,GAAG,YAMrBF,GAAU35B,KAAO,ICxDV,IAAM85B,GAAqC,WAAO,IAAD,ECNjD,SACLC,EACAC,GACa,IAAD,EACoBnqB,mBAAmB,MADvC,mBACL7Q,EADK,KACKi7B,EADL,OAEcpqB,mBAAwB,MAFtC,mBAEL3S,EAFK,KAEEg9B,EAFF,OAGsBrqB,oBAAS,GAH/B,mBAGLqI,EAHK,KAGMiiB,EAHN,KA+BZ,MAAO,CA1BP,WACEA,GAAa,GACbJ,IACGK,MACC,SAACp7B,GACKg7B,EACFA,EAAgBh7B,GAEhBi7B,EAAYj7B,KANpB,uCASI,WAAOq7B,GAAP,SAAAp7B,EAAA,kEACEi7B,EADF,SACiB96B,EAAsBi7B,GADvC,6EATJ,uDAaGC,SAAQ,WACPH,GAAa,OAYjB,CAAEn7B,WAAUi7B,cAAa/8B,QAAOg9B,WAAUhiB,YAAWqiB,MARvD,WACEN,EAAY,MACZC,EAAS,MACTC,GAAa,MDrBXK,EACF,kBAAMr8B,EAAQs8B,WACd,SAACz7B,GACKA,EAASE,SAAWw7B,eAAarI,GACnC6H,EAASl7B,EAAS27B,QAAU,gCAClB37B,EAAS47B,OAGnBX,EAAYj7B,GAFZk7B,EAAS,mDAVuC,mBAEpDW,EAFoD,YAGlD3iB,EAHkD,EAGlDA,UAAWlZ,EAHuC,EAGvCA,SAAiB87B,EAHsB,EAG7B59B,MAAqBg9B,EAHQ,EAGRA,SAAUD,EAHF,EAGEA,YAHF,EAgBRrqB,aAC5C,SAACpS,GAAD,OAAsBA,EAAM+hB,QADtBnjB,EAhB8C,EAgB9CA,gBAAwB2+B,EAhBsB,EAgB7B79B,MAGnBwC,EAAWG,cACXhE,EAAUsf,cApBsC,EAsBtBtL,oBAAS,GAtBa,mBAsB/CrT,EAtB+C,KAsBrCw+B,EAtBqC,OAuB5BnrB,mBAAiB,IAvBW,mBAuB/C6O,EAvB+C,KAuBxCuc,EAvBwC,OAwBtBprB,mBAAiB,IAxBK,mBAwB/C1T,EAxB+C,KAwBrC6jB,EAxBqC,KA0BhDkb,EAAmB3qB,uBACvB,SAACC,EAAuC4f,GACtC4K,IAAc5K,KAEhB,IAEIrR,EAAgBxO,uBACpB,SAACC,EAAsCQ,GACrCiqB,EAAQ,OAACjqB,QAAD,IAACA,IAAY,MAEvB,IAEIgO,EAAmBzO,uBACvB,SAACC,EAAsCQ,GACrCgP,EAAW,OAAChP,QAAD,IAACA,IAAY,MAE1B,IAEIgX,EAAsBzX,uBAC1B,SACEC,GAEA0pB,EAAS,MACTx6B,EACEnC,EAAW,CACTrB,SAAUwiB,EACVviB,WACAe,MAAO,UAIb,CAACwC,EAAUgf,EAAOviB,EAAU+9B,IAExBhpB,EAAeX,uBACnB,SAACQ,GACCA,EAAMI,iBACN+oB,EAAS,MACTW,MAEF,CAACA,EAAYX,IAGfp6B,qBAAU,WACJ1D,EACFP,EAAQ+H,KAAK+1B,GAAU35B,MAEvBN,EACEnC,EAAW,CACTrB,SAAUwiB,EACVviB,WACAC,iBAAiB,EACjBc,MAAO69B,OAIZ,CAACA,EAAWr7B,EAAUgf,EAAO7iB,EAASO,EAAiBD,IAE1D2D,qBAAU,WACJd,GACFU,EACEnC,EAAW,CACTrB,SAAU8C,EAAS0f,MACnBviB,SAAU6C,EAAS47B,OACnBx+B,iBAAiB,EACjB2+B,UAAW,KACXv+B,gBAIL,CAACkD,EAAUlD,EAAUwC,IAExB,IAAM9B,EAAQ49B,GAAgBC,EAE9B,OACE,kBAAC36B,EAAA,EAAD,CAAOC,GAAG,OAAOC,IAAI,IAAImR,SAAUP,GAChChU,GACC,kBAAC,GAAD,CACEwU,eAAgBC,IAAezU,MAC/B0U,aAAa,EACb9D,UAAWka,EACXzb,uBAAuB,SAEtBrP,GAGL,kBAACkD,EAAA,EAAD,CAAOE,IAAI,KACT,kBAACuS,EAAA,EAAD,CACE3N,MAAM,QACNuD,MAAOiW,EACP5L,UAAQ,EACR/P,KAAK,QACLoQ,WAAS,EACTD,SAAU6L,IAEZ,kBAAClM,EAAA,EAAD,CACE3N,MAAM,WACNuD,MAAOtM,EACP2W,UAAQ,EACR/P,KAAK,WACLmQ,SAAU8L,IAEZ,kBAACmR,EAAA,EAAD,CACEjrB,MAAM,cACNkrB,QAAS5zB,EACT0W,SAAUgoB,KAGd,kBAAC96B,EAAA,EAAD,CAAO4N,gBAAgB,MAAMZ,cAAc,SAASD,YAAU,EAAC7M,IAAI,MAChE4X,GAAa,kBAACC,EAAA,EAAD,CAASC,KAAMC,IAAYC,SACzC,kBAAC9C,EAAA,EAAD,CAAezS,KAAK,SAAS5D,KAAK,UAAUwT,SAAUuF,OE1JjDijB,GAAuC,WAClD,OACE,kBAAC/6B,EAAA,EAAD,CAAO+M,YAAU,EAACa,gBAAgB,QAAQ1N,IAAI,KAC5C,kBAAC+4B,EAAA,EAAD,CAAOC,IAAKC,IAAMC,IAAI,mBAAmB74B,MAAO,KAChD,kBAACsN,EAAA,EAAD,CAAMsG,OAAK,EAACgI,QAAQ,UAApB,yBCHAtb,GAAYC,YAAY,yBAC5BR,SAAU,IACVS,UAAWC,cAAWC,QAAQC,WAC9BC,gBAAiBH,cAAWI,QAAQC,OACjCC,IAAgB05B,aAJQ,IAK3BC,kBAAmB,QAGRzB,GAAyD,WACpE,OACE,kBAACx5B,EAAA,EAAD,CACE4N,gBAAgB,SAChBZ,cAAc,SACdkuB,cAAY,EACZnuB,YAAU,EACV5M,QAAQ,MAER,kBAACH,EAAA,EAAD,CACEoR,KAAM,EACNvQ,UAAWA,GACXmM,cAAc,SACd9M,IAAI,IACJC,QAAQ,MAER,kBAAC,GAAD,MACA,kBAAC,GAAD,SAMRq5B,GAAW55B,KAAO,SC9BX,IAAMu7B,GAAoD,SAAC,GAG3D,IAFLp7B,EAEI,EAFJA,SACGkM,EACC,6BACIjQ,EAAoBwT,aAAY,SAACpS,GAAD,OAAsBA,EAAM+hB,QAA5DnjB,gBACR,OACE,kBAAC,IAAD,iBACMiQ,EADN,CAEEmvB,OAAQ,gBAAGpgB,EAAH,EAAGA,SAAH,OACNhf,EACE+D,EAEA,kBAAC,IAAD,CACE05B,GAAI,CACFte,SAAUqe,GAAW55B,KACrBxC,MAAO,CAAEi+B,KAAMrgB,WCdhBsgB,GAA+B,WAC1C,OACE,kBAAC,IAAD,CAAQ7/B,QAASA,GACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO8f,OAAK,EAAC3b,KAAM45B,GAAW55B,MAC5B,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO2b,OAAK,EAAC3b,KAAK,QAAlB,aAGA,kBAAC,GAAD,CAAcA,KAAM25B,GAAU35B,MAC5B,kBAAC,GAAD,U,SCNG27B,GAAcC,aAAgB,CACzCrc,KAAM3hB,EACNypB,OAAQuU,aAAgB,CACtB18B,OAAQyyB,GACRgD,OAAQlD,GACRP,QAASC,GACT9O,QAASiB,KAEXhe,IAAK8C,GACLoC,IAAKuB,GACLyQ,MAAOqB,GACP/b,QAASuB,GACTmzB,IAAKe,KCfMsE,GAAQC,YAAe,CAClCj+B,QAAS89B,GACT39B,WAAY+9B,cAAuBC,QCNK,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAiC,SACzEC,GADyE,OAEtE,SAACz+B,GACJ,IlGuB8Bqe,EkGvBxBqgB,EAAYF,IACZG,EAAcF,EAAKz+B,GACzB,GAAIA,EAAOsF,OAASxF,EAAWwF,KAAM,CAAC,IAAD,EACuBtF,EAAOC,QAAzDxB,EAD2B,EAC3BA,SAAUC,EADiB,EACjBA,SAAUC,EADO,EACPA,gBAAiBI,EADV,EACUA,SACzCN,GAAYC,IlGmBY2f,EkGlBV,CACd5f,WACAC,YlGiBNmW,OAAO+pB,OAAOv+B,EAAiBge,IkGdzBqgB,EAAU5c,KAAKnjB,kBAAoBA,IACrCJ,EAAYqpB,YAAYnpB,GACxBF,EAAYgkB,YAAY7jB,GACxBH,EAAYsgC,iBAAiB9/B,IAGjC,OAAO4/B,SCOT,SAASG,KACPC,IAAShB,OACP,kBAAC,IAAMiB,WAAP,KACE,kBAAC,IAAD,CAAUZ,MAAOA,IACf,kBAAC,GAAD,QAGJa,SAASC,eAAe,QA9B5BC,cAEA17B,YAAY,CACVoN,UAAW,CACT,gBAAiB,CACfuuB,WAAYz7B,cAAWI,QAAQs7B,gBAEjC,8CAA+C,CAC7CzoB,OAAQ,EACR9T,QAAS,EACTovB,OAAQ,SAIV,6DAA8D,CAC5DpvB,QAAS,IACTuE,QAAS,OACTC,WAAY,SACZC,eAAgB,aAgBlB8W,GAAOihB,QACT,oDAAwB3C,MACtB,kBAAMmC,QACN,WACE5hB,QAAQzd,MAAM,8CAIlBq/B,M,iBClDFS,EAAOC,QAAU,m4Y","file":"static/js/main.02ccf2af.chunk.js","sourcesContent":["import { createHashHistory } from 'history';\nexport const history = createHashHistory();\n","export const STORAGE_KEY = 'miab-cp-credentials';\nexport const CREDENTIALS_SEPERATOR = ':';\n\nfunction buildStorageCredentials(username: string, password: string): string {\n  return `${username}${CREDENTIALS_SEPERATOR}${password}`;\n}\n\nexport class StorageAuth {\n  private username: string;\n  private password: string;\n  private isAuthenticated = false;\n  constructor(private readonly credentials: string) {\n    const [username = '', password = ''] = this.credentials.split(\n      CREDENTIALS_SEPERATOR\n    );\n    this.username = username;\n    this.password = password;\n    this.isAuthenticated = Boolean(username && password);\n  }\n\n  getUsername(): string {\n    return this.username;\n  }\n\n  getPassword(): string {\n    return this.password;\n  }\n\n  setUsername(username: string): void {\n    this.username = username;\n  }\n\n  setPassword(password: string): void {\n    this.password = password;\n  }\n\n  getIsAuthenticated(): boolean {\n    return this.isAuthenticated;\n  }\n\n  persistToStorage(remember: boolean): void {\n    const credentials = buildStorageCredentials(this.username, this.password);\n    if (remember) {\n      localStorage.setItem(STORAGE_KEY, credentials);\n      sessionStorage.removeItem(STORAGE_KEY);\n    } else {\n      localStorage.removeItem(STORAGE_KEY);\n      sessionStorage.setItem(STORAGE_KEY, credentials);\n    }\n  }\n\n  clear(): void {\n    localStorage.removeItem(STORAGE_KEY);\n    sessionStorage.removeItem(STORAGE_KEY);\n  }\n}\n","import { CREDENTIALS_SEPERATOR, StorageAuth, STORAGE_KEY } from './StorageAuth';\n\nexport const storageAuth = new StorageAuth(\n  sessionStorage.getItem(STORAGE_KEY) ||\n    localStorage.getItem(STORAGE_KEY) ||\n    CREDENTIALS_SEPERATOR\n);\n","import { createSlice } from '@reduxjs/toolkit';\nimport { storageAuth } from '../auth';\n\nexport interface AuthState {\n  username: string;\n  password: string;\n  isAuthenticated: boolean;\n  error: string | null;\n}\n\nconst initialState: AuthState = {\n  username: storageAuth.getUsername(),\n  password: storageAuth.getPassword(),\n  isAuthenticated: storageAuth.getIsAuthenticated(),\n  error: '',\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    updateAuth: (state, action): void => {\n      const {\n        username,\n        password,\n        isAuthenticated,\n        error = null,\n      } = action.payload;\n      state.username = username;\n      state.password = password;\n      state.isAuthenticated = !!isAuthenticated;\n      state.error = error;\n    },\n  },\n});\n\nexport const { updateAuth } = authSlice.actions;\n\nexport const { reducer: authReducer } = authSlice;\n","import { ActionCreatorWithPayload } from '@reduxjs/toolkit';\nimport {\n  Configuration,\n  ConfigurationParameters,\n  DNSApi,\n  MailApi,\n  SSLApi,\n  SystemApi,\n  UserApi,\n  WebApi,\n} from 'mailinabox-api';\nimport { storageAuth } from '../auth';\nimport { updateAuth } from '../features/authSlice';\nimport { AppDispatch } from '../store';\n\nconst apiConfigParams: ConfigurationParameters = {\n  basePath: '/admin',\n  username: storageAuth.getUsername(),\n  password: storageAuth.getPassword(),\n  middleware: [],\n};\n\nconst apiConfig = new Configuration(apiConfigParams);\n\nexport const userApi = new UserApi(apiConfig);\nexport const systemApi = new SystemApi(apiConfig);\nexport const sslApi = new SSLApi(apiConfig);\nexport const dnsApi = new DNSApi(apiConfig);\nexport const mailApi = new MailApi(apiConfig);\nexport const webApi = new WebApi(apiConfig);\n\nexport function updateApiConfig(config: ConfigurationParameters): void {\n  Object.assign(apiConfigParams, config);\n}\n\nasync function getResponseText(response: Response): Promise<string | null> {\n  const { status } = response;\n  // Prevent returning the generic web server response for server errors\n  // as it might contain large chunks of unwanted HTML\n  if (status >= 500 && status <= 599) {\n    return null;\n  }\n  return await response.text();\n}\n\nexport async function getRequestFailMessage(\n  response: Response | Error\n): Promise<string> {\n  if (response instanceof Error) {\n    return response.message;\n  }\n  const { statusText, status } = response;\n  const responseText = await getResponseText(response);\n  return (\n    responseText ||\n    `Request error: ${statusText}${status ? ' (' + status + ')' : ''}`\n  );\n}\n\nexport async function handleRequestError(\n  response: Response | Error,\n  dispatch: AppDispatch,\n  onErrorAction: ActionCreatorWithPayload<unknown>\n): Promise<void> {\n  if (!(response instanceof Error)) {\n    const { status } = response;\n    if (status === 403) {\n      dispatch(\n        updateAuth({\n          username: '',\n          password: '',\n          isAuthenticated: false,\n          error: 'Your token is no longer valid.',\n        })\n      );\n    }\n  } else {\n    dispatch(onErrorAction(await getRequestFailMessage(response)));\n  }\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { storageAuth } from '../../../auth';\nimport { updateAuth } from '../../../features/authSlice';\n\nexport const LogoutRoute: React.FunctionComponent & { path: string } = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    storageAuth.clear();\n    dispatch(\n      updateAuth({ username: '', password: '', isAuthenticated: false })\n    );\n  });\n  return null;\n};\n\nLogoutRoute.path = '/logout';\n","import { Stack } from '@fluentui/react';\nimport React from 'react';\n\nexport const Body: React.FunctionComponent = ({ children }) => {\n  return (\n    <Stack\n      as=\"main\"\n      gap=\"l1\"\n      padding=\"0 0 l2 0\"\n      styles={{\n        root: {\n          maxWidth: 1170,\n          width: '100%',\n        },\n      }}\n    >\n      {children}\n    </Stack>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  MailAlias,\n  MailAliasByDomain,\n  MailAliasesResponseFormat,\n  UpsertMailAliasRequest,\n} from 'mailinabox-api';\nimport { handleRequestError, mailApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum AliasActionType {\n  remove,\n  update,\n}\n\nexport interface AliasAction {\n  alias?: MailAlias;\n  type?: AliasActionType;\n}\n\nexport interface AliasesState {\n  isGettingAliases: boolean;\n  aliases: Array<MailAliasByDomain>;\n  getAliasesError: string | null;\n  isUpsertingAlias: boolean;\n  isRemovingAlias: boolean;\n  upsertAliasError: string | null;\n  upsertAliasResponse: string | null;\n  removeAliasError: string | null;\n  removeAliasResponse: string | null;\n  aliasAction: AliasAction | null;\n}\n\nconst initialState: AliasesState = {\n  isGettingAliases: false,\n  aliases: [],\n  getAliasesError: null,\n  isUpsertingAlias: false,\n  isRemovingAlias: false,\n  upsertAliasError: null,\n  upsertAliasResponse: null,\n  removeAliasError: null,\n  removeAliasResponse: null,\n  aliasAction: null,\n};\n\nexport const aliases = createSlice({\n  name: 'aliases',\n  initialState,\n  reducers: {\n    getAliasesStart: (state): void => {\n      state.getAliasesError = null;\n      state.isGettingAliases = true;\n    },\n    getAliasesSuccess: (state, action): void => {\n      state.isGettingAliases = false;\n      state.aliases = action.payload;\n    },\n    getAliasesError: (state, action): void => {\n      state.getAliasesError = action.payload;\n      state.isGettingAliases = false;\n    },\n    upsertAliasStart: (state): void => {\n      state.isUpsertingAlias = true;\n      state.upsertAliasError = null;\n    },\n    upsertAliasSuccess: (state, action): void => {\n      state.isUpsertingAlias = false;\n      state.upsertAliasResponse = action.payload;\n    },\n    upsertAliasError: (state, action): void => {\n      state.upsertAliasError = action.payload;\n      state.isUpsertingAlias = false;\n    },\n    upsertAliasReset: (state): void => {\n      state.isUpsertingAlias = false;\n      state.upsertAliasError = null;\n      state.upsertAliasResponse = null;\n    },\n    upsertAliasResetError: (state): void => {\n      state.upsertAliasError = null;\n    },\n    resetAliasAction: (state): void => {\n      state.aliasAction = {\n        ...state.aliasAction,\n        type: undefined,\n      };\n    },\n    setAliasAction: (state, action): void => {\n      state.aliasAction = action.payload;\n    },\n    removeAliasStart: (state): void => {\n      state.isRemovingAlias = true;\n      state.removeAliasError = null;\n    },\n    removeAliasSuccess: (state, action): void => {\n      state.isRemovingAlias = false;\n      state.removeAliasResponse = action.payload;\n    },\n    removeAliasError: (state, action): void => {\n      state.removeAliasError = action.payload;\n      state.isRemovingAlias = false;\n    },\n    removeAliasReset: (state): void => {\n      state.removeAliasError = null;\n      state.isRemovingAlias = false;\n      state.removeAliasResponse = null;\n    },\n  },\n});\n\nexport const {\n  getAliasesSuccess,\n  getAliasesStart,\n  getAliasesError,\n  upsertAliasStart,\n  upsertAliasSuccess,\n  upsertAliasError,\n  upsertAliasReset,\n  upsertAliasResetError,\n  resetAliasAction,\n  setAliasAction,\n  removeAliasStart,\n  removeAliasSuccess,\n  removeAliasError,\n  removeAliasReset,\n} = aliases.actions;\n\nexport const { reducer: aliasesReducer } = aliases;\n\nexport const selectAliasesWithGroups = (\n  state: RootState\n): [Array<MailAlias>, Array<IGroup>] => {\n  const aliases: Array<MailAlias> = [];\n  const groups: Array<IGroup> = [];\n  state.aliases.aliases.forEach((aliasDomain: MailAliasByDomain) => {\n    const { domain, aliases: aliasesByDomain } = aliasDomain;\n    groups.push({\n      key: 'group' + domain,\n      name: domain,\n      startIndex: aliases.length,\n      level: 0,\n      count: aliasesByDomain.length,\n    });\n    aliases.push(...aliasesByDomain);\n  });\n  return [aliases, groups];\n};\n\nexport const getAliases = (showProgress = true): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  if (showProgress) {\n    dispatch(getAliasesStart());\n  }\n  try {\n    const result = await mailApi.getMailAliases({\n      format: MailAliasesResponseFormat.Json,\n    });\n    dispatch(getAliasesSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getAliasesError);\n  }\n};\n\nexport const upsertAlias = (alias: UpsertMailAliasRequest): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(upsertAliasStart());\n  try {\n    const result = await mailApi.upsertMailAlias(alias);\n    dispatch(upsertAliasSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, upsertAliasError);\n  }\n};\n\nexport const removeAlias = (address: string): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(removeAliasStart());\n  try {\n    const result = await mailApi.removeMailAlias({\n      address,\n    });\n    dispatch(removeAliasSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, removeAliasError);\n  }\n};\n","import { Breadcrumb, IBreadcrumbProps } from '@fluentui/react';\nimport React from 'react';\n\nexport const BodyBreadcrumb: React.FunctionComponent<IBreadcrumbProps> = (\n  props\n) => {\n  return (\n    <Breadcrumb\n      onReduceData={(): undefined => undefined}\n      styles={{\n        root: {\n          marginTop: 0,\n          width: '100%',\n        },\n      }}\n      {...props}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  getTheme,\n  IStackProps,\n  mergeStyles,\n  Stack,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst className = mergeStyles({\n  boxShadow: getTheme().effects.elevation8,\n  backgroundColor: getTheme().palette.white,\n  ...AnimationStyles.fadeIn200,\n});\n\nexport const BodyPanel: React.FunctionComponent<IStackProps> = ({\n  children,\n  ...props\n}) => {\n  return (\n    <Stack as=\"section\" padding=\"m\" gap=\"m\" className={className} {...props}>\n      {children}\n    </Stack>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  AddDnsCustomRecordRequest,\n  AddDnsSecondaryNameserverRequest,\n  DNSCustomRecord,\n  DNSDumpDomainRecord,\n  DNSDumpDomains,\n  DNSDumpResponse,\n  DNSSecondaryNameserverResponse,\n  RemoveDnsCustomRecordRequest,\n} from 'mailinabox-api';\nimport psl from 'psl';\nimport { dnsApi, handleRequestError } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum DNSActionType {\n  remove,\n}\n\nexport interface DNSAction {\n  dnsRecord?: DNSCustomRecord;\n  type?: DNSActionType;\n}\n\nexport interface SSLState {\n  isGettingSecondaryNameserver: boolean;\n  isGettingZones: boolean;\n  isGettingCustomRecords: boolean;\n  isGettingDump: boolean;\n  isAddingCustomRecord: boolean;\n  isAddingSecondaryNameserver: boolean;\n  isRemovingCustomRecord: boolean;\n  secondaryNameserver: DNSSecondaryNameserverResponse;\n  zones: Array<string>;\n  customRecords: Array<DNSCustomRecord>;\n  dump: DNSDumpResponse;\n  addCustomRecordResponse: string | null;\n  addSecondaryNameserverResponse: string | null;\n  removeCustomRecordResponse: string | null;\n  getSecondaryNameserverError: string | null;\n  getZonesError: string | null;\n  getCustomRecordsError: string | null;\n  getDumpError: string | null;\n  addCustomRecordError: string | null;\n  addSecondaryNameserverError: string | null;\n  removeCustomRecordError: string | null;\n  dnsAction: DNSAction | null;\n}\n\nconst initialState: SSLState = {\n  isGettingSecondaryNameserver: false,\n  isGettingZones: false,\n  isGettingCustomRecords: false,\n  isGettingDump: false,\n  isAddingCustomRecord: false,\n  isAddingSecondaryNameserver: false,\n  isRemovingCustomRecord: false,\n  secondaryNameserver: {\n    hostnames: [],\n  },\n  dump: [],\n  zones: [],\n  customRecords: [],\n  addCustomRecordResponse: null,\n  addSecondaryNameserverResponse: null,\n  removeCustomRecordResponse: null,\n  getSecondaryNameserverError: null,\n  getZonesError: null,\n  getCustomRecordsError: null,\n  getDumpError: null,\n  addCustomRecordError: null,\n  addSecondaryNameserverError: null,\n  removeCustomRecordError: null,\n  dnsAction: null,\n};\n\nexport const dns = createSlice({\n  name: 'dns',\n  initialState,\n  reducers: {\n    getDumpStart: (state): void => {\n      state.getDumpError = null;\n      state.isGettingDump = true;\n    },\n    getDumpSuccess: (state, action): void => {\n      state.isGettingDump = false;\n      state.dump = action.payload;\n    },\n    getDumpError: (state, action): void => {\n      state.isGettingDump = false;\n      state.getDumpError = action.payload;\n    },\n    getSecondaryNameserverStart: (state): void => {\n      state.getSecondaryNameserverError = null;\n      state.isGettingSecondaryNameserver = true;\n    },\n    getSecondaryNameserverSuccess: (state, action): void => {\n      state.isGettingSecondaryNameserver = false;\n      state.secondaryNameserver = action.payload;\n    },\n    getSecondaryNameserverError: (state, action): void => {\n      state.isGettingSecondaryNameserver = false;\n      state.getSecondaryNameserverError = action.payload;\n    },\n    getZonesStart: (state): void => {\n      state.getZonesError = null;\n      state.isGettingZones = true;\n    },\n    getZonesSuccess: (state, action): void => {\n      state.isGettingZones = false;\n      state.zones = action.payload;\n    },\n    getZonesError: (state, action): void => {\n      state.isGettingZones = false;\n      state.getZonesError = action.payload;\n    },\n    getCustomRecordsStart: (state): void => {\n      state.getCustomRecordsError = null;\n      state.isGettingCustomRecords = true;\n    },\n    getCustomRecordsSuccess: (state, action): void => {\n      state.isGettingCustomRecords = false;\n      state.customRecords = action.payload;\n    },\n    getCustomRecordsError: (state, action): void => {\n      state.isGettingCustomRecords = false;\n      state.getCustomRecordsError = action.payload;\n    },\n    addCustomRecordStart: (state): void => {\n      state.addCustomRecordError = null;\n      state.isAddingCustomRecord = true;\n    },\n    addCustomRecordSuccess: (state, action): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordResponse = action.payload;\n    },\n    addCustomRecordError: (state, action): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordError = action.payload;\n    },\n    addCustomRecordResetError: (state): void => {\n      state.addCustomRecordError = null;\n    },\n    addCustomRecordReset: (state): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordError = null;\n      state.addCustomRecordResponse = null;\n    },\n    removeCustomRecordStart: (state): void => {\n      state.removeCustomRecordError = null;\n      state.isRemovingCustomRecord = true;\n    },\n    removeCustomRecordSuccess: (state, action): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordResponse = action.payload;\n    },\n    removeCustomRecordError: (state, action): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordError = action.payload;\n    },\n    removeCustomRecordResetError: (state): void => {\n      state.removeCustomRecordError = null;\n    },\n    removeCustomRecordReset: (state): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordError = null;\n      state.removeCustomRecordResponse = null;\n    },\n    addSecondaryNameserverStart: (state): void => {\n      state.addSecondaryNameserverError = null;\n      state.isAddingSecondaryNameserver = true;\n    },\n    addSecondaryNameserverSuccess: (state, action): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverResponse = action.payload;\n    },\n    addSecondaryNameserverError: (state, action): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverError = action.payload;\n    },\n    addSecondaryNameserverResetError: (state): void => {\n      state.addSecondaryNameserverError = null;\n    },\n    addSecondaryNameserverReset: (state): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverError = null;\n      state.addSecondaryNameserverResponse = null;\n    },\n    resetDNSAction: (state): void => {\n      state.dnsAction = {\n        ...state.dnsAction,\n        type: undefined,\n      };\n    },\n    setDNSAction: (state, action): void => {\n      state.dnsAction = action.payload;\n    },\n  },\n});\n\nexport const {\n  getSecondaryNameserverStart,\n  getSecondaryNameserverSuccess,\n  getSecondaryNameserverError,\n  getZonesStart,\n  getZonesSuccess,\n  getZonesError,\n  getCustomRecordsStart,\n  getCustomRecordsSuccess,\n  getCustomRecordsError,\n  getDumpStart,\n  getDumpSuccess,\n  getDumpError,\n  addCustomRecordStart,\n  addCustomRecordSuccess,\n  addCustomRecordError,\n  addCustomRecordResetError,\n  addCustomRecordReset,\n  addSecondaryNameserverStart,\n  addSecondaryNameserverSuccess,\n  addSecondaryNameserverError,\n  addSecondaryNameserverResetError,\n  addSecondaryNameserverReset,\n  removeCustomRecordStart,\n  removeCustomRecordSuccess,\n  removeCustomRecordError,\n  removeCustomRecordResetError,\n  removeCustomRecordReset,\n  resetDNSAction,\n  setDNSAction,\n} = dns.actions;\n\nexport const { reducer: dnsReducer } = dns;\n\nfunction sort(a: DNSCustomRecord, b: DNSCustomRecord): number {\n  if (a.qname === b.qname) {\n    if (a.rtype === b.rtype) {\n      return a.value.localeCompare(b.value);\n    }\n    return a.rtype.localeCompare(b.rtype);\n  }\n  return a.qname.localeCompare(b.qname);\n}\n\nfunction reverseFqdn(record: DNSCustomRecord): DNSCustomRecord {\n  return {\n    ...record,\n    qname: record.qname.split('.').reverse().join('.'),\n  };\n}\n\nexport const selectCustomRecordsSorted = (\n  state: RootState\n): Array<DNSCustomRecord> => {\n  return state.dns.customRecords\n    .slice()\n    .map(reverseFqdn)\n    .sort(sort)\n    .map(reverseFqdn);\n};\n\nexport const selectCustomRecordsWithGroups = (\n  state: RootState\n): [Array<DNSCustomRecord>, Array<IGroup>] => {\n  const records = selectCustomRecordsSorted(state);\n  let groups: Array<IGroup> = [];\n\n  records.forEach((record: DNSCustomRecord, i: number) => {\n    const parsed = psl.parse(record.qname);\n    if (parsed.error || !parsed.domain) {\n      return;\n    }\n    const { domain } = parsed;\n    if (groups[groups.length - 1]?.name !== domain) {\n      groups.push({\n        key: 'customDnsGroup' + domain,\n        name: domain,\n        startIndex: i,\n        isCollapsed: false,\n        level: 0,\n        count: 0,\n      });\n    }\n  });\n\n  groups = groups.map((group, index) => {\n    return {\n      ...group,\n      count:\n        (groups[index + 1]?.startIndex || records.length) - group.startIndex,\n    };\n  });\n\n  return [records, groups];\n};\n\nexport const selectDumpWithGroups = (\n  state: RootState\n): [Array<DNSDumpDomainRecord>, Array<IGroup>] => {\n  const { dump } = state.dns;\n  const records: Array<DNSDumpDomainRecord> = [];\n  const groups: Array<IGroup> = [];\n\n  dump.forEach((dnsDomains: DNSDumpDomains) => {\n    const [domainName, dnsRecords] = dnsDomains;\n    groups.push({\n      key: 'dnsDumpGroup' + domainName,\n      name: domainName as string,\n      startIndex: records.length,\n      isCollapsed: false,\n      level: 0,\n      count: dnsRecords.length,\n    });\n    records.push(...(dnsRecords as Array<DNSDumpDomainRecord>));\n  });\n\n  return [records, groups];\n};\n\nexport const getSecondaryNameserver = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getSecondaryNameserverStart());\n  try {\n    const result = await dnsApi.getDnsSecondaryNameserver();\n    dispatch(getSecondaryNameserverSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getSecondaryNameserverError);\n  }\n};\n\nexport const getZones = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getZonesStart());\n  try {\n    const result = await dnsApi.getDnsZones();\n    dispatch(getZonesSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getZonesError);\n  }\n};\n\nexport const getCustomRecords = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getCustomRecordsStart());\n  try {\n    const result = await dnsApi.getDnsCustomRecords();\n    dispatch(getCustomRecordsSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getCustomRecordsError);\n  }\n};\n\nexport const getDump = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getDumpStart());\n  try {\n    const result = await dnsApi.getDnsDump();\n    dispatch(getDumpSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getDumpError);\n  }\n};\n\nexport const addCustomRecord = (\n  customRecordRequest: AddDnsCustomRecordRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addCustomRecordStart());\n  try {\n    const result = await dnsApi.addDnsCustomRecord(customRecordRequest);\n    dispatch(addCustomRecordSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addCustomRecordError);\n  }\n};\n\nexport const removeCustomRecord = (\n  customRecordRequest: RemoveDnsCustomRecordRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(removeCustomRecordStart());\n  try {\n    const result = await dnsApi.removeDnsCustomRecord(customRecordRequest);\n    dispatch(removeCustomRecordSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, removeCustomRecordError);\n  }\n};\n\nexport const addSecondaryNameserver = (\n  secondaryNameserverRequest: AddDnsSecondaryNameserverRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addSecondaryNameserverStart());\n  try {\n    const result = await dnsApi.addDnsSecondaryNameserver(\n      secondaryNameserverRequest\n    );\n    dispatch(addSecondaryNameserverSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addSecondaryNameserverError);\n  }\n};\n","import { Overlay, ProgressIndicator } from '@fluentui/react';\nimport React from 'react';\n\ninterface LoadingOverlayProps {\n  loadingLabel: string;\n  hasLoaded: boolean;\n}\n\nexport const LoadingOverlay: React.FunctionComponent<LoadingOverlayProps> = ({\n  loadingLabel,\n  hasLoaded,\n}) => {\n  return hasLoaded ? (\n    <Overlay\n      styles={{\n        root: {\n          zIndex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        },\n      }}\n    >\n      <ProgressIndicator label={loadingLabel} />\n    </Overlay>\n  ) : (\n    <ProgressIndicator label={loadingLabel} />\n  );\n};\n","import React from 'react';\n\nexport const LoadingOverlayContainer: React.FunctionComponent = ({\n  children,\n}) => {\n  return (\n    <div\n      style={{\n        position: 'relative',\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport {\n  SSLCertificateInstallRequest,\n  SSLStatus,\n  SSLStatusResponse,\n} from 'mailinabox-api';\nimport { handleRequestError, sslApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum SSLActionType {\n  install,\n}\n\nexport interface SSLAction {\n  sslStatus?: SSLStatus;\n  type?: SSLActionType;\n}\n\nexport interface SSLState {\n  isGettingStatus: boolean;\n  isGeneratingCSR: boolean;\n  isInstallingCertificate: boolean;\n  sslStatus: SSLStatusResponse;\n  getStatusError: string | null;\n  generateCSRResponse: string | null;\n  generateCSRError: string | null;\n  installCertificateResponse: string | null;\n  installCertificateError: string | null;\n  sslAction: SSLAction | null;\n}\n\nconst initialState: SSLState = {\n  isGettingStatus: false,\n  isGeneratingCSR: false,\n  isInstallingCertificate: false,\n  sslStatus: {\n    canProvision: [],\n    status: [],\n  },\n  generateCSRResponse: null,\n  installCertificateResponse: null,\n  getStatusError: null,\n  generateCSRError: null,\n  installCertificateError: null,\n  sslAction: null,\n};\n\nexport const ssl = createSlice({\n  name: 'ssl',\n  initialState,\n  reducers: {\n    getSSLStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getSSLStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.sslStatus = action.payload;\n    },\n    getSSLStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n    generateCSRStart: (state): void => {\n      state.generateCSRError = null;\n      state.isGeneratingCSR = true;\n    },\n    generateCSRSuccess: (state, action): void => {\n      state.isGeneratingCSR = false;\n      state.generateCSRResponse = action.payload;\n    },\n    generateCSRError: (state, action): void => {\n      state.generateCSRError = action.payload;\n      state.isGeneratingCSR = false;\n    },\n    generateCSRReset: (state): void => {\n      state.generateCSRError = null;\n      state.generateCSRResponse = null;\n      state.isGeneratingCSR = false;\n    },\n    installCertificateStart: (state): void => {\n      state.installCertificateError = null;\n      state.isInstallingCertificate = true;\n    },\n    installCertificateSuccess: (state, action): void => {\n      state.isInstallingCertificate = false;\n      state.installCertificateResponse = action.payload;\n    },\n    installCertificateError: (state, action): void => {\n      state.installCertificateError = action.payload;\n      state.isInstallingCertificate = false;\n    },\n    installCertificateReset: (state): void => {\n      state.installCertificateError = null;\n      state.installCertificateResponse = null;\n      state.isInstallingCertificate = false;\n    },\n    resetSSLAction: (state): void => {\n      state.sslAction = null;\n    },\n    setSSLAction: (state, action): void => {\n      state.sslAction = action.payload;\n    },\n  },\n});\n\nexport const {\n  getSSLStatusSuccess,\n  getSSLStatusStart,\n  getSSLStatusError,\n  generateCSRStart,\n  generateCSRSuccess,\n  generateCSRError,\n  generateCSRReset,\n  installCertificateStart,\n  installCertificateSuccess,\n  installCertificateError,\n  installCertificateReset,\n  resetSSLAction,\n  setSSLAction,\n} = ssl.actions;\n\nexport const { reducer: sslReducer } = ssl;\n\nexport const getSSLStatus = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  Action<string>\n> => async (dispatch): Promise<void> => {\n  dispatch(getSSLStatusStart());\n  try {\n    const result = await sslApi.getSSLStatus();\n    dispatch(getSSLStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getSSLStatusError);\n  }\n};\n\nexport const generateCSR = (\n  domain: string,\n  countrycode: string\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(generateCSRStart());\n  try {\n    const result = await sslApi.generateSSLCSR({\n      domain,\n      countrycode,\n    });\n    dispatch(generateCSRSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, generateCSRError);\n  }\n};\n\nexport const installCertificate = (\n  request: SSLCertificateInstallRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(installCertificateStart());\n  try {\n    const result = await sslApi.installSSLCertificate(request);\n    dispatch(installCertificateSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, installCertificateError);\n  }\n};\n","export enum AliasType {\n  regular = 'REGULAR',\n  catchAll = 'CATCH_ALL',\n  domainAlias = 'DOMAIN_ALIAS',\n}\n\nexport enum SenderType {\n  any = 'ANY',\n  manual = 'MANUAL',\n}\n\ninterface FormData {\n  [key: string]: {\n    info?: string;\n    text: string;\n    alias: {\n      placeholder: string;\n      info: string;\n    };\n    forwardsTo: {\n      placeholder: string;\n      info?: string;\n    };\n    permittedSenders: {\n      any: string;\n      manual: string;\n      placeholder: string;\n      info: string;\n    };\n  };\n}\n\nexport const formData: FormData = {\n  [AliasType.regular]: {\n    text: 'Regular',\n    alias: {\n      placeholder: 'you@yourdomain.com (incoming email address)',\n      info:\n        'You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: 'you@yourdomain.com (forward to email address)',\n      info: 'One address per line or separated by commas.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from the alias address.',\n      manual:\n        'I’ll enter the mail users that can send mail claiming to be from the alias address.',\n    },\n  },\n  [AliasType.catchAll]: {\n    text: 'Catch-All',\n    info:\n      'A catch-all alias captures all otherwise unmatched email to a domain.',\n    alias: {\n      placeholder: '@yourdomain.com (incoming catch-all domain)',\n      info:\n        'Enter just the part of an email address starting with the @-sign. You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: 'you@yourdomain.com (forward to email address)',\n      info: 'One address per line or separated by commas.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from any address on the alias domain.',\n      manual:\n        'I’ll enter the mail users that can send mail claiming to be from any address on the alias domain.',\n    },\n  },\n  [AliasType.domainAlias]: {\n    text: 'Domain Alias',\n    info:\n      'A domain alias forwards all otherwise unmatched email from one domain to another domain, preserving the part before the @-sign.',\n    alias: {\n      placeholder: '@yourdomain.com (incoming catch-all domain)',\n      info:\n        'Enter just the part of an email address starting with the @-sign. You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: '@otherdomain.com (forward to other domain)',\n      info: 'Enter just the part of an email address starting with the @-sign.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from any address on the alias domain.',\n      manual:\n        'I’ll enter the mail users that can send mail claiming to be from any address on the alias domain.',\n    },\n  },\n};\n","import {\n  AnimationStyles,\n  IMessageBarProps,\n  mergeStyles,\n  MessageBar as FluentMessageBar,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst messageBarClassName = mergeStyles({\n  ...AnimationStyles.fadeIn400,\n});\n\nexport const MessageBar: React.FunctionComponent<\n  IMessageBarProps & {\n    animate?: boolean;\n    className?: string;\n  }\n> = ({ animate = true, className, ...rest }) => {\n  const propsWithAnimation = animate\n    ? {\n        ...rest,\n        className: mergeStyles(className, messageBarClassName),\n      }\n    : rest;\n\n  return (\n    <FluentMessageBar {...propsWithAnimation} dismissButtonAriaLabel=\"Close\" />\n  );\n};\n","import {\n  Callout,\n  getTheme,\n  IconButton,\n  ITextFieldProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\nconst theme = getTheme();\n\nconst iconButtonClassName = mergeStyles({\n  marginBottom: '-3px',\n});\n\ntype Props = ITextFieldProps & {\n  defaultRender?: (props?: ITextFieldProps) => JSX.Element | null;\n  calloutText?: React.ReactNode;\n  maxWidth?: number;\n};\n\nexport const TextFieldWithInfo: React.FunctionComponent<Props> = (\n  props\n): JSX.Element => {\n  const { maxWidth = 320, defaultRender, ...rest } = props;\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const iconButtonId: string = useId('iconButton');\n  return (\n    <>\n      <Stack horizontal verticalAlign=\"center\">\n        {defaultRender?.(rest)}\n        <IconButton\n          id={iconButtonId}\n          title=\"Info\"\n          ariaLabel=\"Info\"\n          iconProps={{ iconName: 'Info' }}\n          onClick={toggleIsCalloutVisible}\n          className={iconButtonClassName}\n        />\n      </Stack>\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          onDismiss={toggleIsCalloutVisible}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{props.calloutText}</Text>\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n\nexport const onRenderTextFieldLabel = (calloutText: React.ReactNode) => (\n  props?: ITextFieldProps,\n  defaultRender?: (props?: ITextFieldProps) => JSX.Element | null\n): React.ReactElement | null => (\n  <TextFieldWithInfo\n    {...props}\n    calloutText={calloutText}\n    defaultRender={defaultRender}\n  />\n);\n\nexport const textfieldWithLabelInfoStyles = {\n  subComponentStyles: {\n    label: {\n      root: {\n        selectors: {\n          ':after': {\n            paddingRight: theme.spacing.s2,\n          },\n        },\n      },\n    },\n  },\n};\n","import {\n  BaseButton,\n  Button,\n  ChoiceGroup,\n  getTheme,\n  IChoiceGroupOption,\n  mergeStyles,\n  MessageBarType,\n  Pivot,\n  PivotItem,\n  PivotLinkFormat,\n  PivotLinkSize,\n  Stack,\n  TextField,\n} from '@fluentui/react';\nimport { UpsertMailAliasRequest } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  upsertAlias,\n  upsertAliasResetError,\n} from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../TextFieldWithInfo/TextFieldWithInfo';\nimport { AliasType, formData, SenderType } from './formData';\n\nconst theme = getTheme();\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nfunction getInitialAliasType({\n  address,\n  forwardsTo,\n}: UpsertMailAliasRequest): AliasType {\n  if (address.charAt(0) === '@' && forwardsTo.charAt(0) === '@') {\n    return AliasType.domainAlias;\n  } else if (address.charAt(0) === '@') {\n    return AliasType.catchAll;\n  } else {\n    return AliasType.regular;\n  }\n}\n\nconst defaultAlias: UpsertMailAliasRequest = {\n  address: '',\n  forwardsTo: '',\n  permittedSenders: '',\n  updateIfExists: 0,\n};\n\ninterface MailAliasUpsertProps {\n  updateAlias?: UpsertMailAliasRequest;\n}\n\nexport const MailAliasUpsert: React.FunctionComponent<MailAliasUpsertProps> = ({\n  children,\n  updateAlias = defaultAlias,\n}) => {\n  const { upsertAliasResponse, upsertAliasError } = useSelector(\n    (state: RootState) => state.aliases\n  );\n\n  const dispatch = useDispatch();\n  const [aliasType, setAliasType] = useState<AliasType>(\n    getInitialAliasType(updateAlias)\n  );\n  const [senderType, setSenderType] = useState<SenderType>(\n    updateAlias.permittedSenders ? SenderType.manual : SenderType.any\n  );\n  const [alias, setAlias] = useState<UpsertMailAliasRequest>(updateAlias);\n\n  const senderTypeOptions: IChoiceGroupOption[] = [\n    { key: SenderType.any, text: formData[aliasType].permittedSenders.any },\n    {\n      key: SenderType.manual,\n      text: formData[aliasType].permittedSenders.manual,\n    },\n  ];\n\n  const onSenderTypeChange = useCallback(\n    (\n      _event?: React.FormEvent<HTMLElement | HTMLInputElement>,\n      option?: IChoiceGroupOption\n    ) => {\n      if (option) {\n        setSenderType(option.key as SenderType);\n      }\n    },\n    [setSenderType]\n  );\n\n  const onPivotLinkClick = useCallback(\n    (item?: PivotItem, ev?: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (item && item.props && item.props.itemKey) {\n        setAliasType(item.props.itemKey as AliasType);\n      }\n    },\n    [setAliasType]\n  );\n\n  const onFieldChange = useCallback(\n    (\n      event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string\n    ): void => {\n      setAlias({\n        ...alias,\n        [(event.target as HTMLInputElement | HTMLTextAreaElement).name]:\n          newValue || '',\n      });\n    },\n    [alias]\n  );\n\n  const onErrorMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(upsertAliasResetError());\n    },\n    [dispatch]\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(\n        upsertAlias({\n          ...alias,\n          permittedSenders:\n            senderType === SenderType.manual ? alias.permittedSenders : '',\n        })\n      );\n    },\n    [alias, dispatch, senderType]\n  );\n\n  const onForwardsToRenderLabel = useMemo(\n    () =>\n      onRenderTextFieldLabel(\n        <>\n          Only forward mail to addresses handled by this Mail-in-a-Box, since\n          mail forwarded by aliases to other domains may be rejected or filtered\n          by the receiver. To forward mail to other domains, create a mail user\n          and then log into webmail for the user and create a filter rule to\n          forward mail.\n        </>\n      ),\n    []\n  );\n\n  useEffect(() => {\n    if (upsertAliasResponse) {\n      setAlias(defaultAlias);\n    }\n  }, [dispatch, upsertAliasResponse]);\n\n  return (\n    <Stack\n      gap=\"m\"\n      as=\"form\"\n      grow={1}\n      className={columnClassName}\n      onSubmit={onFormSubmit}\n    >\n      {upsertAliasError && (\n        <MessageBar\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          onDismiss={onErrorMessageBarDismiss}\n          dismissButtonAriaLabel=\"Close\"\n        >\n          {upsertAliasError}\n        </MessageBar>\n      )}\n      <Stack gap=\"s2\">\n        <Pivot\n          linkSize={PivotLinkSize.normal}\n          linkFormat={PivotLinkFormat.tabs}\n          onLinkClick={onPivotLinkClick}\n          selectedKey={aliasType}\n        >\n          {Object.keys(formData).map((type) => (\n            <PivotItem\n              headerText={formData[type].text}\n              itemKey={type}\n              headerButtonProps={{\n                disabled: updateAlias.updateIfExists === 1,\n              }}\n            >\n              {formData[type].info ? (\n                <MessageBar\n                  styles={{\n                    root: {\n                      marginTop: theme.spacing.s1,\n                    },\n                  }}\n                >\n                  {formData[type].info}\n                </MessageBar>\n              ) : null}\n            </PivotItem>\n          ))}\n        </Pivot>\n      </Stack>\n      <TextField\n        label=\"Alias\"\n        required\n        placeholder={formData[aliasType].alias.placeholder}\n        description={formData[aliasType].alias.info}\n        styles={{ description: { ...theme.fonts.small } }}\n        onChange={onFieldChange}\n        name=\"address\"\n        value={alias.address}\n        autoFocus={!updateAlias.address}\n        disabled={!!updateAlias.address}\n      />\n      <TextField\n        label=\"Forwards To\"\n        multiline\n        rows={3}\n        required\n        placeholder={formData[aliasType].forwardsTo.placeholder}\n        description={formData[aliasType].forwardsTo.info}\n        styles={{\n          description: { ...theme.fonts.small },\n          ...textfieldWithLabelInfoStyles,\n        }}\n        name=\"forwardsTo\"\n        onChange={onFieldChange}\n        value={alias.forwardsTo}\n        onRenderLabel={onForwardsToRenderLabel}\n        autoFocus={!!updateAlias.address}\n      />\n      <ChoiceGroup\n        selectedKey={senderType}\n        options={senderTypeOptions}\n        onChange={onSenderTypeChange}\n        label=\"Permitted Senders\"\n        required\n      />\n      {senderType === SenderType.manual && (\n        <TextField\n          multiline\n          rows={3}\n          required\n          name=\"permittedSenders\"\n          placeholder={formData[aliasType].permittedSenders.placeholder}\n          onChange={onFieldChange}\n          value={alias.permittedSenders ?? ''}\n          styles={{\n            description: { ...theme.fonts.small },\n            ...textfieldWithLabelInfoStyles,\n          }}\n          description={formData[aliasType].permittedSenders.info}\n        />\n      )}\n      {children}\n    </Stack>\n  );\n};\n","import { getTheme, mergeStyles, Text } from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\nconst className = mergeStyles({\n  padding: theme.spacing.m,\n  fontFamily: 'monospace',\n  backgroundColor: theme.palette.neutralLighterAlt,\n  borderColor: theme.semanticColors.variantBorder,\n  borderRadius: theme.effects.roundedCorner2,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  overflow: 'auto',\n  textOverflow: 'unset',\n  margin: 0,\n});\n\nexport const Pre: React.FunctionComponent = ({ children }) => {\n  return (\n    <Text as=\"pre\" className={className} block>\n      {children}\n    </Text>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  IModalProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  PrimaryButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAliases, upsertAliasReset } from '../../../features/aliasesSlice';\nimport { getDump } from '../../../features/dnsSlice';\nimport { getSSLStatus } from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { MailAliasUpsert } from '../MailAliasUpsert/MailAliasUpsert';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Alias Added',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nexport const MailAliasAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const { isUpsertingAlias, upsertAliasResponse } = useSelector(\n    (state: RootState) => state.aliases\n  );\n  const dispatch = useDispatch();\n\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = useCallback((): void => {\n    dispatch(upsertAliasReset());\n    setHasDialogOpened(false);\n  }, [dispatch]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  useEffect(() => {\n    if (upsertAliasResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [upsertAliasResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    if (upsertAliasResponse) {\n      dispatch(getAliases());\n      dispatch(getSSLStatus());\n      dispatch(getDump());\n    }\n  }, [dispatch, upsertAliasResponse]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(upsertAliasReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{upsertAliasResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"l2\" horizontal {...props}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            Aliases are email forwarders. An alias can forward email to a{' '}\n            <Link href=\"#\">mail user</Link> or to any email address.\n          </Text>\n          <Text>\n            To use an alias or any address besides your own login username in\n            outbound mail, the sending user must be included as a permitted\n            sender for the alias.\n          </Text>\n        </Stack>\n        <MailAliasUpsert>\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isUpsertingAlias}>\n              Add Alias\n            </PrimaryButton>\n          </Stack>\n        </MailAliasUpsert>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  DetailsRow,\n  IDetailsGroupDividerProps,\n  IDetailsHeaderProps,\n  IDetailsListProps,\n  IDetailsRowProps,\n  IGroup,\n  IGroupHeaderProps,\n  IRenderFunction,\n  SelectionMode,\n} from '@fluentui/react';\nimport React, { Dispatch, SetStateAction, useCallback, useState } from 'react';\n\nconst onRenderRow = (props?: IDetailsRowProps): JSX.Element | null => {\n  if (props) {\n    return (\n      <DetailsRow\n        {...props}\n        // styles={{\n        //   root: {\n        //     animation: 'none',\n        //   },\n        // }}\n      />\n    );\n  }\n  return null;\n};\n\ninterface GroupedDetailsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n  groups: IGroup[];\n}\n\nexport const GroupedDetailsList: React.FunctionComponent<\n  IDetailsListProps & GroupedDetailsListProps\n> = ({ openedGroupsState, groups, ...props }) => {\n  const [openedGroups, setOpenedGroups] = openedGroupsState;\n  const [hasExpandedAllGroups, setHasExpandedAllGroups] = useState<boolean>(\n    false\n  );\n\n  const onToggleGroupCollapse = useCallback(\n    (groupKey: string, collapse: boolean) => {\n      if (collapse) {\n        openedGroups.splice(openedGroups.indexOf(groupKey), 1);\n      } else {\n        openedGroups.push(groupKey);\n      }\n      setOpenedGroups(openedGroups.slice());\n    },\n    [openedGroups, setOpenedGroups]\n  );\n\n  const onToggleGroupCollapseAll = useCallback((): void => {\n    const shouldCollapse =\n      hasExpandedAllGroups || openedGroups.length === groups.length;\n    if (shouldCollapse) {\n      setOpenedGroups([]);\n      setHasExpandedAllGroups(false);\n    } else {\n      setOpenedGroups(groups.map(({ key }) => key));\n      setHasExpandedAllGroups(true);\n    }\n  }, [groups, hasExpandedAllGroups, openedGroups.length, setOpenedGroups]);\n\n  const onRenderDetailsHeader = useCallback(\n    (\n      detailsHeaderProps?: IDetailsHeaderProps,\n      defaultRender?: IRenderFunction<IDetailsHeaderProps>\n    ): JSX.Element | null => {\n      return (\n        defaultRender?.({\n          ...detailsHeaderProps,\n          onToggleCollapseAll: onToggleGroupCollapseAll,\n          styles: {\n            root: {\n              paddingTop: 0,\n            },\n          },\n        } as IDetailsHeaderProps) || null\n      );\n    },\n    [onToggleGroupCollapseAll]\n  );\n\n  const onRenderGroupHeader = useCallback(\n    (\n      props?: IDetailsGroupDividerProps,\n      defaultRender?: IRenderFunction<IGroupHeaderProps>\n    ): JSX.Element | null => {\n      if (defaultRender) {\n        const toggleCollapse = (): void => {\n          if (props?.group) {\n            onToggleGroupCollapse(props.group.key, !props.group.isCollapsed);\n          }\n        };\n        return (\n          <div\n            onClick={(\n              event: React.MouseEvent<HTMLDivElement, MouseEvent>\n            ): void => {\n              if (props && props.group) {\n                event.preventDefault();\n                toggleCollapse();\n              }\n            }}\n          >\n            {defaultRender({\n              ...props,\n              onToggleCollapse: toggleCollapse,\n            })}\n          </div>\n        );\n      }\n      return null;\n    },\n    [onToggleGroupCollapse]\n  );\n\n  const groupsWithCollapsedState = groups.map((group) => ({\n    ...group,\n    isCollapsed: openedGroups.indexOf(group.key) === -1,\n  }));\n\n  return (\n    <DetailsList\n      {...props}\n      groups={groupsWithCollapsedState}\n      layoutMode={DetailsListLayoutMode.justified}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean =>\n        groupsWithCollapsedState.length > 20 || props.items.length > 50\n      }\n      onRenderDetailsHeader={onRenderDetailsHeader}\n      onRenderRow={onRenderRow}\n      groupProps={{\n        isAllGroupsCollapsed: openedGroups.length === 0,\n        onRenderHeader: onRenderGroupHeader,\n      }}\n    />\n  );\n};\n","import { getTheme, Spinner, SpinnerSize, Stack } from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\ninterface DialogFooterProps {\n  isLoading?: boolean;\n}\n\nexport const DialogFooter: React.FunctionComponent<DialogFooterProps> = ({\n  children,\n  isLoading = false,\n}) => {\n  return (\n    <Stack\n      horizontalAlign=\"end\"\n      verticalAlign=\"center\"\n      horizontal\n      gap=\"s1\"\n      styles={{\n        root: {\n          marginTop: theme.spacing.m,\n        },\n      }}\n    >\n      {isLoading && <Spinner size={SpinnerSize.medium} />}\n      {children}\n    </Stack>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  IDialogProps,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n} from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\ninterface ActionConfirmDialogProps {\n  onConfirm: () => void;\n  hidden: boolean;\n  isLoading: boolean;\n  error: string | null;\n  confirmButtonText: string;\n  showCancelButton?: boolean;\n  actionResponse?: string | null;\n}\n\nexport const ActionConfirmDialog: React.FunctionComponent<\n  IDialogProps & ActionConfirmDialogProps\n> = ({\n  hidden,\n  onConfirm,\n  isLoading,\n  error,\n  confirmButtonText,\n  children,\n  actionResponse,\n  ...rest\n}) => {\n  const onConfirmButtonClick = useCallback(() => {\n    if (!actionResponse) {\n      onConfirm();\n    } else if (rest.onDismiss) {\n      rest.onDismiss();\n    }\n  }, [actionResponse, onConfirm, rest]);\n  const onCancelButtonClick = useCallback(() => {\n    if (rest.onDismiss) {\n      rest.onDismiss();\n    }\n  }, [rest]);\n  return (\n    <Dialog hidden={hidden} minWidth={380} maxWidth={480} {...rest}>\n      <Stack gap=\"m\">\n        {error && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {error}\n          </MessageBar>\n        )}\n        {actionResponse && <Pre>{actionResponse}</Pre>}\n        {!actionResponse && children}\n      </Stack>\n      <DialogFooter isLoading={isLoading}>\n        <PrimaryButton\n          disabled={isLoading}\n          text={!actionResponse ? confirmButtonText : 'OK'}\n          onClick={onConfirmButtonClick}\n        />\n        {!actionResponse && (\n          <DefaultButton\n            disabled={isLoading}\n            text=\"Cancel\"\n            onClick={onCancelButtonClick}\n          />\n        )}\n      </DialogFooter>\n    </Dialog>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  DialogType,\n  IDialogContentProps,\n  IDialogProps,\n  PrimaryButton,\n} from '@fluentui/react';\nimport { MailAlias, UpsertMailAliasRequest } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MailAliasUpsert } from '../MailAliasUpsert/MailAliasUpsert';\nimport { Pre } from '../Pre/Pre';\n\ninterface MailAliasUpdateDialogProps {\n  alias?: MailAlias;\n}\n\nconst updateAliasDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Update Alias',\n};\n\nexport const MailAliasUpdateDialog: React.FunctionComponent<\n  IDialogProps & MailAliasUpdateDialogProps\n> = ({ alias, ...dialogProps }) => {\n  const { upsertAliasResponse, isUpsertingAlias } = useSelector(\n    (state: RootState) => state.aliases\n  );\n\n  const onDialogCloseButtonClick = useCallback(() => {\n    dialogProps.onDismiss?.();\n  }, [dialogProps]);\n\n  const updateAlias: UpsertMailAliasRequest = {\n    address: alias?.address || '',\n    forwardsTo: alias?.forwardsTo.join('\\n') ?? '',\n    permittedSenders: alias?.permittedSenders?.join('\\n') ?? null,\n    updateIfExists: 1,\n  };\n\n  const dialogWidth = upsertAliasResponse ? 480 : 580;\n  return (\n    <Dialog\n      {...dialogProps}\n      dialogContentProps={updateAliasDialogContentProps}\n      modalProps={{\n        isBlocking: true,\n      }}\n      minWidth={dialogWidth}\n      maxWidth={dialogWidth}\n    >\n      {upsertAliasResponse && (\n        <>\n          <Pre>{upsertAliasResponse}</Pre>\n          <DialogFooter>\n            <PrimaryButton text=\"OK\" onClick={onDialogCloseButtonClick} />\n          </DialogFooter>\n        </>\n      )}\n      {!upsertAliasResponse && (\n        <MailAliasUpsert updateAlias={updateAlias}>\n          <DialogFooter isLoading={isUpsertingAlias}>\n            <PrimaryButton\n              text=\"Update Alias\"\n              type=\"submit\"\n              disabled={isUpsertingAlias}\n            />\n            <DefaultButton\n              text=\"Cancel\"\n              onClick={onDialogCloseButtonClick}\n              disabled={isUpsertingAlias}\n            />\n          </DialogFooter>\n        </MailAliasUpsert>\n      )}\n    </Dialog>\n  );\n};\n","import { DialogType, Text } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  AliasActionType,\n  getAliases,\n  removeAlias,\n  removeAliasReset,\n  resetAliasAction,\n  upsertAliasReset,\n} from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\nimport { MailAliasUpdateDialog } from './MailAliasUpdateDialog';\n\nexport const MailAliasActions: React.FunctionComponent = () => {\n  const {\n    isRemovingAlias,\n    aliasAction,\n    removeAliasError,\n    removeAliasResponse,\n    upsertAliasResponse,\n  } = useSelector((state: RootState) => state.aliases);\n\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useCallback((): void => {\n    dispatch(resetAliasAction());\n  }, [dispatch]);\n\n  const onConfirmDialogDismissed = useCallback((): void => {\n    if (removeAliasResponse) {\n      dispatch(getAliases());\n    }\n    dispatch(removeAliasReset());\n  }, [dispatch, removeAliasResponse]);\n\n  const onUpdateAliasDialogDismissed = useCallback((): void => {\n    if (upsertAliasResponse) {\n      dispatch(getAliases());\n    }\n    dispatch(upsertAliasReset());\n  }, [dispatch, upsertAliasResponse]);\n\n  const onRemoveAliasConfirm = useCallback((): void => {\n    if (aliasAction?.alias) {\n      dispatch(removeAlias(aliasAction?.alias.address));\n    }\n  }, [aliasAction, dispatch]);\n\n  return (\n    <>\n      <ActionConfirmDialog\n        hidden={aliasAction?.type !== AliasActionType.remove}\n        isLoading={isRemovingAlias}\n        onDismiss={onActionDialogDismiss}\n        onDismissed={onConfirmDialogDismissed}\n        onConfirm={onRemoveAliasConfirm}\n        error={removeAliasError}\n        actionResponse={removeAliasResponse}\n        confirmButtonText=\"Remove Alias\"\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Remove Alias',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n      >\n        <Text>\n          Are you sure you want to remove alias:{' '}\n          <strong>{aliasAction?.alias?.addressDisplay}</strong>?\n        </Text>\n      </ActionConfirmDialog>\n      <MailAliasUpdateDialog\n        hidden={aliasAction?.type !== AliasActionType.update}\n        alias={aliasAction?.alias}\n        onDismiss={onActionDialogDismiss}\n        onDismissed={onUpdateAliasDialogDismissed}\n      ></MailAliasUpdateDialog>\n    </>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { MailAlias } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  AliasActionType,\n  setAliasAction,\n} from '../../../features/aliasesSlice';\n\ninterface MailAliasActionsListProps {\n  alias: MailAlias;\n}\n\nexport const MailAliasActionsList: React.FunctionComponent<MailAliasActionsListProps> = ({\n  alias,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: AliasActionType): void => {\n      dispatch(\n        setAliasAction({\n          alias,\n          type,\n        })\n      );\n    },\n    [dispatch, alias]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'updatealias' + alias.address,\n            text: 'Update',\n            onClick: (): void => doAction(AliasActionType.update),\n          },\n          {\n            key: 'removeealias' + alias.address,\n            text: 'Remove',\n            onClick: (): void => doAction(AliasActionType.remove),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { MailAlias } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectAliasesWithGroups } from '../../../features/aliasesSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { MailAliasActions } from './MailAliasActions';\nimport { MailAliasActionsList } from './MailAliasActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Alias',\n    minWidth: 320,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'addressDisplay',\n  },\n  {\n    key: 'column2',\n    name: 'Forwards To',\n    minWidth: 260,\n    isMultiline: true,\n    onRender: (item: MailAlias): React.ReactElement => {\n      if (!item || !item.forwardsTo) {\n        console.log('item');\n        debugger;\n      }\n      return (\n        <>\n          {item.forwardsTo.map((forwardToAddress) => (\n            <Text block>{forwardToAddress}</Text>\n          ))}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Permitted Senders',\n    minWidth: 260,\n    isMultiline: true,\n    onRender: (item: MailAlias): React.ReactElement => {\n      return (\n        <>\n          {item.permittedSenders?.map((permittedSender) => (\n            <Text block>{permittedSender}</Text>\n          ))}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    isPadded: false,\n    onRender: (alias: MailAlias): React.ReactNode => {\n      return <MailAliasActionsList alias={alias} />;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface MailAliasesListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const MailAliasesList: React.FunctionComponent<\n  IStackProps & MailAliasesListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [aliases, groups] = useSelector(selectAliasesWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <MailAliasActions />\n      <GroupedDetailsList\n        openedGroupsState={openedGroupsState}\n        items={aliases}\n        groups={groups}\n        columns={columns}\n      />\n    </Stack>\n  );\n};\n","import { Pivot, PivotItem, PivotLinkSize } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport const PivotRoutes: React.FunctionComponent = ({ children }) => {\n  const history = useHistory();\n  const location = useLocation();\n  const onPivotLinkClick = useCallback(\n    (item?: PivotItem, _event?: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (item?.props.itemKey) {\n        history.push(item.props.itemKey);\n      }\n    },\n    [history]\n  );\n  return (\n    <Pivot\n      linkSize={PivotLinkSize.large}\n      selectedKey={location.pathname}\n      onLinkClick={onPivotLinkClick}\n    >\n      {children}\n    </Pivot>\n  );\n};\n","import { MessageBar, MessageBarType, PivotItem } from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getAliases } from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { LoadingOverlay } from '../LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../LoadingOverlay/LoadingOverlayContainer';\nimport { MailAliasAdd } from '../MailAliasAdd/MailAliasAdd';\nimport { MailAliasesList } from '../MailAliasesList/MailAliasesList';\nimport { PivotRoutes } from '../PivotRoutes/PivotRoutes';\n\nexport const MailAliases: React.FunctionComponent = () => {\n  const { isGettingAliases, getAliasesError, aliases } = useSelector(\n    (state: RootState) => state.aliases\n  );\n  const openedGroupsState = useState<string[]>([]);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n\n  useEffect(() => {\n    if (!aliases.length) {\n      dispatch(getAliases());\n    }\n  }, [aliases.length, dispatch]);\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"Existing Mail Aliases\" />\n        <PivotItem itemKey={`${url}/add`} headerText=\"Add a Mail Alias\" />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {getAliasesError && (\n              <MessageBar messageBarType={MessageBarType.error}>\n                {getAliasesError}\n              </MessageBar>\n            )}\n            {isGettingAliases && (\n              <LoadingOverlay\n                loadingLabel=\"Loading aliases...\"\n                hasLoaded={Boolean(aliases.length)}\n              />\n            )}\n            {!getAliasesError && Boolean(aliases.length) && (\n              <MailAliasesList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          <MailAliasAdd />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Stack } from '@fluentui/react';\nimport React from 'react';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MailAliases } from '../../../../ui/MailAliases/MailAliases';\n\nexport const AliasesRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'mail',\n            },\n            {\n              text: 'Aliases',\n              key: 'aliases',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <MailAliases />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nAliasesRoute.path = '/mail/aliases';\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  MailUser,\n  MailUserByDomain,\n  MailUserPrivilege,\n  MailUsersResponse,\n  MailUsersResponseFormat,\n} from 'mailinabox-api';\nimport { handleRequestError, mailApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum UserActionType {\n  addAdminPrivilege,\n  removeAdminPrivilege,\n  setPassword,\n  archive,\n}\n\nexport interface UserAction {\n  user?: MailUser;\n  type?: UserActionType;\n}\n\nexport interface UsersState {\n  isGettingUsers: boolean;\n  users: MailUsersResponse;\n  getUsersError: string | null;\n  isUpdatingUser: boolean;\n  isAddingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n  addUserResponse: string | null;\n  addUserError: string | null;\n}\n\nconst initialState: UsersState = {\n  isGettingUsers: false,\n  users: [],\n  getUsersError: null,\n  isUpdatingUser: false,\n  isAddingUser: false,\n  updateUserError: null,\n  updateUserResponse: null,\n  userAction: null,\n  addUserResponse: null,\n  addUserError: null,\n};\n\nexport const users = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    getUsersStart: (state): void => {\n      state.getUsersError = null;\n      state.isGettingUsers = true;\n    },\n    getUsersSuccess: (state, action): void => {\n      state.isGettingUsers = false;\n      state.users = action.payload;\n    },\n    getUsersError: (state, action): void => {\n      state.getUsersError = action.payload;\n      state.isGettingUsers = false;\n    },\n    updateUserStart: (state): void => {\n      state.updateUserError = null;\n      state.isUpdatingUser = true;\n    },\n    updateUserSuccess: (state, action): void => {\n      state.isUpdatingUser = false;\n      state.updateUserResponse = action.payload;\n    },\n    updateUserError: (state, action): void => {\n      state.updateUserError = action.payload;\n      state.isUpdatingUser = false;\n    },\n    updateUserReset: (state): void => {\n      state.isUpdatingUser = false;\n      state.updateUserError = null;\n      state.updateUserResponse = null;\n    },\n    setUserAction: (state, action): void => {\n      state.userAction = action.payload;\n    },\n    resetUserAction: (state): void => {\n      state.userAction = {\n        ...state.userAction,\n        type: undefined,\n      };\n    },\n    addUserStart: (state): void => {\n      state.addUserError = null;\n      state.isAddingUser = true;\n    },\n    addUserSuccess: (state, action): void => {\n      state.isAddingUser = false;\n      state.addUserResponse = action.payload;\n    },\n    addUserError: (state, action): void => {\n      state.addUserError = action.payload;\n      state.isAddingUser = false;\n    },\n    addUserReset: (state): void => {\n      state.addUserError = null;\n      state.isAddingUser = false;\n      state.addUserResponse = null;\n    },\n    addUserResetError: (state): void => {\n      state.addUserError = null;\n    },\n  },\n});\n\nexport const {\n  getUsersSuccess,\n  getUsersStart,\n  getUsersError,\n  updateUserStart,\n  updateUserSuccess,\n  updateUserError,\n  updateUserReset,\n  setUserAction,\n  resetUserAction,\n  addUserStart,\n  addUserSuccess,\n  addUserError,\n  addUserReset,\n  addUserResetError,\n} = users.actions;\n\nexport const { reducer: usersReducer } = users;\n\nexport const selectUsersWithGroups = (\n  state: RootState\n): [Array<MailUser>, Array<IGroup>] => {\n  const { users: mailUsers } = state.users;\n  const users: Array<MailUser> = [];\n  const groups: Array<IGroup> = [];\n\n  mailUsers.forEach((userDomain: MailUserByDomain) => {\n    const { domain, users: usersByDomain } = userDomain;\n    groups.push({\n      key: 'group' + groups.length,\n      name: domain,\n      startIndex: users.length,\n      isCollapsed: true,\n      level: 0,\n      count: usersByDomain.length,\n    });\n    users.push(...usersByDomain);\n  });\n\n  return [users, groups];\n};\n\nexport const getUsers = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getUsersStart());\n  try {\n    const result = await mailApi.getMailUsers({\n      format: MailUsersResponseFormat.Json,\n    });\n    dispatch(getUsersSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getUsersError);\n  }\n};\n\nexport const addUserAdminPrivilege = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.addMailUserPrivilege({\n      email: user.email,\n      privilege: MailUserPrivilege.Admin,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const removeUserAdminPrivilege = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.removeMailUserPrivilege({\n      email: user.email,\n      privilege: MailUserPrivilege.Admin,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const setUserPassword = (\n  user: MailUser,\n  password: string\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.setMailUserPassword({\n      email: user.email,\n      password: password,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const removeUser = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.removeMailUser({\n      email: user.email,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const addUser = (\n  email: string,\n  password: string,\n  privilege: MailUserPrivilege\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addUserStart());\n  try {\n    const result = await mailApi.addMailUser({\n      email,\n      password,\n      privileges: privilege,\n    });\n    dispatch(addUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addUserError);\n  }\n};\n","import configJson from './config.json';\nimport { Config } from './types';\n\nexport const config: Config = configJson;\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Option',\n    minWidth: 100,\n    maxWidth: 160,\n    isRowHeader: true,\n    fieldName: 'option',\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    minWidth: 100,\n    isRowHeader: false,\n    fieldName: 'value',\n  },\n];\n\nconst items = [\n  {\n    option: 'Server',\n    value: config.hostname,\n  },\n  {\n    option: 'Options',\n    value: 'Secure Connection',\n  },\n];\n\nexport const MailExchangeSettingsList: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible={false}\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Option',\n    minWidth: 100,\n    maxWidth: 160,\n    isRowHeader: true,\n    fieldName: 'option',\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    minWidth: 100,\n    isRowHeader: false,\n    fieldName: 'value',\n  },\n];\n\nconst items = [\n  {\n    option: 'Protocol/Method',\n    value: 'IMAP',\n  },\n  {\n    option: 'Mail server',\n    value: config.hostname,\n  },\n  {\n    option: 'IMAP Port',\n    value: '993',\n  },\n  {\n    option: 'IMAP Security',\n    value: 'SSL or TLS',\n  },\n  {\n    option: 'SMTP Port',\n    value: '587',\n  },\n  {\n    option: 'SMTP Security',\n    value: 'STARTTLS (\"always\" or \"required\", if prompted)',\n  },\n  {\n    option: 'Username',\n    value: 'Your whole email address.',\n  },\n  {\n    option: 'Password',\n    value: 'Your mail password.',\n  },\n];\n\nexport const MailSettingsList: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: -16,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  DefaultButton,\n  Link,\n  mergeStyles,\n  Stack,\n  Text,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { config } from '../../../../../config';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MailExchangeSettingsList } from '../../../../ui/MailExchangeSettingsList/MailExchangeSettingsList';\nimport { MailSettingsList } from '../../../../ui/MailSettingsList/MailSettingsList';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const InstructionsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const tooltipId = useId('tooltip');\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'mail',\n            },\n            {\n              text: 'Checking and Sending Mail',\n              key: 'checkingmail',\n              as: 'h1',\n            },\n          ]}\n        />\n        <TooltipHost\n          content=\"Download instructions in PDF format which you can use to send to users of this box.\"\n          id={tooltipId}\n        >\n          <DefaultButton iconProps={{ iconName: 'Download' }}>\n            Download Instructions\n          </DefaultButton>\n        </TooltipHost>\n      </Stack>\n      <Stack horizontal gap=\"l1\">\n        <Stack gap=\"m\" grow={4} className={columnClassName}>\n          <BodyPanel>\n            <Text block variant=\"large\">\n              Webmail\n            </Text>\n            <Text block>\n              Webmail lets you check your email from any web browser. Your\n              webmail site is:\n            </Text>\n            <Text block>\n              <Link href={`https://${config.hostname}/mail`}>\n                https://{config.hostname}/mail\n              </Link>\n            </Text>\n            <Text block>Your username is your whole email address.</Text>\n          </BodyPanel>\n          <BodyPanel>\n            <Text block variant=\"large\">\n              Mobile/desktop apps\n            </Text>\n            <Text block variant=\"mediumPlus\">\n              Automatic configuration\n            </Text>\n            <Text block>\n              iOS and OS X only: Open{' '}\n              <Link href={`https://${config.hostname}/mailinabox.mobileconfig`}>\n                this configuration link\n              </Link>{' '}\n              on your iOS device or on your Mac desktop to easily set up mail\n              (IMAP/SMTP), Contacts, and Calendar. Your username is your whole\n              email address.\n            </Text>\n            <Text block variant=\"mediumPlus\">\n              Manual configuration\n            </Text>\n            <Text block>\n              Use the following settings when you set up your email on your\n              phone, desktop, or other device:\n            </Text>\n            <MailSettingsList />\n            <Text block>\n              In addition to setting up your email, you&rsquo;ll also need to\n              set up <Link>contacts and calendar synchronization</Link>{' '}\n              separately.\n            </Text>\n            <Text block>\n              As an alternative to IMAP you can also use the POP protocol:\n              choose POP as the protocol, port 995, and SSL or TLS security in\n              your mail client. The SMTP settings and usernames and passwords\n              remain the same. However, we recommend you use IMAP instead.\n            </Text>\n\n            <Text block variant=\"mediumPlus\">\n              Exchange/ActiveSync settings\n            </Text>\n\n            <Text block>\n              On iOS devices, devices on this{' '}\n              <Link href=\"https://wiki.z-hub.io/display/ZP/Compatibility\">\n                compatibility list\n              </Link>\n              , or using Outlook 2007 or later on Windows 7 and later, you may\n              set up your mail as an Exchange or ActiveSync server. However,\n              we&rsquo;ve found this to be more buggy than using IMAP as\n              described above. If you encounter any problems, please use the\n              manual settings above.\n            </Text>\n            <MailExchangeSettingsList />\n            <Text block>\n              Your device should also provide a contacts list and calendar that\n              syncs to this box when you use this method.\n            </Text>\n          </BodyPanel>\n        </Stack>\n        <Stack grow={3} className={columnClassName}>\n          <BodyPanel>\n            <Text block variant=\"large\">\n              Other information about mail on your box\n            </Text>\n            <Text block variant=\"mediumPlus\">\n              Automatic configuration\n            </Text>\n            <Text block>\n              Your box uses a technique called greylisting to cut down on spam.\n              Greylisting works by initially rejecting mail from people you\n              haven’t received mail from before. Legitimate mail servers will\n              attempt redelivery shortly afterwards, but the vast majority of\n              spam gets tricked by this. If you are waiting for an email from\n              someone new, such as if you are registering on a new website and\n              are waiting for an email confirmation, please be aware there will\n              be a minimum of 3 minutes delay, depending how soon the remote\n              server attempts redelivery.\n            </Text>\n            <Text block variant=\"mediumPlus\">\n              +tag addresses\n            </Text>\n            <Text block>\n              Every incoming email address also receives mail for{' '}\n              <code>+tag</code> addresses. If your email address is{' '}\n              <code>you@yourdomain.com</code>, you&rsquo;ll also automatically\n              get mail sent to <code>you+anythinghere@yourdomain.com</code>. Use\n              this as a fast way to segment incoming mail for your own filtering\n              rules without having to create aliases in this control panel.\n            </Text>\n            <Text block variant=\"mediumPlus\">\n              Use only this box to send as you\n            </Text>\n            <Text block>\n              Your box sets strict email sending policies for your domain names\n              to make it harder for spam and other fraudulent mail to claim to\n              be you. Only this machine is authorized to send email on behalf of\n              your domain names. If you use any other service to send email as\n              you, it will likely get spam filtered by recipients.\n            </Text>\n          </BodyPanel>\n        </Stack>\n      </Stack>\n    </Body>\n  );\n};\n\nInstructionsRoute.path = '/mail/instructions';\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogType,\n  Dropdown,\n  getTheme,\n  IDialogContentProps,\n  IDropdownOption,\n  IModalProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { MailUserPrivilege } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getDump } from '../../../features/dnsSlice';\nimport { getSSLStatus } from '../../../features/sslSlice';\nimport {\n  addUser,\n  addUserReset,\n  addUserResetError,\n  getUsers,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\nconst theme = getTheme();\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'User Added',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nconst privilegeOptions: IDropdownOption[] = [\n  {\n    key: MailUserPrivilege.Empty,\n    text: 'Normal User',\n  },\n  {\n    key: MailUserPrivilege.Admin,\n    text: 'Administrator',\n  },\n];\n\ninterface FormState {\n  email: string;\n  password: string;\n  privilege: IDropdownOption;\n}\n\nconst initialFormState: FormState = {\n  email: '',\n  password: '',\n  privilege: privilegeOptions[0],\n};\n\nexport const MailUserAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const { isAddingUser, addUserResponse, addUserError } = useSelector(\n    (state: RootState) => state.users\n  );\n\n  const dispatch = useDispatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const [user, setUser] = useState<FormState>(initialFormState);\n\n  const onEmailChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setUser({\n        ...user,\n        email: newValue ?? '',\n      });\n    },\n    [user]\n  );\n\n  const onPasswordChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setUser({\n        ...user,\n        password: newValue ?? '',\n      });\n    },\n    [user]\n  );\n\n  const onPrivilegeChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      if (option) {\n        setUser({\n          ...user,\n          privilege: option,\n        });\n      }\n    },\n    [user]\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(\n        addUser(\n          user.email,\n          user.password,\n          user.privilege.key as MailUserPrivilege\n        )\n      );\n    },\n    [dispatch, user.email, user.password, user.privilege.key]\n  );\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onDialogDismissed = useCallback((): void => {\n    dispatch(addUserReset());\n    setUser(initialFormState);\n  }, [dispatch]);\n\n  const onErrorMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addUserResetError());\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (addUserResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addUserResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    if (addUserResponse) {\n      dispatch(getUsers());\n      dispatch(getSSLStatus());\n      dispatch(getDump());\n    }\n  }, [addUserResponse, dispatch]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addUserReset());\n    };\n  }, [dispatch]);\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addUserResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"l2\" horizontal {...props}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            Add an email address to this system. This will create a new login\n            username/password.\n          </Text>\n          <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n            Passwords must be at least eight characters consisting of English\n            letters and numbers only. For best results,\n            <Link href=\"#\">generate a random password</Link>.\n            <br />\n            <br />\n            Use<Link href=\"#\">aliases</Link> to create email addresses that\n            forward to existing accounts.\n            <br />\n            <br />\n            Administrators get access to this control panel.\n            <br />\n            <br />\n            User accounts cannot contain any international (non-ASCII)\n            characters, but<Link href=\"#\">aliases</Link> can.\n          </MessageBar>\n        </Stack>\n        <Stack\n          gap=\"m\"\n          as=\"form\"\n          grow={1}\n          className={columnClassName}\n          onSubmit={onFormSubmit}\n        >\n          {addUserError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              onDismiss={onErrorMessageBarDismiss}\n              dismissButtonAriaLabel=\"Close\"\n            >\n              {addUserError}\n            </MessageBar>\n          )}\n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            required\n            onChange={onEmailChange}\n            value={user.email}\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            required\n            onChange={onPasswordChange}\n            value={user.password}\n            description=\"Passwords must be at least eight characters and may not contain spaces.\"\n            styles={{ description: { ...theme.fonts.small } }}\n          />\n          <Dropdown\n            label=\"Privilege\"\n            required\n            options={privilegeOptions}\n            selectedKey={user.privilege.key}\n            onChange={onPrivilegeChange}\n          />\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isAddingUser}>\n              Add User\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  PrimaryButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUsers,\n  removeUser,\n  updateUserReset,\n  UserAction,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Archive User',\n};\n\ninterface MailUserArchiveDialogProps {\n  onDismiss: () => void;\n  hidden: boolean;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n}\n\nexport const MailUserArchiveDialog: React.FunctionComponent<MailUserArchiveDialogProps> = ({\n  hidden,\n  onDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const { username } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n  const [\n    archiveSelfErrorDialogHidden,\n    setArchiveSelfErrorDialogHidden,\n  ] = useState<boolean>(true);\n\n  const onModalDismissed = useCallback((): void => {\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  }, [dispatch, updateUserResponse]);\n\n  const onArchiveConfirm = useCallback((): void => {\n    if (userAction?.user) {\n      dispatch(removeUser(userAction.user));\n    }\n  }, [dispatch, userAction]);\n\n  const modalProps = {\n    isBlocking: true,\n    onDismissed: onModalDismissed,\n  };\n\n  const updateSelfError = !hidden && username === userAction?.user?.email;\n\n  useEffect(() => {\n    setArchiveSelfErrorDialogHidden(!updateSelfError);\n  }, [setArchiveSelfErrorDialogHidden, updateSelfError]);\n  return (\n    <>\n      <Dialog\n        hidden={archiveSelfErrorDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n      >\n        <Text>You cannot archive your own account.</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDismiss} />\n        </DialogFooter>\n      </Dialog>\n      <ActionConfirmDialog\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        onDismiss={onDismiss}\n        isLoading={isUpdatingUser}\n        error={updateUserError}\n        hidden={hidden || !archiveSelfErrorDialogHidden}\n        confirmButtonText=\"Archive\"\n        actionResponse={updateUserResponse}\n        onConfirm={onArchiveConfirm}\n      >\n        <Stack gap=\"m\">\n          <Text>\n            Are you sure you want to archive{' '}\n            <strong>{userAction?.user?.email}</strong>?\n          </Text>\n          <Text>\n            The user's mailboxes will not be deleted (you can do that later),\n            but the user will no longer be able to log into any services on this\n            machine.\n          </Text>\n        </Stack>\n      </ActionConfirmDialog>\n    </>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  DialogType,\n  getTheme,\n  IDialogContentProps,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React, { useCallback, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUsers,\n  setUserPassword,\n  updateUserReset,\n  UserAction,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\ninterface MailUserSetPasswordDialogProps {\n  onDismiss: () => void;\n  hidden: boolean;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n}\n\nconst changePasswordDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Set Password',\n};\n\nexport const MailUserSetPasswordDialog: React.FunctionComponent<MailUserSetPasswordDialogProps> = ({\n  hidden,\n  onDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const { username } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n  const [password, setPassword] = useState<string>('');\n  const onModalDismissed = useCallback((): void => {\n    setPassword('');\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  }, [dispatch, updateUserResponse]);\n\n  const onPasswordChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPassword(newValue ?? '');\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      if (userAction?.user) {\n        dispatch(setUserPassword(userAction.user, password));\n      }\n    },\n    [dispatch, password, userAction]\n  );\n  const updateSelf = username === userAction?.user?.email;\n  return (\n    <Dialog\n      hidden={hidden}\n      dialogContentProps={changePasswordDialogContentProps}\n      modalProps={{\n        isBlocking: true,\n        onDismissed: onModalDismissed,\n      }}\n      minWidth={480}\n      maxWidth={480}\n    >\n      {updateUserResponse && (\n        <>\n          <Pre>{updateUserResponse}</Pre>\n          <DialogFooter>\n            <PrimaryButton text=\"OK\" onClick={onDismiss} />\n          </DialogFooter>\n        </>\n      )}\n      {!updateUserResponse && (\n        <form onSubmit={onFormSubmit}>\n          <Stack gap=\"s1\">\n            {updateUserError && (\n              <MessageBar messageBarType={MessageBarType.error} isMultiline>\n                {updateUserError}\n              </MessageBar>\n            )}\n            <Text block>\n              Set a new password for <strong>{userAction?.user?.email}</strong>\n            </Text>\n            <TextField\n              label=\"New Password\"\n              type=\"password\"\n              value={password}\n              required\n              onChange={onPasswordChange}\n              description=\"Passwords must be at least eight characters and may not contain spaces.\"\n              styles={{ description: { ...getTheme().fonts.small } }}\n            />\n            {updateSelf && (\n              <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n                If you change your own password, you will be logged out of this\n                control panel and will need to log in again.\n              </MessageBar>\n            )}\n          </Stack>\n          <DialogFooter isLoading={isUpdatingUser}>\n            <PrimaryButton\n              text=\"Set Password\"\n              disabled={isUpdatingUser}\n              type=\"submit\"\n            />\n            <DefaultButton\n              text=\"Cancel\"\n              disabled={isUpdatingUser}\n              onClick={onDismiss}\n            />\n          </DialogFooter>\n        </form>\n      )}\n    </Dialog>\n  );\n};\n","import {\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  PrimaryButton,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addUserAdminPrivilege,\n  getUsers,\n  removeUserAdminPrivilege,\n  updateUserReset,\n  UserAction,\n  UserActionType,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nconst modifyPrivilegesDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Modify Privileges',\n};\n\ninterface MailUserUpdatePrivilegeProps {\n  onDialogDismiss: () => void;\n  userAction: UserAction | null;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n}\n\nexport const MailUserUpdatePrivilege: React.FunctionComponent<MailUserUpdatePrivilegeProps> = ({\n  onDialogDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const dispatch = useDispatch();\n\n  const { username } = useSelector((state: RootState) => state.auth);\n  const [\n    removeSelfErrorDialogHidden,\n    setRemoveSelfErrorDialogHidden,\n  ] = useState<boolean>(true);\n\n  const removeAdminDialogHidden =\n    userAction?.type !== UserActionType.removeAdminPrivilege;\n\n  const addAdminDialogHidden =\n    userAction?.type !== UserActionType.addAdminPrivilege;\n\n  const updateSelfError =\n    !removeAdminDialogHidden && username === userAction?.user?.email;\n\n  const onModalDismissed = useCallback((): void => {\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  }, [dispatch, updateUserResponse]);\n\n  const onRemoveAdminConfirm = useCallback((): void => {\n    if (userAction?.user) {\n      dispatch(removeUserAdminPrivilege(userAction.user));\n    }\n  }, [dispatch, userAction]);\n\n  const onAddAdminConfirm = useCallback((): void => {\n    if (userAction?.user) {\n      dispatch(addUserAdminPrivilege(userAction.user));\n    }\n  }, [dispatch, userAction]);\n\n  useEffect(() => {\n    setRemoveSelfErrorDialogHidden(!updateSelfError);\n  }, [updateSelfError]);\n\n  const modalProps = {\n    isBlocking: true,\n    onDismissed: onModalDismissed,\n  };\n  return (\n    <>\n      <Dialog\n        hidden={removeSelfErrorDialogHidden}\n        dialogContentProps={modifyPrivilegesDialogContentProps}\n        modalProps={modalProps}\n      >\n        <Text>You cannot remove the admin privilege from yourself.</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogDismiss} />\n        </DialogFooter>\n      </Dialog>\n      {!updateSelfError && (\n        <>\n          <ActionConfirmDialog\n            dialogContentProps={modifyPrivilegesDialogContentProps}\n            modalProps={modalProps}\n            onDismiss={onDialogDismiss}\n            isLoading={isUpdatingUser}\n            error={updateUserError}\n            hidden={removeAdminDialogHidden}\n            onConfirm={onRemoveAdminConfirm}\n            confirmButtonText=\"Remove\"\n            actionResponse={updateUserResponse}\n          >\n            <Text>\n              Are you sure you want to remove the admin privilege for{' '}\n              <strong>{userAction?.user?.email}?</strong>\n            </Text>\n          </ActionConfirmDialog>\n          <ActionConfirmDialog\n            dialogContentProps={modifyPrivilegesDialogContentProps}\n            modalProps={modalProps}\n            onDismiss={onDialogDismiss}\n            isLoading={isUpdatingUser}\n            error={updateUserError}\n            hidden={addAdminDialogHidden}\n            onConfirm={onAddAdminConfirm}\n            confirmButtonText=\"Add\"\n            actionResponse={updateUserResponse}\n          >\n            <Text>\n              Are you sure you want to add the admin privilege for{' '}\n              <strong>{userAction?.user?.email}?</strong>\n            </Text>\n          </ActionConfirmDialog>\n        </>\n      )}\n    </>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { resetUserAction, UserActionType } from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { MailUserArchiveDialog } from './MailUserArchiveDialog';\nimport { MailUserSetPasswordDialog } from './MailUserSetPasswordDialog';\nimport { MailUserUpdatePrivilege } from './MailUserUpdatePrivilege';\n\nexport const MailUserActions: React.FunctionComponent = () => {\n  const {\n    isUpdatingUser,\n    updateUserError,\n    updateUserResponse,\n    userAction,\n  } = useSelector((state: RootState) => state.users);\n\n  const dispatch = useDispatch();\n\n  const onDialogDismiss = useCallback((): void => {\n    dispatch(resetUserAction());\n  }, [dispatch]);\n\n  // useEffect(() => {\n  //   if (updateUserResponse) {\n  //     dispatch(getUsers());\n  //   }\n  // }, [dispatch, updateUserResponse]);\n  return (\n    <>\n      <MailUserUpdatePrivilege\n        onDialogDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n      <MailUserSetPasswordDialog\n        hidden={userAction?.type !== UserActionType.setPassword}\n        onDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n      <MailUserArchiveDialog\n        hidden={userAction?.type !== UserActionType.archive}\n        onDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n    </>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { MailUser, MailUserPrivilege } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setUserAction, UserActionType } from '../../../features/usersSlice';\n\ninterface MailUserActionsListProps {\n  user: MailUser;\n}\n\nexport const MailUserActionsList: React.FunctionComponent<MailUserActionsListProps> = ({\n  user,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: UserActionType): void => {\n      dispatch(\n        setUserAction({\n          user,\n          type,\n        })\n      );\n    },\n    [dispatch, user]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          user.privileges.includes(MailUserPrivilege.Admin)\n            ? {\n                key: 'removeadmin',\n                text: 'Remove Admin Privilege',\n                onClick: (): void =>\n                  doAction(UserActionType.removeAdminPrivilege),\n              }\n            : {\n                key: 'makeadmin',\n                text: 'Make Admin',\n                onClick: (): void => doAction(UserActionType.addAdminPrivilege),\n              },\n          {\n            key: 'setpassword',\n            text: 'Set Password',\n            onClick: (): void => doAction(UserActionType.setPassword),\n          },\n          {\n            key: 'archiveaccount',\n            text: 'Archive Account',\n            onClick: (): void => doAction(UserActionType.archive),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { MailUser, MailUserStatus } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUsersWithGroups } from '../../../features/usersSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { MailUserActions } from './MailUserActions';\nimport { MailUserActionsList } from './MailUserActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Email Address',\n    minWidth: 320,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'email',\n    onRender: (item: MailUser): React.ReactNode => {\n      const styles =\n        item.status === MailUserStatus.Inactive\n          ? {\n              root: {\n                textDecoration: 'line-through',\n              },\n            }\n          : {};\n      return (\n        <>\n          <Text styles={styles}>{item.email}</Text>\n          {item.status === MailUserStatus.Inactive && item.mailbox ? (\n            <MessageBar\n              messageBarType={MessageBarType.info}\n              isMultiline\n              styles={{ root: { marginTop: 10 } }}\n            >\n              To restore account, create a new account with this email address.\n              Or to permanently delete the mailbox, delete the directory{' '}\n              <code>{item.mailbox}</code> on the machine.\n            </MessageBar>\n          ) : null}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: 'Privilege',\n    minWidth: 80,\n    isMultiline: false,\n    onRender: (user: MailUser): React.ReactNode => {\n      return user.status === MailUserStatus.Active ? (\n        <Text>\n          {user.privileges.length ? (\n            <strong>{user.privileges.join(', ')}</strong>\n          ) : (\n            'normal'\n          )}\n        </Text>\n      ) : null;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    minWidth: 50,\n    isMultiline: false,\n    onRender: (user: MailUser): React.ReactNode => {\n      return user.status === MailUserStatus.Active ? (\n        <MailUserActionsList user={user} />\n      ) : null;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface MailUsersListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const MailUsersList: React.FunctionComponent<\n  IStackProps & MailUsersListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [users, groups] = useSelector(selectUsersWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <MailUserActions />\n      <GroupedDetailsList\n        openedGroupsState={openedGroupsState}\n        items={users}\n        groups={groups}\n        columns={columns}\n      />\n    </Stack>\n  );\n};\n","import { MessageBarType, PivotItem, Stack } from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getUsers } from '../../../../../features/usersSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { LoadingOverlay } from '../../../../ui/LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../../../../ui/LoadingOverlay/LoadingOverlayContainer';\nimport { MailUserAdd } from '../../../../ui/MailUserAdd/MailUserAdd';\nimport { MailUsersList } from '../../../../ui/MailUsersList/MailUsersList';\nimport { MessageBar } from '../../../../ui/MessageBar/MessageBar';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst UsersSections: React.FunctionComponent = () => {\n  const { isGettingUsers, users, getUsersError } = useSelector(\n    (state: RootState) => state.users\n  );\n  const openedGroupsState = useState<string[]>([]);\n  const { path, url } = useRouteMatch();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!users.length) {\n      dispatch(getUsers());\n    }\n  }, [dispatch, users.length]);\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"Existing Mail Users\" />\n        <PivotItem itemKey={`${url}/add`} headerText=\"Add a Mail User\" />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {getUsersError && (\n              <MessageBar messageBarType={MessageBarType.error} isMultiline>\n                {getUsersError}\n              </MessageBar>\n            )}\n            {isGettingUsers && (\n              <LoadingOverlay\n                loadingLabel=\"Loading users...\"\n                hasLoaded={Boolean(users.length)}\n              />\n            )}\n            {!getUsersError && Boolean(users.length) && (\n              <MailUsersList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          <MailUserAdd />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const UsersRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'system',\n            },\n            {\n              text: 'Users',\n              key: 'users',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <UsersSections />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nUsersRoute.path = '/mail/users';\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  getTheme,\n  IColumn,\n  Link,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\nconst theme = getTheme();\n\ninterface SyncBrowserItem {\n  option: string;\n  value: string;\n}\n\nconst items: Array<SyncBrowserItem> = [\n  {\n    option: 'Contacts',\n    value: `https://${config.hostname}/cloud/contacts`,\n  },\n  {\n    option: 'Calendar',\n    value: `https://${config.hostname}/cloud/calendar`,\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 80,\n    isRowHeader: true,\n    onRender: (item: SyncBrowserItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    onRender: (item: SyncBrowserItem): React.ReactNode => {\n      return (\n        <Text>\n          <Link href={item.value}>{item.value}</Link>\n        </Text>\n      );\n    },\n  },\n];\n\nexport const SyncListBrowser: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: '-' + theme.spacing.m,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  getTheme,\n  IColumn,\n  Link,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\ninterface SyncListItem {\n  option: string;\n  value: React.ReactNode;\n}\n\nconst items: Array<SyncListItem> = [\n  {\n    option: 'Contacts and Calendar',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=at.bitfire.davdroid\">\n          DAVdroid\n        </Link>{' '}\n        ($3.69; free{' '}\n        <Link href=\"https://f-droid.org/packages/at.bitfire.davdroid/\">\n          here\n        </Link>\n        )\n      </Text>\n    ),\n  },\n  {\n    option: 'Only Contacts',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=org.dmfs.carddav.sync\">\n          CardDAV-Sync free beta\n        </Link>{' '}\n        (free)\n      </Text>\n    ),\n  },\n  {\n    option: 'Only Calendar',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=org.dmfs.caldav.lib\">\n          CalDAV-Sync\n        </Link>{' '}\n        ($2.89)\n      </Text>\n    ),\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 180,\n    isRowHeader: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    fieldName: 'value',\n  },\n];\n\nexport const SyncListMobile: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: '-' + theme.spacing.m,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\ninterface SyncListItem {\n  option: string;\n  value: string;\n}\n\nconst items: Array<SyncListItem> = [\n  {\n    option: 'Account Type',\n    value: 'CardDAV or CalDAV',\n  },\n  {\n    option: 'Server Name',\n    value: config.hostname,\n  },\n  {\n    option: 'Use SSL',\n    value: 'Yes',\n  },\n  {\n    option: 'Username',\n    value: 'Your complete email address',\n  },\n  {\n    option: 'Password',\n    value: 'Your mail password',\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 180,\n    isRowHeader: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n];\n\nexport const SyncListMobileSettings: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      compact\n      items={items}\n      columns={columns}\n      isHeaderVisible={false}\n      layoutMode={DetailsListLayoutMode.justified}\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  DefaultButton,\n  Link,\n  mergeStyles,\n  Stack,\n  Text,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { Body } from '../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../ui/BodyPanel/BodyPanel';\nimport { SyncListBrowser } from '../../../ui/SyncListBrowser/SyncListBrowser';\nimport { SyncListMobile } from '../../../ui/SyncListMobile/SyncListMobile';\nimport { SyncListMobileSettings } from '../../../ui/SyncListMobile/SyncListMobileSettings';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const SyncGuideRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const tooltipId = useId('tooltip');\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Contacts & Calendar Synchronization',\n              key: 'syncguide',\n              as: 'h1',\n            },\n          ]}\n        />\n        <TooltipHost\n          content=\"Download instructions in PDF format which you can use to send to users of this box.\"\n          id={tooltipId}\n        >\n          <DefaultButton iconProps={{ iconName: 'Download' }}>\n            Download Sync Guide\n          </DefaultButton>\n        </TooltipHost>\n      </Stack>\n      <Stack horizontal gap=\"l1\">\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <BodyPanel>\n            <Text block variant=\"large\">\n              In your browser\n            </Text>\n            <Text block>\n              You can edit your contacts and calendar from your web browser.\n            </Text>\n            <SyncListBrowser />\n            <Text>\n              Log in settings are the same as with <Link href=\"#\">mail</Link>:\n              your complete email address and your mail password.\n            </Text>\n          </BodyPanel>\n        </Stack>\n        <Stack grow={1} className={columnClassName}>\n          <BodyPanel>\n            <Text block variant=\"large\">\n              On your mobile device\n            </Text>\n            <Text>\n              If you set up your <Link href=\"#\">mail</Link> using\n              Exchange/ActiveSync, your contacts and calendar may already appear\n              on your device.\n            </Text>\n            <Text>\n              Otherwise, here are some apps that can synchronize your contacts\n              and calendar to your Android phone.\n            </Text>\n            <SyncListMobile />\n            <Text>Use the following settings:</Text>\n            <SyncListMobileSettings />\n          </BodyPanel>\n        </Stack>\n      </Stack>\n    </Body>\n  );\n};\n\nSyncGuideRoute.path = '/sync-guide';\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n  SystemBackupStatusResponse,\n} from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemBackupsState {\n  isGettingStatus: boolean;\n  isGettingConfig: boolean;\n  isUpdatingConfig: boolean;\n  status: SystemBackupStatusResponse;\n  config: SystemBackupConfigResponse;\n  updateConfigResponse: string | null;\n  getStatusError: string | null;\n  getConfigError: string | null;\n  updateConfigError: string | null;\n}\n\nconst initialState: SystemBackupsState = {\n  isGettingStatus: false,\n  isGettingConfig: false,\n  isUpdatingConfig: false,\n  status: {\n    backups: [],\n    unmatchedFileSize: 0,\n  },\n  config: {\n    encPwFile: '',\n    fileTargetDirectory: '',\n    minAgeInDays: 1,\n    sshPubKey: '',\n    target: '',\n  },\n  updateConfigResponse: null,\n  getStatusError: null,\n  getConfigError: null,\n  updateConfigError: null,\n};\n\nconst systemBackups = createSlice({\n  name: 'backups',\n  initialState,\n  reducers: {\n    getStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.status = action.payload;\n    },\n    getStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n    getConfigStart: (state): void => {\n      state.getConfigError = null;\n      state.isGettingConfig = true;\n    },\n    getConfigSuccess: (state, action): void => {\n      state.isGettingConfig = false;\n      state.config = action.payload;\n    },\n    getConfigError: (state, action): void => {\n      state.getConfigError = action.payload;\n      state.isGettingConfig = false;\n    },\n    updateConfigStart: (state): void => {\n      state.updateConfigError = null;\n      state.isUpdatingConfig = true;\n    },\n    updateConfigSuccess: (state, action): void => {\n      state.isUpdatingConfig = false;\n      state.updateConfigResponse = action.payload;\n    },\n    updateConfigError: (state, action): void => {\n      state.updateConfigError = action.payload;\n      state.isUpdatingConfig = false;\n    },\n    updateConfigResetError: (state): void => {\n      state.updateConfigError = null;\n    },\n    updateConfigReset: (state): void => {\n      state.updateConfigError = null;\n      state.isUpdatingConfig = false;\n      state.updateConfigResponse = null;\n    },\n  },\n});\n\nexport const {\n  getStatusSuccess,\n  getStatusStart,\n  getStatusError,\n  getConfigStart,\n  getConfigSuccess,\n  getConfigError,\n  updateConfigStart,\n  updateConfigSuccess,\n  updateConfigError,\n  updateConfigResetError,\n  updateConfigReset,\n} = systemBackups.actions;\n\nexport const { reducer: systemBackupsReducer } = systemBackups;\n\nexport const getStatus = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getStatusStart());\n  try {\n    const result = await systemApi.getSystemBackupStatus();\n    dispatch(getStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getStatusError);\n  }\n};\n\nexport const getConfig = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getConfigStart());\n  try {\n    const result = await systemApi.getSystemBackupConfig();\n    dispatch(getConfigSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getConfigError);\n  }\n};\n\nexport const updateConfig = (\n  config: SystemBackupConfigUpdateRequest\n): ThunkAction<void, RootState, unknown, Action<string>> => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateConfigStart());\n  try {\n    const result = await systemApi.updateSystemBackupConfig(config);\n    dispatch(updateConfigSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateConfigError);\n  }\n};\n","import {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n} from 'mailinabox-api';\n\nexport interface BackupConfigureProps {\n  backupConfig: SystemBackupConfigResponse;\n  isCurrentType: boolean;\n  daysDescription: string;\n  onConfigChange: (config: SystemBackupConfigUpdateRequest) => void;\n}\n\nexport enum BackupType {\n  off = 'off',\n  local = 'local',\n  rsync = 'rsync',\n  s3 = 's3',\n}\n","import { TextField } from '@fluentui/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps, BackupType } from '../types';\n\nexport const BackupConfigureLocal: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n  const onDaysChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setDays(newValue);\n    },\n    []\n  );\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: BackupType.local,\n      targetUser: '',\n      targetPass: '',\n      minAge: Number(days) || 1,\n    });\n  }, [days, onConfigChange]);\n\n  return (\n    <TextField\n      value={days}\n      label=\"Days\"\n      min={1}\n      step={1}\n      type=\"number\"\n      required\n      onRenderLabel={onDaysRenderLabel}\n      styles={textfieldWithLabelInfoStyles}\n      onChange={onDaysChange}\n    />\n  );\n};\n","import { MessageBarType, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoLocalProps {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoLocal: React.FunctionComponent<BackupInfoLocalProps> = ({\n  config,\n}) => {\n  return (\n    <>\n      <Text>\n        Backups are stored on this machine’s own hard disk. You are responsible\n        for periodically using SFTP (FTP over SSH) to copy the backup files from\n        <code>{config.fileTargetDirectory}</code> to a safe location. These\n        files are encrypted, so they are safe to store anywhere.\n      </Text>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        Separately copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files.\n      </MessageBar>\n    </>\n  );\n};\n","import { TextField } from '@fluentui/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { config } from '../../../../config';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps } from '../types';\n\nexport const BackupConfigureRsync: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  isCurrentType,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const targetPath = isCurrentType\n    ? backupConfig.target.substring(8).split('//')\n    : [];\n  const targetHostParts = isCurrentType\n    ? targetPath.shift()?.split('@') || []\n    : [];\n  const initialUsername = isCurrentType ? targetHostParts[0] : '';\n  const initialHostName = isCurrentType ? targetHostParts[1] : '';\n  const initialPath = isCurrentType ? `/${targetPath[0]}` : '';\n\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n  const [hostname, setHostname] = useState<string | undefined>(initialHostName);\n  const [path, setPath] = useState<string | undefined>(initialPath);\n  const [username, setUsername] = useState<string | undefined>(initialUsername);\n\n  const onDaysChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setDays(newValue);\n    },\n    []\n  );\n\n  const onHostnameChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setHostname(newValue);\n    },\n    []\n  );\n\n  const onPathChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setPath(newValue);\n    },\n    []\n  );\n  const onUsernameChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setUsername(newValue);\n    },\n    []\n  );\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  const onSSHKeyRenderLabel = useMemo(\n    () =>\n      onRenderTextFieldLabel(\n        <>\n          Copy the Public SSH Key above, and paste it within the{' '}\n          <code>~/.ssh/authorized_keys</code> of target user on the backup\n          server specified above. That way you'll enable secure and passwordless\n          authentication from your mail-in-a-box server and your backup server.\n        </>\n      ),\n    []\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: `rsync://${username}@${hostname}/${path}`,\n      targetUser: '',\n      targetPass: '',\n      minAge: Number(days) || 1,\n    });\n  }, [days, hostname, onConfigChange, path, username]);\n\n  return (\n    <>\n      <TextField\n        value={hostname}\n        label=\"Hostname\"\n        required\n        placeholder=\"hostname.local\"\n        onChange={onHostnameChange}\n      />\n      <TextField\n        value={path}\n        label=\"Path\"\n        required\n        placeholder={`/backups/${config.hostname}`}\n        onChange={onPathChange}\n      />\n      <TextField\n        value={username}\n        label=\"Username\"\n        required\n        onChange={onUsernameChange}\n      />\n      <TextField\n        value={backupConfig.sshPubKey}\n        label=\"Public SSH Key\"\n        required\n        readOnly\n        onRenderLabel={onSSHKeyRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n      />\n      <TextField\n        value={days}\n        label=\"Days\"\n        min={1}\n        step={1}\n        type=\"number\"\n        required\n        onRenderLabel={onDaysRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n        onChange={onDaysChange}\n      />\n    </>\n  );\n};\n","import { MessageBarType, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoRsyncProps {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoRsync: React.FunctionComponent<BackupInfoRsyncProps> = ({\n  config,\n}) => {\n  return (\n    <>\n      <Text>\n        Backups synced to a remote machine using rsync over SSH, with local\n        copies in <code>{config.fileTargetDirectory}</code>. These files are\n        encrypted, so they are safe to store anywhere.\n      </Text>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        Separately copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files.\n      </MessageBar>\n    </>\n  );\n};\n","import { Dropdown, IDropdownOption, TextField } from '@fluentui/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../../ui/TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps } from '../types';\n\nconst s3RegionOptions = [\n  { key: 's3-eu-west-1.amazonaws.com', text: 'eu-west-1' },\n  {\n    key: 's3-ap-southeast-1.amazonaws.com',\n    text: 'ap-southeast-1',\n  },\n  {\n    key: 's3-us-gov-west-1.amazonaws.com',\n    text: 'us-gov-west-1',\n  },\n  {\n    key: 's3.ap-south-1.amazonaws.com',\n    text: 'ap-south-1',\n  },\n  {\n    key: 's3.eu-west-2.amazonaws.com',\n    text: 'eu-west-2',\n  },\n  {\n    key: 's3.ca-central-1.amazonaws.com',\n    text: 'ca-central-1',\n  },\n  {\n    key: 's3-ap-southeast-2.amazonaws.com',\n    text: 'ap-southeast-2',\n  },\n  {\n    key: 's3-us-west-1.amazonaws.com',\n    text: 'us-west-1',\n  },\n  {\n    key: 's3-ap-northeast-1.amazonaws.com',\n    text: 'ap-northeast-1',\n  },\n  {\n    key: 's3.ap-northeast-2.amazonaws.com',\n    text: 'ap-northeast-2',\n  },\n  {\n    key: 's3-sa-east-1.amazonaws.com',\n    text: 'sa-east-1',\n  },\n  {\n    key: 's3.amazonaws.com',\n    text: 'us-east-1',\n  },\n  {\n    key: 's3.us-east-2.amazonaws.com',\n    text: 'us-east-2',\n  },\n  {\n    key: 's3-us-west-2.amazonaws.com',\n    text: 'us-west-2',\n  },\n  {\n    key: 's3.eu-central-1.amazonaws.com',\n    text: 'eu-central-1',\n  },\n  {\n    key: 's3.cn-north-1.amazonaws.com.cn',\n    text: 'cn-north-1',\n  },\n  {\n    key: 'other',\n    text: 'Other',\n  },\n];\n\nexport const BackupConfigureS3: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  isCurrentType,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const initialS3HostPath = isCurrentType\n    ? backupConfig.target.substring(5).split('/')\n    : [];\n  const initialS3Host = isCurrentType ? initialS3HostPath.shift() : '';\n  const initialRegion = s3RegionOptions.find(\n    (regionOption) => regionOption.key === initialS3Host\n  );\n\n  const [host, setHost] = useState<string>(\n    (initialRegion?.key === 'other' ? '' : initialRegion?.key) || ''\n  );\n\n  const [region, setRegion] = useState<IDropdownOption | undefined>(\n    initialRegion\n  );\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n  const [path, setPath] = useState<string | undefined>(\n    initialS3HostPath.join('/')\n  );\n  const [accessKey, setAccessKey] = useState<string | undefined>();\n  const [secretAccessKey, setSecretAccessKey] = useState<string | undefined>();\n\n  const onRegionChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      setRegion(option);\n      setHost(((option?.key === 'other' ? '' : option?.key) || '') as string);\n    },\n    []\n  );\n\n  const onPathChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPath(newValue ?? '');\n    },\n    []\n  );\n\n  const onAccessKeyChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setAccessKey(newValue ?? '');\n    },\n    []\n  );\n\n  const onSecretAccessKeyChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setSecretAccessKey(newValue ?? '');\n    },\n    []\n  );\n\n  const onDaysChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setDays(newValue ?? '');\n    },\n    []\n  );\n\n  const onHostChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setHost(newValue ?? '');\n    },\n    []\n  );\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: `s3://${host}/${path}`,\n      targetUser: accessKey || '',\n      targetPass: secretAccessKey || '',\n      minAge: Number(days) || 1,\n    });\n  }, [accessKey, days, host, onConfigChange, path, secretAccessKey]);\n\n  return (\n    <>\n      <Dropdown\n        label=\"S3 Region\"\n        options={s3RegionOptions}\n        selectedKey={region?.key}\n        required\n        onChange={onRegionChange}\n      />\n      <TextField\n        label=\"S3 Host / Endpoint\"\n        required\n        value={host}\n        onChange={onHostChange}\n        placeholder=\"Endpoint\"\n      />\n      <TextField\n        label=\"S3 Path\"\n        required\n        value={path}\n        placeholder=\"your-bucket-name/backup-directory\"\n        onChange={onPathChange}\n      />\n      <TextField\n        label=\"S3 Access Key\"\n        required\n        value={accessKey}\n        onChange={onAccessKeyChange}\n      />\n      <TextField\n        label=\"S3 Secret Access Key\"\n        required\n        value={secretAccessKey}\n        onChange={onSecretAccessKeyChange}\n      />\n      <TextField\n        value={days}\n        label=\"Days\"\n        min={1}\n        step={1}\n        type=\"number\"\n        required\n        onRenderLabel={onDaysRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n        onChange={onDaysChange}\n      />\n    </>\n  );\n};\n","import { MessageBarType, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoS3Props {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoS3: React.FunctionComponent<BackupInfoS3Props> = ({\n  config,\n}) => {\n  return (\n    <>\n      <Text>\n        Backups are stored in an Amazon Web Services S3 bucket. You must have an\n        AWS account already.\n      </Text>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        You MUST manually copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files. It is NOT stored in your Amazon\n        S3 bucket.\n      </MessageBar>\n    </>\n  );\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  Dropdown,\n  IDropdownOption,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n} from '@fluentui/react';\nimport {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n  SystemBackupStatusResponse,\n} from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { config } from '../../../config';\nimport {\n  getStatus,\n  updateConfig,\n  updateConfigReset,\n  updateConfigResetError,\n} from '../../../features/system/backupsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { BackupConfigureLocal } from './local/BackupConfigureLocal';\nimport { BackupInfoLocal } from './local/BackupInfoLocal';\nimport { BackupConfigureRsync } from './rsync/BackupConfigureRsync';\nimport { BackupInfoRsync } from './rsync/BackupInfoRsync';\nimport { BackupConfigureS3 } from './s3/BackupConfigureS3';\nimport { BackupInfoS3 } from './s3/BackupInfoS3';\nimport { BackupType } from './types';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst backupOptions: IDropdownOption[] = [\n  {\n    key: BackupType.off,\n    text: 'Nowhere (Disable Backups)',\n  },\n  {\n    key: BackupType.local,\n    text: config.hostname,\n  },\n  {\n    key: BackupType.rsync,\n    text: 'rsync',\n  },\n  {\n    key: BackupType.s3,\n    text: 'Amazon S3',\n  },\n];\n\nconst daysDescription =\n  'This is the minimum number of days backup data is kept for. The box makes an incremental backup, so backup data is often kept much longer. An incremental backup file that is less than this number of days old requires that all previous increments back to the most recent full backup, plus that full backup, remain available.';\n\nfunction getBackupType(\n  config: SystemBackupConfigResponse\n): BackupType | undefined {\n  if (config.target === 'file://' + config.fileTargetDirectory) {\n    return BackupType.local;\n  } else if (config.target === 'off') {\n    return BackupType.off;\n  } else if (config.target.substring(0, 8) === 'rsync://') {\n    return BackupType.rsync;\n  } else if (config.target.substring(0, 5) === 's3://') {\n    return BackupType.s3;\n  }\n}\n\nexport const BackupConfigure: React.FunctionComponent<\n  IStackProps & SystemBackupStatusResponse\n> = ({ backups, unmatchedFileSize, ...props }) => {\n  const {\n    updateConfigError,\n    updateConfigResponse,\n    isUpdatingConfig,\n    config: backupConfig,\n  } = useSelector((state: RootState) => state.system.backups);\n\n  const dispatch = useDispatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const backupType = getBackupType(backupConfig);\n  const selectedBackupOption = backupOptions.find(\n    (option) => option.key === backupType\n  );\n  const [backupOption, setBackupOption] = useState<IDropdownOption | undefined>(\n    selectedBackupOption\n  );\n  const [updateBackupConfig, setUpdateBackupConfig] = useState<\n    SystemBackupConfigUpdateRequest | undefined\n  >();\n\n  const onDialogDismissed = useCallback((): void => {\n    if (updateConfigResponse === 'OK') {\n      dispatch(getStatus());\n    }\n    dispatch(updateConfigReset());\n  }, [dispatch, updateConfigResponse]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onBackupOptionChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      setBackupOption(option);\n    },\n    []\n  );\n\n  const onBackupConfigChange = useCallback(\n    (config: SystemBackupConfigUpdateRequest): void => {\n      setUpdateBackupConfig(config);\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      if (updateBackupConfig) {\n        dispatch(updateConfig(updateBackupConfig));\n      }\n    },\n    [dispatch, updateBackupConfig]\n  );\n\n  const onMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(updateConfigResetError());\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (updateConfigResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [updateConfigResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(updateConfigReset());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (backupOption?.key === BackupType.off) {\n      setUpdateBackupConfig({\n        target: BackupType.off,\n        targetUser: '',\n        targetPass: '',\n        minAge: backupConfig.minAgeInDays || 1,\n      });\n    }\n  }, [backupConfig.minAgeInDays, backupOption]);\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Backup configuration',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        {updateConfigResponse}\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Dropdown\n          label=\"Backup to\"\n          options={backupOptions}\n          selectedKey={backupOption?.key}\n          required\n          onChange={onBackupOptionChange}\n        />\n        {backupOption?.key === BackupType.local && (\n          <BackupInfoLocal config={backupConfig} />\n        )}\n        {backupOption?.key === BackupType.rsync && (\n          <BackupInfoRsync config={backupConfig} />\n        )}\n        {backupOption?.key === BackupType.s3 && (\n          <BackupInfoS3 config={backupConfig} />\n        )}\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={1}\n        className={columnClassName}\n        verticalAlign={backupOption?.key === BackupType.off ? 'end' : 'start'}\n        as=\"form\"\n        onSubmit={onFormSubmit}\n      >\n        {updateConfigError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            onDismiss={onMessageBarDismiss}\n          >\n            {updateConfigError}\n          </MessageBar>\n        )}\n        {backupOption?.key === BackupType.local && (\n          <BackupConfigureLocal\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.local}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        {backupOption?.key === BackupType.rsync && (\n          <BackupConfigureRsync\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.rsync}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        {backupOption?.key === BackupType.s3 && (\n          <BackupConfigureS3\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.s3}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        <Stack horizontal>\n          <PrimaryButton type=\"submit\" disabled={isUpdatingConfig}>\n            Save\n          </PrimaryButton>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  SelectionMode,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { SystemBackupStatus, SystemBackupStatusResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nfunction niceSize(bytes: number): string {\n  const powers = ['bytes', 'KB', 'MB', 'GB', 'TB'];\n  while (true) {\n    if (powers.length === 1) {\n      break;\n    }\n    if (bytes < 1000) {\n      break;\n    }\n    bytes /= 1024;\n    powers.shift();\n  }\n  // round to have three significant figures but at most one decimal place\n  if (bytes >= 100) {\n    bytes = Math.round(bytes);\n  } else {\n    bytes = Math.round(bytes * 10) / 10;\n  }\n  return bytes + ' ' + powers[0];\n}\n\nfunction getTotalBackupsSize(\n  items: Array<SystemBackupStatus>,\n  unmatchedFileSize: number\n): string {\n  const totalSize =\n    items.reduce((total, item) => total + item.size, 0) + unmatchedFileSize;\n  return niceSize(totalSize);\n}\n\nconst strongCellClassName = mergeStyles({\n  fontWeight: 'bold',\n});\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'When',\n    minWidth: 100,\n    maxWidth: 180,\n    isMultiline: false,\n    isRowHeader: true,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.dateStr}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '',\n    minWidth: 100,\n    isMultiline: false,\n    isRowHeader: true,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.dateDelta} ago\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Type',\n    isMultiline: false,\n    minWidth: 100,\n    fieldName: 'text',\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.full ? 'full' : 'increment'}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Size',\n    isMultiline: false,\n    minWidth: 100,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {niceSize(item.size)}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column5',\n    name: 'Deleted In',\n    isMultiline: false,\n    minWidth: 160,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.deletedIn ?? 'unknown'}\n        </Text>\n      );\n    },\n  },\n];\n\nexport const BackupsList: React.FunctionComponent<\n  IStackProps & SystemBackupStatusResponse\n> = ({ backups = [], unmatchedFileSize, ...props }) => {\n  return (\n    <Stack as=\"section\" {...props}>\n      {!backups.length && (\n        <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n          No backups have been made yet.\n        </MessageBar>\n      )}\n      {backups.length && (\n        <>\n          <MessageBar>\n            The backup location currently contains the backups listed below. The\n            total size of the backups is currently{' '}\n            <strong>{getTotalBackupsSize(backups, unmatchedFileSize)}</strong>.\n          </MessageBar>\n          <DetailsList\n            items={backups}\n            columns={columns}\n            layoutMode={DetailsListLayoutMode.justified}\n            isHeaderVisible\n            onShouldVirtualize={(): boolean => false}\n            selectionMode={SelectionMode.none}\n            constrainMode={ConstrainMode.horizontalConstrained}\n          />\n        </>\n      )}\n    </Stack>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  MessageBarType,\n  PivotItem,\n  PrimaryButton,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport {\n  getConfig,\n  getStatus,\n} from '../../../../../features/system/backupsSlice';\nimport { RootState } from '../../../../../store';\nimport { BackupConfigure } from '../../../../ui/BackupConfigure/BackupConfigure';\nimport { BackupsList } from '../../../../ui/BackupsList/BackupsList';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MessageBar } from '../../../../ui/MessageBar/MessageBar';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst BackupSections: React.FunctionComponent = () => {\n  const { status } = useSelector((state: RootState) => state.system.backups);\n  const { path, url } = useRouteMatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const { backups, unmatchedFileSize, error } = status;\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  useEffect(() => {\n    if (error) {\n      setIsDialogHidden(false);\n    }\n  }, [error]);\n\n  return (\n    <>\n      {/*\n      TODO: when the dialog is shown it creates a whitespace gap due to the stacking and due\n      to the dialog rendering a layer element\n      */}\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Backup error',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n      >\n        {error}\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"Backup Status\" />\n        <PivotItem\n          itemKey={`${url}/config`}\n          headerText=\"Backup Configuration\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          {backups && backups.length > 0 && (\n            <BackupsList\n              backups={backups}\n              unmatchedFileSize={unmatchedFileSize}\n            />\n          )}\n          {!backups && (\n            <MessageBar messageBarType={MessageBarType.warning}>\n              Backups are turned off.\n            </MessageBar>\n          )}\n          {backups && !backups.length && (\n            <MessageBar messageBarType={MessageBarType.warning}>\n              No backups have been made yet.\n            </MessageBar>\n          )}\n        </Route>\n        <Route exact path={`${path}/config`}>\n          <BackupConfigure\n            backups={backups}\n            unmatchedFileSize={unmatchedFileSize}\n          />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const BackupsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const {\n    isGettingStatus,\n    isGettingConfig,\n    getStatusError,\n    getConfigError,\n  } = useSelector((state: RootState) => state.system.backups);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getStatus());\n    dispatch(getConfig());\n  }, [dispatch]);\n\n  const isLoading = isGettingStatus || isGettingConfig;\n  const error = getStatusError || getConfigError;\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Backup Status',\n              key: 'backupstatus',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <Text>\n          The box makes an incremental backup each night. By default the backup\n          is stored on the machine itself, but you can also have it stored on\n          Amazon S3.\n        </Text>\n      </BodyPanel>\n      <BodyPanel>\n        {error && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {error}\n          </MessageBar>\n        )}\n        {isLoading && <ProgressIndicator label=\"Checking backup status...\" />}\n        {!isLoading && !error && <BackupSections />}\n      </BodyPanel>\n    </Body>\n  );\n};\n\nBackupsRoute.path = '/system/backup';\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { SSLStatus, SSLStatusType } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setSSLAction, SSLActionType } from '../../../features/sslSlice';\n\ninterface CertificateActionsListProps {\n  sslStatus: SSLStatus;\n}\n\nexport const CertificateActionsList: React.FunctionComponent<CertificateActionsListProps> = ({\n  sslStatus,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: SSLActionType): void => {\n      dispatch(\n        setSSLAction({\n          sslStatus,\n          type,\n        })\n      );\n    },\n    [dispatch, sslStatus]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'installCertificate' + sslStatus.domain,\n            text: `${\n              sslStatus.status === SSLStatusType.Success ? 'Replace' : 'Install'\n            } Certificate`,\n            onClick: (): void => doAction(SSLActionType.install),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  DetailsRow,\n  getTheme,\n  IColumn,\n  IDetailsRowProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  SelectionMode,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { SSLStatus, SSLStatusType } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { CertificateActionsList } from './CertificateActionsList';\n\nconst theme = getTheme();\n\nfunction getTextColor(status: SSLStatusType): string {\n  switch (status) {\n    case SSLStatusType.Success:\n      return theme.palette.greenDark;\n    case SSLStatusType.Danger:\n      return theme.palette.redDark;\n    case SSLStatusType.NotApplicable:\n    default:\n      return theme.semanticColors.bodyText;\n  }\n}\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Domain',\n    minWidth: 100,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    isResizable: true,\n    fieldName: 'domain',\n    onRender: (item: SSLStatus): React.ReactElement => {\n      return <Link href={`https://${item.domain}`}>{item.domain}</Link>;\n    },\n  },\n  {\n    key: 'column2',\n    name: 'Certificate Status',\n    isMultiline: true,\n    isRowHeader: true,\n    minWidth: 300,\n    fieldName: 'text',\n    onRender: (item: SSLStatus): React.ReactNode => {\n      const textColor = getTextColor(item.status);\n      return <Text styles={{ root: { color: textColor } }}>{item.text}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (sslStatus: SSLStatus): React.ReactNode => {\n      return sslStatus.status === SSLStatusType.NotApplicable ? null : (\n        <CertificateActionsList sslStatus={sslStatus} />\n      );\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\nexport const CertificatesList: React.FunctionComponent<\n  IStackProps & {\n    items: Array<SSLStatus>;\n  }\n> = ({ items, ...props }) => {\n  return (\n    <Stack as=\"section\" {...props}>\n      <MessageBar>\n        Certificates expire after a period of time. All certificates will be\n        automatically renewed through\n        <Link href=\"https://letsencrypt.org/\">Let's Encrypt</Link> 14 days prior\n        to expiration.\n      </MessageBar>\n      <DetailsList\n        items={items}\n        columns={columns}\n        layoutMode={DetailsListLayoutMode.justified}\n        isHeaderVisible\n        selectionMode={SelectionMode.none}\n        constrainMode={ConstrainMode.horizontalConstrained}\n        useReducedRowRenderer\n        onRenderRow={(props?: IDetailsRowProps): JSX.Element | null => {\n          if (props) {\n            return (\n              <DetailsRow\n                {...props}\n                styles={{\n                  root: {\n                    animation: 'none',\n                  },\n                }}\n              />\n            );\n          }\n          return null;\n        }}\n      />\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { config } from '../../../../../config';\nimport {\n  getSSLStatus,\n  resetSSLAction,\n  SSLActionType,\n} from '../../../../../features/sslSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { CertificatesList } from '../../../../ui/CertificatesList/CertificatesList';\nimport { InstallCertificate } from '../../../../ui/InstallCertificate/InstallCertificate';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nenum SectionKeys {\n  status = '',\n  install = '/install',\n}\n\nconst CertificateSections: React.FunctionComponent = () => {\n  const { sslStatus, sslAction } = useSelector((state: RootState) => state.ssl);\n  const { status: items } = sslStatus;\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { path, url } = useRouteMatch();\n\n  useEffect(() => {\n    if (sslAction?.type === SSLActionType.install) {\n      history.push(`${url}${SectionKeys.install}`);\n    }\n  }, [history, sslAction, url]);\n\n  useEffect(() => {\n    if (location.pathname === url) {\n      dispatch(resetSSLAction());\n    }\n  }, [dispatch, location.pathname, url]);\n\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"Certificate Status\" />\n        <PivotItem\n          itemKey={`${url}${SectionKeys.install}`}\n          headerText=\"Install Custom Certificate\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <CertificatesList items={items} />\n        </Route>\n        <Route exact path={`${path}${SectionKeys.install}`}>\n          <InstallCertificate items={items} />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const CertificatesRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingStatus, getStatusError, sslStatus } = useSelector(\n    (state: RootState) => state.ssl\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!sslStatus.status.length) {\n      dispatch(getSSLStatus());\n    }\n  }, [dispatch, sslStatus.status.length]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'TLS (SSL) Certificates',\n              key: 'certificates',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <Text>\n          A TLS (formerly called SSL) certificate is a cryptographic file that\n          proves to anyone connecting to a web address that the connection is\n          secure between you and the owner of that address.\n        </Text>\n        <Text>\n          You need a TLS certificate for this box’s hostname ({config.hostname})\n          (TODO) and every other domain name and subdomain that this box is\n          hosting a website for (see the list below).\n        </Text>\n      </BodyPanel>\n      <BodyPanel>\n        {getStatusError && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {getStatusError}\n          </MessageBar>\n        )}\n        {isGettingStatus && (\n          <ProgressIndicator label=\"Checking certificate status...\" />\n        )}\n        {!isGettingStatus && !getStatusError && <CertificateSections />}\n      </BodyPanel>\n    </Body>\n  );\n};\n\nCertificatesRoute.path = '/system/ssl';\n","import {\n  Callout,\n  IconButton,\n  IOnRenderComboBoxLabelProps,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\nexport const InstallCertificateComboBoxLabel: React.FunctionComponent<\n  IOnRenderComboBoxLabelProps & {\n    defaultRender: (props?: IOnRenderComboBoxLabelProps) => JSX.Element | null;\n    calloutText: string;\n  }\n> = (props?): JSX.Element => {\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const descriptionId: string = useId('description');\n  const iconButtonId: string = useId('iconButton');\n\n  return (\n    <>\n      <Stack horizontal verticalAlign=\"center\">\n        {props?.defaultRender(props)}\n        <IconButton\n          id={iconButtonId}\n          title=\"Info\"\n          ariaLabel=\"Info\"\n          iconProps={{ iconName: 'Info' }}\n          onClick={toggleIsCalloutVisible}\n        />\n      </Stack>\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          setInitialFocus\n          onDismiss={toggleIsCalloutVisible}\n          ariaDescribedBy={descriptionId}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth: 320,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{props.calloutText}</Text>\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  IModalProps,\n  MessageBar,\n  MessageBarType,\n  PrimaryButton,\n  ProgressIndicator,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { SSLCertificateInstallRequest } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  generateCSR,\n  getSSLStatus,\n  installCertificate,\n  installCertificateReset,\n} from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { Pre } from '../Pre/Pre';\n\ninterface SSLCertificateInstallProps {\n  domain: string;\n  countryCode: string;\n}\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'TLS Certificate Installation',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nconst defaultInstallCertificateRequest: SSLCertificateInstallRequest = {\n  domain: '',\n  cert: '',\n  chain: '',\n};\n\nconst installOkRegEx = /^OK($|\\n)/;\n\nexport const InstallCertificateWithCSR: React.FunctionComponent<SSLCertificateInstallProps> = ({\n  domain,\n  countryCode,\n}) => {\n  const {\n    isGeneratingCSR,\n    generateCSRError,\n    generateCSRResponse,\n    isInstallingCertificate,\n    installCertificateError,\n    installCertificateResponse,\n  } = useSelector((state: RootState) => state.ssl);\n  const dispatch = useDispatch();\n\n  const [installCertificateRequest, setInstallCertificateRequest] = useState<\n    SSLCertificateInstallRequest\n  >({\n    ...defaultInstallCertificateRequest,\n    domain,\n  });\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onDialogDismissed = useCallback((): void => {\n    const installCertificateSuccess = installOkRegEx.test(\n      installCertificateResponse || ''\n    );\n    if (installCertificateSuccess) {\n      setInstallCertificateRequest({\n        ...defaultInstallCertificateRequest,\n        domain,\n      });\n      dispatch(getSSLStatus());\n    }\n    dispatch(installCertificateReset());\n    setHasDialogOpened(false);\n  }, [dispatch, domain, installCertificateResponse]);\n\n  const onCertChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setInstallCertificateRequest({\n        ...installCertificateRequest,\n        cert: newValue ?? '',\n      });\n    },\n    [installCertificateRequest]\n  );\n\n  const onChainChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setInstallCertificateRequest({\n        ...installCertificateRequest,\n        chain: newValue ?? '',\n      });\n    },\n    [installCertificateRequest]\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(installCertificate(installCertificateRequest));\n    },\n    [dispatch, installCertificateRequest]\n  );\n\n  useEffect(() => {\n    if (installCertificateResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [installCertificateResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    dispatch(generateCSR(domain, countryCode));\n  }, [countryCode, domain, dispatch]);\n\n  const error = generateCSRError || installCertificateError;\n\n  const dialogContent = installOkRegEx.test(installCertificateResponse || '')\n    ? 'Certificate has been installed. Check that you have no connection problems to the domain.'\n    : installCertificateResponse;\n\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Text>{dialogContent}</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      {error && (\n        <MessageBar messageBarType={MessageBarType.error} isMultiline>\n          {error}\n        </MessageBar>\n      )}\n      {isGeneratingCSR && <ProgressIndicator label=\"Generating CSR...\" />}\n      {!isGeneratingCSR && generateCSRResponse && (\n        <Stack gap=\"m\" as=\"form\" onSubmit={onFormSubmit}>\n          <Text>\n            You will need to provide the certificate provider this Certificate\n            Signing Request (CSR):\n          </Text>\n          <MessageBar messageBarType={MessageBarType.info} isMultiline>\n            The CSR is safe to share. It can only be used in combination with a\n            secret key stored on this machine.\n          </MessageBar>\n          <Pre>{generateCSRResponse}</Pre>\n          <Text>\n            The certificate provider will then provide you with a TLS/SSL\n            certificate. They may also provide you with an intermediate chain.\n            Paste each separately into the boxes below:\n          </Text>\n          <TextField\n            label=\"TLS/SSL certificate:\"\n            multiline\n            rows={6}\n            placeholder=\"-----BEGIN CERTIFICATE-----&#xA;stuff here&#xA;-----END CERTIFICATE-----\"\n            value={installCertificateRequest.cert}\n            onChange={onCertChange}\n            required\n          />\n          <TextField\n            label=\"TLS/SSL intermediate chain (if provided):\"\n            multiline\n            rows={6}\n            placeholder=\"-----BEGIN CERTIFICATE-----&#xA;stuff here&#xA;-----END CERTIFICATE-----&#xA;-----BEGIN CERTIFICATE-----&#xA;more stuff here&#xA;-----END CERTIFICATE-----\"\n            value={installCertificateRequest.chain}\n            onChange={onChainChange}\n          />\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isInstallingCertificate}>\n              Install Certificate\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      )}\n    </Stack>\n  );\n};\n","import {\n  ComboBox,\n  IComboBox,\n  IComboBoxOption,\n  IOnRenderComboBoxLabelProps,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  Stack,\n  VirtualizedComboBox,\n} from '@fluentui/react';\nimport { getCodeList } from 'country-list';\nimport { SSLStatus } from 'mailinabox-api';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { generateCSRReset } from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { InstallCertificateComboBoxLabel } from './InstallCertificateComboBoxLabel';\nimport { InstallCertificateWithCSR } from './InstallCertificateWithCSR';\n\nconst countries = getCodeList();\n\nconst countriesList = Object.keys(countries)\n  .map((countryCode) => ({\n    key: countryCode.toUpperCase(),\n    text: countries[countryCode],\n  }))\n  .sort((a, b) => a.text.localeCompare(b.text));\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst comboBoxStyles = {\n  label: {\n    selectors: {\n      ':after': {\n        paddingRight: 0,\n      },\n    },\n  },\n};\n\nconst onRenderComboBoxLabel = (calloutText: string) => (\n  props?: IOnRenderComboBoxLabelProps,\n  defaultRender?: (props?: IOnRenderComboBoxLabelProps) => JSX.Element | null\n): React.ReactElement | null =>\n  props && defaultRender ? (\n    <InstallCertificateComboBoxLabel\n      {...props}\n      calloutText={calloutText}\n      defaultRender={defaultRender}\n    />\n  ) : null;\n\nexport const InstallCertificate: React.FunctionComponent<\n  IStackProps & {\n    items: Array<SSLStatus>;\n  }\n> = ({ items, ...props }) => {\n  const { sslAction } = useSelector((state: RootState) => state.ssl);\n  const dispatch = useDispatch();\n  const [selectedDomain, setSelectedDomain] = useState<IComboBoxOption>({\n    key: sslAction?.sslStatus?.domain || '',\n    text: sslAction?.sslStatus?.domain || '',\n  });\n  const [selectedCountry, setSelectedCountry] = useState<IComboBoxOption>();\n\n  const onDomainChange = useCallback(\n    (_event: React.FormEvent<IComboBox>, option?: IComboBoxOption): void => {\n      if (option) {\n        dispatch(generateCSRReset());\n        setSelectedDomain(option);\n      }\n    },\n    [dispatch]\n  );\n  const onCountryChange = useCallback(\n    (_event: React.FormEvent<IComboBox>, option?: IComboBoxOption): void => {\n      dispatch(generateCSRReset());\n      setSelectedCountry(option);\n    },\n    [dispatch]\n  );\n  const onDomainRenderLabel = useMemo(\n    () =>\n      onRenderComboBoxLabel(\n        'A multi-domain or wildcard certificate will be automatically applied to any domains it is valid for besides the one you choose above.'\n      ),\n    []\n  );\n  const onCountryRenderLabel = useMemo(\n    () =>\n      onRenderComboBoxLabel(\n        \"This is required by some TLS certificate providers. You may leave this blank if you know your TLS certificate provider doesn't require it.\"\n      ),\n    []\n  );\n\n  return (\n    <Stack as=\"section\" gap=\"m\" {...props}>\n      <MessageBar messageBarType={MessageBarType.info} isMultiline>\n        If you don't want to use our automatic Let's Encrypt integration, you\n        can give any other certificate provider a try. You can generate the\n        needed CSR below.\n      </MessageBar>\n      <Stack horizontal gap=\"l2\">\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <ComboBox\n            placeholder=\"Select a domain\"\n            label=\"Which domain are you getting a certificate for?\"\n            options={items.map(({ domain }) => ({\n              key: domain,\n              text: domain,\n            }))}\n            required\n            allowFreeform\n            autoComplete=\"on\"\n            selectedKey={selectedDomain?.key}\n            onRenderLabel={onDomainRenderLabel}\n            onChange={onDomainChange}\n            styles={comboBoxStyles}\n          />\n          {selectedDomain?.key && (\n            <VirtualizedComboBox\n              placeholder=\"Select a country\"\n              label=\"What country are you in?\"\n              options={countriesList}\n              onRenderLabel={onCountryRenderLabel}\n              allowFreeform\n              autoComplete=\"on\"\n              selectedKey={selectedCountry?.key}\n              onChange={onCountryChange}\n              styles={comboBoxStyles}\n              dropdownMaxWidth={300}\n              useComboBoxAsMenuWidth\n            />\n          )}\n        </Stack>\n        <Stack gap=\"m\" grow={2} className={columnClassName}>\n          {selectedDomain && selectedCountry && (\n            <InstallCertificateWithCSR\n              domain={selectedDomain.key as string}\n              countryCode={selectedCountry.key as string}\n            />\n          )}\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import { DNSRecordType } from 'mailinabox-api';\n\ntype RecordTypes = {\n  [key in DNSRecordType]: {\n    hint: string;\n    text: string;\n  };\n};\n\nexport const recordTypes: RecordTypes = {\n  [DNSRecordType.A]: {\n    hint:\n      \"Enter an IPv4 address (i.e. a dotted quad, such as 123.456.789.012).  The 'local' alias sets the record to this box's public IPv4 address.\",\n    text: 'A (IPv4 address)',\n  },\n  [DNSRecordType.AAAA]: {\n    hint:\n      \"Enter an IPv6 address.  The 'local' alias sets the record to this box's public IPv6 address.\",\n    text: 'AAAA (IPv6 address)',\n  },\n  [DNSRecordType.CAA]: {\n    hint:\n      'Enter a CA that can issue certificates for this domain in the form of FLAG TAG VALUE. (0 issuewild &quot;letsencrypt.org&quot;)',\n    text: 'CAA (Certificate Authority Authorization)',\n  },\n  [DNSRecordType.CNAME]: {\n    hint:\n      'Enter another domain name followed by a period at the end (e.g. mypage.github.io.).',\n    text: 'CNAME (DNS forwarding)',\n  },\n  [DNSRecordType.TXT]: {\n    hint: 'Enter arbitrary text.',\n    text: 'TXT (text record)',\n  },\n  [DNSRecordType.MX]: {\n    hint:\n      'Enter record in the form of PRIORITY DOMAIN., including trailing period (e.g. 20 mx.example.com.).',\n    text: 'MX (mail exchanger)',\n  },\n  [DNSRecordType.SRV]: {\n    hint:\n      'Enter record in the form of PRIORITY WEIGHT PORT TARGET., including trailing period (e.g. 10 10 5060 sip.example.com.).',\n    text: 'SRV (service record)',\n  },\n  [DNSRecordType.SSHFP]: {\n    hint: 'Enter record in the form of ALGORITHM TYPE FINGERPRINT.',\n    text: 'SSHFP (SSH fingerprint record)',\n  },\n  [DNSRecordType.NS]: {\n    hint: 'Enter a hostname to which this subdomain should be delegated to.',\n    text: 'NS (DNS subdomain delegation)',\n  },\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  Dropdown,\n  IDropdownOption,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { DNSRecordType } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addCustomRecord,\n  addCustomRecordReset,\n  addCustomRecordResetError,\n  getCustomRecords,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\nimport { recordTypes } from './recordTypes';\n\nconst recordTypeOptions = Object.keys(recordTypes).map((key) => ({\n  key,\n  text: recordTypes[key as DNSRecordType].text,\n}));\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const CustomDnsAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const {\n    isAddingCustomRecord,\n    addCustomRecordResponse,\n    addCustomRecordError,\n    zones,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const zoneOptions = zones.map((zone) => ({\n    key: zone,\n    text: zone,\n  }));\n  const [type, setType] = useState<IDropdownOption>(recordTypeOptions[0]);\n  const [zone, setZone] = useState<IDropdownOption>(zoneOptions[0]);\n  const [name, setName] = useState<string>('');\n  const [value, setValue] = useState<string>('');\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = useCallback((): void => {\n    if (addCustomRecordResponse) {\n      dispatch(getCustomRecords());\n    }\n    dispatch(addCustomRecordReset());\n    setHasDialogOpened(false);\n    setType(recordTypeOptions[0]);\n    setZone(zoneOptions[0]);\n    setName('');\n    setValue('');\n  }, [addCustomRecordResponse, dispatch, zoneOptions]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onTypeChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      if (option) {\n        setType(option);\n      }\n    },\n    []\n  );\n\n  const onZoneChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      if (option) {\n        setZone(option);\n      }\n    },\n    []\n  );\n\n  const onNameChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setName(newValue || '');\n    },\n    []\n  );\n\n  const onValueChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setValue(newValue || '');\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      const domain = name\n        ? `${name}.${zone.key as string}`\n        : (zone.key as string);\n      dispatch(\n        addCustomRecord({\n          domain,\n          type: type.key as DNSRecordType,\n          body: value,\n        })\n      );\n    },\n    [dispatch, name, type.key, value, zone.key]\n  );\n\n  const onMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addCustomRecordResetError());\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (addCustomRecordResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addCustomRecordResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addCustomRecordReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <>\n      {/* TODO: dialog creates a gap when shown*/}\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Custom DNS',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addCustomRecordResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            You can set additional DNS records, such as if you have a website\n            running on another server, to add DKIM records for external mail\n            providers, or for various confirmation-of-ownership tests.\n          </Text>\n        </Stack>\n        <Stack\n          gap=\"m\"\n          grow={1}\n          className={columnClassName}\n          as=\"form\"\n          onSubmit={onFormSubmit}\n        >\n          {addCustomRecordError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              isMultiline={false}\n              onDismiss={onMessageBarDismiss}\n              dismissButtonAriaLabel=\"Close\"\n            >\n              {addCustomRecordError}\n            </MessageBar>\n          )}\n          <Dropdown\n            label=\"Domain\"\n            required\n            options={zoneOptions}\n            selectedKey={zone.key}\n            onChange={onZoneChange}\n          />\n          <TextField\n            label=\"Name\"\n            placeholder=\"subdomain\"\n            value={name}\n            onChange={onNameChange}\n          />\n          <Dropdown\n            label=\"Type\"\n            required\n            options={recordTypeOptions}\n            selectedKey={type.key}\n            onChange={onTypeChange}\n          />\n          <TextField\n            label=\"Value\"\n            required\n            value={value}\n            onChange={onValueChange}\n          />\n          <MessageBar>{recordTypes[type.key as DNSRecordType].hint}</MessageBar>\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isAddingCustomRecord}>\n              Save Record\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      </Stack>\n    </>\n  );\n};\n","import { DialogType, Text } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  DNSActionType,\n  getCustomRecords,\n  removeCustomRecord,\n  removeCustomRecordReset,\n  resetDNSAction,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\nimport { Pre } from '../Pre/Pre';\n\nexport const CustomDnsRecordActions: React.FunctionComponent = () => {\n  const {\n    isRemovingCustomRecord,\n    dnsAction,\n    removeCustomRecordError,\n    removeCustomRecordResponse,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useCallback((): void => {\n    dispatch(resetDNSAction());\n  }, [dispatch]);\n\n  const onActionDialogDismissed = useCallback((): void => {\n    if (removeCustomRecordResponse) {\n      dispatch(getCustomRecords());\n    }\n    dispatch(removeCustomRecordReset());\n  }, [dispatch, removeCustomRecordResponse]);\n\n  const onRemoveAliasConfirm = useCallback((): void => {\n    if (dnsAction?.dnsRecord) {\n      const { qname: domain, rtype: type, value: body } = dnsAction.dnsRecord;\n      dispatch(\n        removeCustomRecord({\n          domain,\n          type,\n          body,\n        })\n      );\n    }\n  }, [dispatch, dnsAction]);\n\n  return (\n    <ActionConfirmDialog\n      hidden={dnsAction?.type !== DNSActionType.remove}\n      isLoading={isRemovingCustomRecord}\n      onDismiss={onActionDialogDismiss}\n      onDismissed={onActionDialogDismissed}\n      onConfirm={onRemoveAliasConfirm}\n      error={removeCustomRecordError}\n      actionResponse={removeCustomRecordResponse}\n      confirmButtonText=\"Remove Record\"\n      dialogContentProps={{\n        type: DialogType.largeHeader,\n        title: 'Remove DNS Record',\n      }}\n      modalProps={{\n        isBlocking: true,\n      }}\n      minWidth={480}\n    >\n      <Text>Are you sure you want to remove the custom record:</Text>\n      <Pre>\n        {dnsAction?.dnsRecord?.qname}&nbsp;({dnsAction?.dnsRecord?.rtype})\n      </Pre>\n    </ActionConfirmDialog>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { DNSCustomRecord } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { DNSActionType, setDNSAction } from '../../../features/dnsSlice';\n\ninterface CustomDnsRecordsActionsListProps {\n  dnsRecord: DNSCustomRecord;\n}\n\nexport const CustomDnsRecordsActionsList: React.FunctionComponent<CustomDnsRecordsActionsListProps> = ({\n  dnsRecord,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: DNSActionType): void => {\n      dispatch(\n        setDNSAction({\n          dnsRecord,\n          type,\n        })\n      );\n    },\n    [dispatch, dnsRecord]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'removeDnsRecord' + dnsRecord.qname + dnsRecord.rtype,\n            text: 'Remove',\n            onClick: (): void => doAction(DNSActionType.remove),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { DNSCustomRecord } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectCustomRecordsWithGroups } from '../../../features/dnsSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { CustomDnsRecordActions } from './CustomDnsRecordActions';\nimport { CustomDnsRecordsActionsList } from './CustomDnsRecordsActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Domain Name',\n    minWidth: 140,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    fieldName: 'qname',\n  },\n  {\n    key: 'column2',\n    name: 'Record Type',\n    minWidth: 100,\n    maxWidth: 120,\n    isMultiline: false,\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.rtype}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Value',\n    minWidth: 180,\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (dnsRecord: DNSCustomRecord): React.ReactNode => {\n      return <CustomDnsRecordsActionsList dnsRecord={dnsRecord} />;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface CustomDnsRecordsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const CustomDnsRecordsList: React.FunctionComponent<\n  IStackProps & CustomDnsRecordsListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [records, groups] = useSelector(selectCustomRecordsWithGroups);\n\n  return (\n    <Stack as=\"section\" {...props}>\n      <CustomDnsRecordActions />\n      <GroupedDetailsList\n        items={records}\n        columns={columns}\n        groups={groups}\n        openedGroupsState={openedGroupsState}\n      />\n    </Stack>\n  );\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addSecondaryNameserver,\n  addSecondaryNameserverReset,\n  addSecondaryNameserverResetError,\n  getSecondaryNameserver,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const CustomDnsSecondaryNameserver: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const {\n    isAddingSecondaryNameserver,\n    addSecondaryNameserverError,\n    addSecondaryNameserverResponse,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n\n  const [hostname, setHostname] = useState<string>('');\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = useCallback((): void => {\n    if (addSecondaryNameserverResponse) {\n      dispatch(getSecondaryNameserver());\n    }\n    dispatch(addSecondaryNameserverReset());\n  }, [addSecondaryNameserverResponse, dispatch]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onErrorMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addSecondaryNameserverResetError());\n    },\n    [dispatch]\n  );\n\n  const onHostnameChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setHostname(newValue || '');\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(\n        addSecondaryNameserver({\n          hostnames: hostname,\n        })\n      );\n    },\n    [dispatch, hostname]\n  );\n\n  useEffect(() => {\n    if (addSecondaryNameserverResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addSecondaryNameserverResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addSecondaryNameserverReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Custom DNS',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addSecondaryNameserverResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Text>\n          If your TLD requires you to have two separate nameservers, you can\n          either set up external DNS and ignore the DNS server on this box\n          entirely, or use the DNS server on this box but add a secondary (aka\n          “slave”) nameserver.\n        </Text>\n        <Text>\n          If you choose to use a secondary nameserver, you must find a secondary\n          nameserver service provider. Your domain name registrar or virtual\n          cloud provider may provide this service for you. Once you set up the\n          secondary nameserver service, enter the hostname (not the IP address)\n          of their secondary nameserver in field.\n        </Text>\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={1}\n        className={columnClassName}\n        as=\"form\"\n        onSubmit={onFormSubmit}\n      >\n        {addSecondaryNameserverError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            isMultiline={false}\n            onDismiss={onErrorMessageBarDismiss}\n            dismissButtonAriaLabel=\"Close\"\n          >\n            {addSecondaryNameserverError}\n          </MessageBar>\n        )}\n        <MessageBar>\n          Multiple secondary servers can be separated with commas or spaces\n          (i.e., ns2.hostingcompany.com ns3.hostingcompany.com).\n        </MessageBar>\n        <MessageBar>\n          To enable zone transfers to additional servers without listing them as\n          secondary nameservers, add an IP address or subnet using\n          xfr:10.20.30.40 or xfr:10.20.30.40/24.\n        </MessageBar>\n        <TextField\n          label=\"Hostname\"\n          required\n          placeholder=\"ns1.cloudprovider.com\"\n          value={hostname}\n          onChange={onHostnameChange}\n        />\n        <Stack horizontal>\n          <PrimaryButton type=\"submit\" disabled={isAddingSecondaryNameserver}>\n            Update\n          </PrimaryButton>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport {\n  getCustomRecords,\n  getSecondaryNameserver,\n  getZones,\n} from '../../../../../features/dnsSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { CustomDnsAdd } from '../../../../ui/CustomDnsAdd/CustomDnsAdd';\nimport { CustomDnsRecordsList } from '../../../../ui/CustomDnsRecordsList/CustomDnsRecordsList';\nimport { CustomDnsSecondaryNameserver } from '../../../../ui/CustomDnsSecondaryNameserver/CustomDnsSecondaryNameserver';\nimport { LoadingOverlay } from '../../../../ui/LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../../../../ui/LoadingOverlay/LoadingOverlayContainer';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst CustomDnsSections: React.FunctionComponent = () => {\n  const {\n    isGettingSecondaryNameserver,\n    isGettingZones,\n    isGettingCustomRecords,\n    getSecondaryNameserverError,\n    getZonesError,\n    getCustomRecordsError,\n    zones,\n    customRecords,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n\n  useEffect(() => {\n    if (!zones.length) {\n      dispatch(getZones());\n    }\n  }, [dispatch, zones]);\n\n  useEffect(() => {\n    if (!customRecords.length) {\n      dispatch(getCustomRecords());\n    }\n  }, [customRecords, dispatch]);\n\n  useEffect(() => {\n    dispatch(getSecondaryNameserver());\n  }, [dispatch]);\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"DNS Records\" />\n        <PivotItem itemKey={`${url}/add`} headerText=\"Add Custom Record\" />\n        <PivotItem\n          itemKey={`${url}/nameserver`}\n          headerText=\"Secondary Nameserver\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {isGettingCustomRecords && (\n              <LoadingOverlay\n                loadingLabel=\"Checking DNS status...\"\n                hasLoaded={Boolean(customRecords.length)}\n              />\n            )}\n            {Boolean(getCustomRecordsError) && (\n              <MessageBar messageBarType={MessageBarType.error}>\n                {getCustomRecordsError}\n              </MessageBar>\n            )}\n            {!getCustomRecordsError && Boolean(customRecords.length) && (\n              <CustomDnsRecordsList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          {isGettingZones && <ProgressIndicator label=\"Checking Zones...\" />}\n          {Boolean(getZonesError) && (\n            <MessageBar messageBarType={MessageBarType.error}>\n              {getZonesError}\n            </MessageBar>\n          )}\n          {!getZonesError && Boolean(zones.length) && <CustomDnsAdd />}\n        </Route>\n        <Route exact path={`${path}/nameserver`}>\n          {isGettingSecondaryNameserver && (\n            <ProgressIndicator label=\"Checking Secondary Nameserver...\" />\n          )}\n          {Boolean(getSecondaryNameserverError) && (\n            <MessageBar messageBarType={MessageBarType.error}>\n              {getSecondaryNameserverError}\n            </MessageBar>\n          )}\n          {!getSecondaryNameserverError && !isGettingSecondaryNameserver && (\n            <CustomDnsSecondaryNameserver />\n          )}\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const CustomDnsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Custom DNS',\n              key: 'customdns',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        This is an advanced configuration page.\n      </MessageBar>\n      <BodyPanel>\n        <Text>\n          It is possible to set custom DNS records on domains hosted here.\n        </Text>\n      </BodyPanel>\n      <BodyPanel>\n        <CustomDnsSections />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nCustomDnsRoute.path = '/dns/custom';\n","import {\n  Callout,\n  DefaultButton,\n  IButtonStyles,\n  IconButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\ninterface Props {\n  maxWidth?: number;\n  iconButtonClassName?: string;\n  iconButtonStyles: IButtonStyles;\n  text: string;\n  showCloseButton?: boolean;\n}\n\nexport const InfoButton: React.FunctionComponent<Props> = ({\n  text,\n  maxWidth = 320,\n  showCloseButton = true,\n  iconButtonClassName,\n  iconButtonStyles,\n}) => {\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const iconButtonId: string = useId('iconButton');\n  return (\n    <>\n      <IconButton\n        id={iconButtonId}\n        title=\"Info\"\n        text=\"Info\"\n        ariaLabel=\"Info\"\n        iconProps={{\n          iconName: 'Info',\n        }}\n        onClick={toggleIsCalloutVisible}\n        className={iconButtonClassName}\n        styles={iconButtonStyles}\n      />\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          setInitialFocus\n          onDismiss={toggleIsCalloutVisible}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{text}</Text>\n            {showCloseButton && (\n              <DefaultButton onClick={toggleIsCalloutVisible}>\n                Close\n              </DefaultButton>\n            )}\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n","import {\n  FontSizes,\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { DNSCustomRecord, DNSDumpDomainRecord } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectDumpWithGroups } from '../../../features/dnsSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { InfoButton } from '../InfoButton/InfoButton';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Qname',\n    minWidth: 140,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    isPadded: false,\n    fieldName: 'qname',\n  },\n  {\n    key: 'column2',\n    name: 'Record Type',\n    minWidth: 80,\n    maxWidth: 100,\n    isPadded: false,\n    isMultiline: false,\n    fieldName: 'rtype',\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.rtype}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Value',\n    isMultiline: true,\n    minWidth: 180,\n    isPadded: true,\n    fieldName: 'value',\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Info',\n    isMultiline: false,\n    minWidth: 40,\n    isIconOnly: true,\n    isPadded: false,\n    onRender: (item: DNSDumpDomainRecord): React.ReactNode => {\n      return (\n        <InfoButton\n          text={item.explanation}\n          showCloseButton={false}\n          iconButtonStyles={{\n            root: {\n              height: 'auto',\n            },\n            icon: {\n              fontSize: FontSizes.xLarge,\n            },\n          }}\n        />\n      );\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface DnsDumpListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const DnsDumpList: React.FunctionComponent<\n  IStackProps & DnsDumpListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [records, groups] = useSelector(selectDumpWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <GroupedDetailsList\n        items={records}\n        groups={groups}\n        columns={columns}\n        openedGroupsState={openedGroupsState}\n      />\n    </Stack>\n  );\n};\n","import {\n  Checkbox,\n  CommandBar,\n  Dropdown,\n  IStackProps,\n  Label,\n  mergeStyles,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React from 'react';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst text = `$ORIGIN example.com.\n$TTL 1800\n\n@ IN SOA ns1.box.example.com. hostmaster.box.example.com. (\n           2020062800\n           7200\n           1800\n           1209600\n           1800\n           )\n\tIN\tNS\tns1.box.example.com.\n\tIN\tNS\tns2.box.example.com.\n\tIN\tA\t111.222.333.444\n\tIN\tAAAA\t1111:4f8:1c1c:e08a::2\n\tIN\tMX\t10 box.example.com.\n\tIN\tTXT\t\"v=spf1 mx -all\"\n_dmarc\tIN\tTXT\t\"v=DMARC1; p=quarantine\"\nmail._domainkey\tIN\tTXT\t\"v=DKIM1; k=rsa; s=email; p=1234+56789\"\n_caldavs._tcp\tIN\tSRV\t0 0 443 box.example.com.\n_carddavs._tcp\tIN\tSRV\t0 0 443 box.example.com.\nautoconfig\tIN\tA\t111.222.333.444\nautoconfig\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautodiscover\tIN\tA\t111.222.333.444\nautodiscover\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nbox\tIN\tA\t111.222.333.444\nbox\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nbox\tIN\tSSHFP\t3 2 ( 123456789 )\nbox\tIN\tSSHFP\t4 2 ( 123456789 )\nbox\tIN\tSSHFP\t1 2 ( 123456789 )\nbox\tIN\tMX\t10 box.example.com.\nbox\tIN\tTXT\t\"v=spf1 mx -all\"\n_dmarc.box\tIN\tTXT\t\"v=DMARC1; p=quarantine\"\nmail._domainkey.box\tIN\tTXT\t\"v=DKIM1; k=rsa; s=email; p=1234+56789\"\n_25._tcp.box\tIN\tTLSA\t3 1 1 123456789\n_443._tcp.box\tIN\tTLSA\t3 1 1 123456789\nautoconfig.box\tIN\tA\t111.222.333.444\nautoconfig.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautoconfig.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.autoconfig.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nautodiscover.box\tIN\tA\t111.222.333.444\nautodiscover.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautodiscover.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.autodiscover.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nns1.box\tIN\tA\t111.222.333.444\nns1.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nns1.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.ns1.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nns2.box\tIN\tA\t111.222.333.444\nns2.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nns2.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.ns2.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nwww\tIN\tA\t111.222.333.444\nwww\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nwww\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.www\tIN\tTXT\t\"v=DMARC1; p=reject\"`;\n\nexport const DnsZoneFileGenerator: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Text>Use this tool to generate zone files.</Text>\n        <Dropdown\n          label=\"Domain\"\n          required\n          placeholder=\"Select a domain\"\n          options={[\n            {\n              key: 'foo',\n              text: 'box.proxima-mail',\n            },\n          ]}\n        />\n        <TextField label=\"SOA Records\" required multiline rows={5} />\n        <TextField label=\"Nameservers\" required />\n        <Stack gap=\"s2\">\n          <Label>Generation Options</Label>\n          <Checkbox label=\"Split long TXT entries\" checked={false} />\n        </Stack>\n        <Stack horizontal>\n          <PrimaryButton>Generate</PrimaryButton>\n        </Stack>\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={2}\n        className={columnClassName}\n        style={{ minWidth: 0 }}\n      >\n        <CommandBar\n          styles={{\n            root: {\n              paddingLeft: 0,\n            },\n          }}\n          items={[\n            {\n              key: 'copy',\n              text: 'Copy',\n              iconProps: { iconName: 'Copy' },\n            },\n            {\n              key: 'download',\n              text: 'Download',\n              iconProps: { iconName: 'Download' },\n            },\n          ]}\n          ariaLabel=\"Use left and right arrow keys to navigate between commands\"\n        />\n        <Pre>{text}</Pre>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  Link,\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getDump } from '../../../../../features/dnsSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { DnsDumpList } from '../../../../ui/DnsDumpList/DnsDumpList';\nimport { DnsZoneFileGenerator } from '../../../../ui/DnsZoneFileGenerator/DnsZoneFileGenerator';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst ExternalDnsSections: React.FunctionComponent = () => {\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"DNS Records\" />\n        <PivotItem\n          itemKey={`${url}/zone-file`}\n          headerText=\"Zone File Generator\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <DnsDumpList openedGroupsState={openedGroupsState} />\n        </Route>\n        <Route exact path={`${path}/zone-file`}>\n          <DnsZoneFileGenerator />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const ExternalDnsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingDump, getDumpError, dump } = useSelector(\n    (state: RootState) => state.dns\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!dump.length) {\n      dispatch(getDump());\n    }\n  }, [dispatch, dump.length]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'External DNS',\n              key: 'externaldns',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        This is an advanced configuration page.\n      </MessageBar>\n      <BodyPanel>\n        <Text>\n          Although your box is configured to serve its own DNS, it is possible\n          to host your DNS elsewhere — such as in the DNS control panel provided\n          by your domain name registrar or virtual cloud provider — by copying\n          the DNS zone information shown in the table below into your external\n          DNS server’s control panel.\n        </Text>\n        <Text>\n          If you do so, you are responsible for keeping your DNS entries up to\n          date! If you previously enabled DNSSEC on your domain name by setting\n          a DS record at your registrar, you will likely have to turn it off\n          before changing nameservers.\n        </Text>\n        <MessageBar messageBarType={MessageBarType.info} isMultiline>\n          You may encounter zone file errors when attempting to create a TXT\n          record with a long string.\n          <Link href=\"http://tools.ietf.org/html/rfc4408#section-3.1.3\">\n            RFC 4408\n          </Link>{' '}\n          states a TXT record is allowed to contain multiple strings, and this\n          technique can be used to construct records that would exceed the\n          255-byte maximum length. You may need to adopt this technique when\n          adding DomainKeys. Use a tool like\n          <Link href=\"http://manpages.ubuntu.com/manpages/bionic/man8/named-checkzone.8.html\">\n            <code>named-checkzone</code>\n          </Link>{' '}\n          to validate your zone file.\n        </MessageBar>\n      </BodyPanel>\n      <BodyPanel>\n        {getDumpError && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {getDumpError}\n          </MessageBar>\n        )}\n        {isGettingDump && <ProgressIndicator label=\"Getting DNS dump...\" />}\n        {!isGettingDump && !getDumpError && <ExternalDnsSections />}\n      </BodyPanel>\n    </Body>\n  );\n};\n\nExternalDnsRoute.path = '/dns/external';\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport { SystemPrivacyStatus } from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemPrivacyState {\n  isGettingPrivacy: boolean;\n  isUpdatingPrivacy: boolean;\n  status: boolean;\n  getPrivacyError: string | null;\n  updatePrivacyError: string | null;\n}\n\nconst initialState: SystemPrivacyState = {\n  isGettingPrivacy: false,\n  isUpdatingPrivacy: false,\n  status: false,\n  getPrivacyError: null,\n  updatePrivacyError: null,\n};\n\nconst systemPrivacy = createSlice({\n  name: 'privacy',\n  initialState,\n  reducers: {\n    getPrivacyStart: (state): void => {\n      state.getPrivacyError = null;\n      state.isGettingPrivacy = true;\n    },\n    getPrivacySuccess: (state, action): void => {\n      state.isGettingPrivacy = false;\n      state.status = action.payload;\n    },\n    getPrivacyError: (state, action): void => {\n      state.isGettingPrivacy = false;\n      state.getPrivacyError = action.payload;\n    },\n    updatePrivacyStart: (state): void => {\n      state.getPrivacyError = null;\n      state.isUpdatingPrivacy = true;\n    },\n    updatePrivacySuccess: (state, action): void => {\n      state.isUpdatingPrivacy = false;\n      const { result, privacy } = action.payload;\n      if (result === 'OK') {\n        state.status = privacy;\n      }\n    },\n    updatePrivacyError: (state, action): void => {\n      state.isUpdatingPrivacy = false;\n      state.updatePrivacyError = action.payload;\n    },\n  },\n});\n\nexport const {\n  getPrivacySuccess,\n  getPrivacyStart,\n  getPrivacyError,\n  updatePrivacyStart,\n  updatePrivacySuccess,\n  updatePrivacyError,\n} = systemPrivacy.actions;\n\nexport const { reducer: systemPrivacyReducer } = systemPrivacy;\n\nexport const systemPrivacyCheck = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  Action<string>\n> => async (dispatch): Promise<void> => {\n  dispatch(getPrivacyStart());\n  try {\n    const result = await systemApi.getSystemPrivacyStatus();\n    dispatch(getPrivacySuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getPrivacyError);\n  }\n};\n\nexport const updatePrivacy = (privacy: boolean): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updatePrivacyStart());\n  try {\n    const result = await systemApi.updateSystemPrivacy({\n      value: privacy ? SystemPrivacyStatus.Private : SystemPrivacyStatus.Off,\n    });\n    dispatch(\n      updatePrivacySuccess({\n        result,\n        privacy,\n      })\n    );\n  } catch (err) {\n    await handleRequestError(err, dispatch, updatePrivacyError);\n  }\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk } from '../../store';\n\nexport interface SystemRebootState {\n  isGettingRebootStatus: boolean;\n  status: boolean;\n  getRebootStatusError: string | null;\n}\n\nconst initialState: SystemRebootState = {\n  isGettingRebootStatus: false,\n  status: false,\n  getRebootStatusError: null,\n};\n\nconst systemReboot = createSlice({\n  name: 'reboot',\n  initialState,\n  reducers: {\n    getRebootStatusStart: (state): void => {\n      state.getRebootStatusError = null;\n      state.isGettingRebootStatus = true;\n    },\n    getRebootStatusSuccess: (state, action): void => {\n      state.isGettingRebootStatus = false;\n      state.status = action.payload;\n    },\n    getRebootStatusError: (state, action): void => {\n      state.getRebootStatusError = action.payload;\n      state.isGettingRebootStatus = false;\n    },\n  },\n});\n\nexport const {\n  getRebootStatusSuccess,\n  getRebootStatusStart,\n  getRebootStatusError,\n} = systemReboot.actions;\n\nexport const { reducer: systemRebootReducer } = systemReboot;\n\nexport const systemRebootCheck = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getRebootStatusStart());\n  try {\n    const result = await systemApi.getSystemRebootStatus();\n    dispatch(getRebootStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getRebootStatusError);\n  }\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { StatusEntry, StatusEntryType } from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemStatusState {\n  isGettingStatus: boolean;\n  status: Array<StatusEntry>;\n  getStatusError: string | null;\n}\n\nconst initialState: SystemStatusState = {\n  isGettingStatus: false,\n  status: [],\n  getStatusError: null,\n};\n\nconst systemStatus = createSlice({\n  name: 'status',\n  initialState,\n  reducers: {\n    getStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.status = action.payload;\n    },\n    getStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n  },\n});\n\nexport const {\n  getStatusSuccess,\n  getStatusStart,\n  getStatusError,\n} = systemStatus.actions;\n\nexport const { reducer: systemStatusReducer } = systemStatus;\n\nexport const systemStatusCheck = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getStatusStart());\n  try {\n    const result = await systemApi.getSystemStatus();\n    dispatch(getStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getStatusError);\n  }\n};\n\ntype StatusGroup = IGroup;\n\ntype StatusItem = StatusEntry & {\n  key: string;\n};\n\nexport const selectSystemStatusItemsAndGroups = (\n  state: RootState\n): [Array<StatusItem>, Array<StatusGroup>] => {\n  const groups: Array<StatusGroup> = [];\n  const items: Array<StatusItem> = [];\n  let group: StatusGroup | undefined = undefined;\n  const { status: entries } = state.system.status;\n  entries.forEach((statusEntry, i) => {\n    const isHeadingEntry = statusEntry.type === StatusEntryType.Heading;\n    if (!isHeadingEntry) {\n      items.push({\n        key: 'item' + items.length,\n        ...statusEntry,\n      });\n    }\n    if ((isHeadingEntry || i === entries.length - 1) && group) {\n      groups.push({\n        ...group,\n        count: items.length - group.startIndex,\n      });\n    }\n    if (isHeadingEntry) {\n      group = {\n        key: 'group' + groups.length,\n        name: statusEntry.text,\n        startIndex: items.length,\n        isCollapsed: false,\n        level: 0,\n        count: 0,\n      };\n    }\n  });\n\n  return [items, groups];\n};\n\ninterface SummarisedChecks {\n  [StatusEntryType.Ok]: number;\n  [StatusEntryType.Warning]: number;\n  [StatusEntryType.Error]: number;\n  total: number;\n}\n\nexport const selectSummarisedChecks = createSelector(\n  [selectSystemStatusItemsAndGroups],\n  ([items]): SummarisedChecks => {\n    const summary = {\n      [StatusEntryType.Ok]: 0,\n      [StatusEntryType.Warning]: 0,\n      [StatusEntryType.Error]: 0,\n      total: 0,\n    };\n    items.forEach((item) => {\n      if (item.type !== StatusEntryType.Heading) {\n        summary.total += 1;\n      }\n      switch (item.type) {\n        case StatusEntryType.Ok:\n          summary[StatusEntryType.Ok] += 1;\n          break;\n        case StatusEntryType.Error:\n          summary[StatusEntryType.Error] += 1;\n          break;\n        case StatusEntryType.Warning:\n          summary[StatusEntryType.Warning] += 1;\n          break;\n      }\n    });\n    return summary;\n  }\n);\n","import { FontSizes, getTheme, Icon } from '@fluentui/react';\nimport { StatusEntryType } from 'mailinabox-api';\nimport React from 'react';\n\nconst theme = getTheme();\n\nfunction getIconName(type: string): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return 'Accept';\n    case StatusEntryType.Error:\n      return 'Error';\n    case StatusEntryType.Warning:\n    default:\n      return 'Warning';\n  }\n}\n\nfunction getIconColor(type: string): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return theme.palette.green;\n    case StatusEntryType.Error:\n      return theme.palette.red;\n    case StatusEntryType.Warning:\n    default:\n      return theme.palette.yellowDark;\n  }\n}\n\ninterface SystemCheckIconProps {\n  type: StatusEntryType;\n}\n\nexport const SystemCheckIcon: React.FunctionComponent<SystemCheckIconProps> = ({\n  type,\n}) => {\n  return (\n    <Icon\n      iconName={getIconName(type)}\n      styles={{\n        root: {\n          color: getIconColor(type),\n          fontSize: FontSizes.medium,\n          verticalAlign: 'middle',\n        },\n      }}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  getTheme,\n  Link,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { StatusEntry, StatusEntryType } from 'mailinabox-api';\nimport React, { useCallback, useState } from 'react';\n\nconst theme = getTheme();\n\ninterface SystemChecksDetailsListItemProps {\n  item: StatusEntry;\n}\n\nfunction getTextColor(type: StatusEntryType): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return theme.palette.greenDark;\n    case StatusEntryType.Error:\n      return theme.palette.redDark;\n    case StatusEntryType.Warning:\n    default:\n      return theme.palette.yellowDark;\n  }\n}\n\nconst extrasClassName = mergeStyles({\n  ...AnimationStyles.fadeIn500,\n});\n\nexport const SystemChecksDetailsListItem: React.FunctionComponent<SystemChecksDetailsListItemProps> = ({\n  item,\n}) => {\n  const { text, extra, type } = item;\n  const [isCollapsed, setIsCollapsed] = useState(true);\n  const onLinkClick = useCallback((): void => setIsCollapsed(false), []);\n  const textColor = getTextColor(type);\n  return (\n    <>\n      <Text styles={{ root: { color: textColor } }}>{text}</Text>\n      {!!(extra && extra.length) && (\n        <>\n          {isCollapsed && (\n            <>\n              <br />\n              <Link onClick={onLinkClick}>Show more</Link>\n            </>\n          )}\n          {!isCollapsed && (\n            <Stack padding=\"m 0\" className={extrasClassName}>\n              {extra.map((extraItem) => {\n                return (\n                  <>\n                    {extraItem.monospace ? (\n                      <Text\n                        block\n                        styles={{\n                          root: {\n                            padding: theme.spacing.m,\n                            fontFamily: 'monospace',\n                          },\n                        }}\n                      >\n                        {extraItem.text}\n                      </Text>\n                    ) : (\n                      <Text block>{extraItem.text}</Text>\n                    )}\n                  </>\n                );\n              })}\n            </Stack>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { WebDomain } from 'mailinabox-api';\nimport psl from 'psl';\nimport { handleRequestError, webApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport type WebDomainWithDomainInfo = WebDomain & {\n  domainWithoutSubDomain: string;\n  subDomain: string;\n};\n\nexport enum WebDomainActionType {\n  update,\n}\n\nexport interface WebDomainAction {\n  webDomain?: WebDomainWithDomainInfo;\n  action?: WebDomainActionType;\n}\n\nexport interface WebState {\n  isGettingDomains: boolean;\n  domains: Array<WebDomain>;\n  getDomainsError: string | null;\n  domainAction: WebDomainAction | null;\n  isUpdatingWeb: boolean;\n  updateWebError: string | null;\n  updateWebResponse: string | null;\n}\n\nconst initialState: WebState = {\n  isGettingDomains: false,\n  domains: [],\n  getDomainsError: null,\n  domainAction: null,\n  isUpdatingWeb: false,\n  updateWebError: null,\n  updateWebResponse: null,\n};\n\nexport const web = createSlice({\n  name: 'web',\n  initialState,\n  reducers: {\n    getDomainsStart: (state): void => {\n      state.getDomainsError = null;\n      state.isGettingDomains = true;\n    },\n    getDomainsSuccess: (state, action): void => {\n      state.isGettingDomains = false;\n      state.domains = action.payload;\n    },\n    getDomainsError: (state, action): void => {\n      state.isGettingDomains = false;\n      state.getDomainsError = action.payload;\n    },\n    updateWebStart: (state): void => {\n      state.updateWebError = null;\n      state.isUpdatingWeb = true;\n    },\n    updateWebSuccess: (state, action): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebResponse = action.payload;\n    },\n    updateWebError: (state, action): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebError = action.payload;\n    },\n    updateWebReset: (state): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebError = null;\n      state.updateWebResponse = null;\n    },\n    resetDomainAction: (state): void => {\n      state.domainAction = {\n        ...state.domainAction,\n        action: undefined,\n      };\n    },\n    setDomainAction: (state, action: PayloadAction<WebDomainAction>): void => {\n      state.domainAction = action.payload;\n    },\n  },\n});\n\nexport const { reducer: webReducer } = web;\n\nexport const {\n  getDomainsStart,\n  getDomainsSuccess,\n  getDomainsError,\n  resetDomainAction,\n  setDomainAction,\n  updateWebStart,\n  updateWebSuccess,\n  updateWebError,\n  updateWebReset,\n} = web.actions;\n\nfunction sortByFqdn(\n  a: WebDomainWithDomainInfo,\n  b: WebDomainWithDomainInfo\n): number {\n  if (a.domainWithoutSubDomain === b.domainWithoutSubDomain) {\n    return a.subDomain.localeCompare(b.subDomain);\n  }\n  return a.domainWithoutSubDomain.localeCompare(b.domainWithoutSubDomain);\n}\n\nexport const selectOrderedAndGroupedStaticEnabledDomains = (\n  state: RootState\n): [Array<WebDomainWithDomainInfo>, Array<IGroup>] => {\n  const domains = state.web.domains\n    .filter((webDomain) => webDomain.staticEnabled)\n    .map((webDomain) => {\n      const parsed = psl.parse(webDomain.domain);\n      return {\n        ...webDomain,\n        domainWithoutSubDomain: (!parsed.error && parsed.domain) || '',\n        subDomain: (!parsed.error && parsed.subdomain) || '',\n      };\n    })\n    .sort(sortByFqdn);\n\n  let groups: Array<IGroup> = [];\n\n  domains.forEach((webDomain: WebDomainWithDomainInfo, index) => {\n    const { domainWithoutSubDomain } = webDomain;\n    if (groups[groups.length - 1]?.name !== domainWithoutSubDomain) {\n      groups.push({\n        key: 'group' + groups.length,\n        name: domainWithoutSubDomain,\n        startIndex: index,\n        level: 0,\n        count: 0,\n        isCollapsed: true,\n      });\n    }\n  });\n\n  groups = groups.map((group, index) => {\n    return {\n      ...group,\n      count:\n        (groups[index + 1]?.startIndex || domains.length) - group.startIndex,\n    };\n  });\n\n  return [domains, groups];\n};\n\nexport const selectGetDomainsError = (state: RootState): string | null =>\n  state.web.getDomainsError;\n\nexport const getDomains = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getDomainsStart());\n  try {\n    const result = await webApi.getWebDomains();\n    dispatch(getDomainsSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getDomainsError);\n  }\n};\n\nexport const updateWeb = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(updateWebStart());\n  try {\n    const result = await webApi.updateWeb();\n    dispatch(updateWebSuccess(result || 'Nothing changed.'));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateWebError);\n  }\n};\n","import {\n  CollapseAllVisibility,\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  IDetailsGroupDividerProps,\n  IGroup,\n  IGroupHeaderProps,\n  IRenderFunction,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { SystemCheckIcon } from '../SystemCheckIcon/SystemCheckIcon';\nimport { SystemChecksDetailsListItem } from './SystemChecksDetailsListItem';\n\ninterface SystemChecksDetailsListProps {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  items: any[];\n  groups: IGroup[];\n}\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Status',\n    minWidth: 16,\n    maxWidth: 16,\n    onRender: (item): React.ReactNode => <SystemCheckIcon type={item.type} />,\n  },\n  {\n    key: 'column2',\n    name: 'Text',\n    isRowHeader: true,\n    isMultiline: true,\n    minWidth: 100,\n    onRender: (item): React.ReactNode => (\n      <SystemChecksDetailsListItem item={item} />\n    ),\n  },\n];\n\nexport const SystemChecksDetailsList: React.FunctionComponent<SystemChecksDetailsListProps> = ({\n  items,\n  groups,\n}) => {\n  return (\n    <DetailsList\n      items={items}\n      columns={columns}\n      groups={groups}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible={false}\n      onShouldVirtualize={(): boolean => false}\n      groupProps={{\n        onRenderHeader: (\n          headerProps?: IDetailsGroupDividerProps,\n          defaultRender?: IRenderFunction<IGroupHeaderProps>\n        ): JSX.Element | null => {\n          if (defaultRender) {\n            return defaultRender({\n              ...headerProps,\n              styles: {\n                headerCount: { display: 'none' },\n              },\n            });\n          }\n          return null;\n        },\n        isAllGroupsCollapsed: false,\n        collapseAllVisibility: CollapseAllVisibility.hidden,\n      }}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  CommandBarButton,\n  DirectionalHint,\n  getTheme,\n  IOverflowSetItemProps,\n  OverflowSet,\n  TooltipDelay,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updatePrivacy } from '../../../features/system/privacySlice';\nimport { RootState } from '../../../store';\n\nconst theme = getTheme();\n\nconst calloutProps = { gapSpace: 0 };\nconst actionButtonContainerStyles = {\n  root: { width: '100%' },\n};\n\nconst onRenderItem = (item: IOverflowSetItemProps): JSX.Element => {\n  const button = (\n    <CommandBarButton\n      role=\"menuitem\"\n      aria-label={item.name}\n      styles={{\n        root: {\n          padding: theme.spacing.m,\n          textAlign: 'left',\n          ...actionButtonContainerStyles.root,\n        },\n      }}\n      disabled={item.disabled}\n      iconProps={{ iconName: item.icon }}\n      text={item.name}\n      onClick={item.onClick}\n    />\n  );\n  return item.tooltip ? (\n    <TooltipHost\n      content={item.tooltip}\n      id={item.tooltipId}\n      calloutProps={calloutProps}\n      styles={actionButtonContainerStyles}\n      delay={TooltipDelay.zero}\n      directionalHint={DirectionalHint.topCenter}\n    >\n      {button}\n    </TooltipHost>\n  ) : (\n    button\n  );\n};\n\nconst onRenderOverflowButton = (): null => null;\n\nexport const SystemStatusActionsMenu: React.FunctionComponent = () => {\n  const { isUpdatingPrivacy, status: privacyStatus } = useSelector(\n    (state: RootState) => state.system.privacy\n  );\n  const { status: rebootStatus } = useSelector(\n    (state: RootState) => state.system.reboot\n  );\n\n  const dispatch = useDispatch();\n  const onPrivacyButtonClick = useCallback(() => {\n    dispatch(updatePrivacy(!privacyStatus));\n  }, [dispatch, privacyStatus]);\n  return (\n    <OverflowSet\n      role=\"menubar\"\n      vertical\n      styles={{\n        root: {\n          width: '100%',\n          boxShadow: theme.effects.elevation4,\n          backgroundColor: theme.palette.white,\n        },\n      }}\n      items={[\n        {\n          key: 'item1',\n          icon: 'DisableUpdates',\n          name: `${privacyStatus ? 'Enable' : 'Disable'} New-Version Check`,\n          tooltip: privacyStatus\n            ? 'When enabled, status checks phone-home to check for a new release of Mail-in-a-Box.'\n            : null,\n          tooltipId: useId('tooltip'),\n          disabled: isUpdatingPrivacy,\n          onClick: onPrivacyButtonClick,\n        },\n        {\n          key: 'item2',\n          icon: 'Sync',\n          name: 'Reboot Server',\n          disabled: !rebootStatus,\n        },\n      ]}\n      onRenderOverflowButton={onRenderOverflowButton}\n      onRenderItem={onRenderItem}\n    />\n  );\n};\n","import { MessageBar, MessageBarType } from '@fluentui/react';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { SystemStatusActionsMenu } from '../SystemStatusActionsMenu/SystemStatusActionsMenu';\n\nexport const SystemStatusActions: React.FunctionComponent = () => {\n  const { status: rebootStatus } = useSelector(\n    (state: RootState) => state.system.reboot\n  );\n  return (\n    <>\n      {!rebootStatus && (\n        <MessageBar messageBarType={MessageBarType.success}>\n          No reboot is necessary.\n        </MessageBar>\n      )}\n      {rebootStatus && (\n        <MessageBar messageBarType={MessageBarType.warning}>\n          A reboot is required.\n        </MessageBar>\n      )}\n      {/* TODO: SHOW ERRORS FOR UPDATING PRIVACY AND REBOOTING */}\n      <SystemStatusActionsMenu />\n    </>\n  );\n};\n","import { getTheme } from '@fluentui/react';\nimport { DonutChart, IChartDataPoint, IChartProps } from '@uifabric/charting';\nimport { StatusEntryType } from 'mailinabox-api';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectSummarisedChecks } from '../../../features/system/statusSlice';\n\nexport const SystemStatusChart: React.FunctionComponent = () => {\n  const summarisedChecks = useSelector(selectSummarisedChecks);\n\n  const chartData: IChartDataPoint[] = [\n    {\n      legend: 'Passed',\n      data: summarisedChecks[StatusEntryType.Ok],\n      color: getTheme().palette.green,\n      xAxisCalloutData: 'Passed checks',\n    },\n    {\n      legend: 'Failed',\n      data: summarisedChecks[StatusEntryType.Error],\n      color: getTheme().palette.red,\n      xAxisCalloutData: 'Failed checks',\n    },\n    {\n      legend: 'Warning',\n      data: summarisedChecks[StatusEntryType.Warning],\n      color: getTheme().palette.yellow,\n      xAxisCalloutData: 'Warning checks',\n    },\n  ];\n  const data: IChartProps = {\n    chartTitle: 'Status Checks',\n    chartData,\n  };\n  return (\n    <DonutChart\n      data={data}\n      innerRadius={30}\n      legendsOverflowText={'overflow checks'}\n      legendsOverflowProps={{ vertical: false, overflowSide: 'start' }}\n      hideLegend={false}\n      height={116}\n      width={230}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  mergeStyles,\n  MessageBar,\n  MessageBarType,\n  ProgressIndicator,\n  Stack,\n} from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { systemPrivacyCheck } from '../../../../../features/system/privacySlice';\nimport { systemRebootCheck } from '../../../../../features/system/rebootSlice';\nimport {\n  selectSystemStatusItemsAndGroups,\n  systemStatusCheck,\n} from '../../../../../features/system/statusSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { SystemChecksDetailsList } from '../../../../ui/SystemChecksDetailsList/SystemChecksDetailsList';\nimport { SystemStatusActions } from '../../../../ui/SystemStatusActions/SystemStatusActions';\nimport { SystemStatusChart } from '../../../../ui/SystemStatusChart/SystemStatusChart';\n\nconst messageBarClassName = mergeStyles({\n  ...AnimationStyles.fadeIn500,\n});\n\nexport const StatusChecksRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingStatus, getStatusError } = useSelector(\n    (state: RootState) => state.system.status\n  );\n\n  const dispatch = useDispatch();\n\n  const [items, groups] = useSelector(selectSystemStatusItemsAndGroups);\n\n  useEffect(() => {\n    dispatch(systemStatusCheck());\n    dispatch(systemRebootCheck());\n    dispatch(systemPrivacyCheck());\n  }, [dispatch]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Status Checks',\n              key: 'statuschecks',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      {!isGettingStatus && !getStatusError && (\n        <Stack horizontal gap=\"l1\">\n          <BodyPanel grow={1} styles={{ root: { flexBasis: 0 } }}>\n            <SystemStatusChart />\n          </BodyPanel>\n          <BodyPanel\n            grow={1}\n            styles={{ root: { flexBasis: 0 } }}\n            horizontalAlign=\"start\"\n          >\n            <SystemStatusActions />\n          </BodyPanel>\n        </Stack>\n      )}\n      <BodyPanel>\n        {getStatusError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            isMultiline\n            className={messageBarClassName}\n          >\n            {getStatusError}\n          </MessageBar>\n        )}\n        {isGettingStatus && (\n          <ProgressIndicator label=\"Checking system status...\" />\n        )}\n        {!isGettingStatus && !getStatusError && (\n          <SystemChecksDetailsList items={items} groups={groups} />\n        )}\n      </BodyPanel>\n    </Body>\n  );\n};\n\nStatusChecksRoute.path = '/system/status';\n","import { DialogType, Text } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  resetDomainAction,\n  updateWeb,\n  updateWebReset,\n  WebDomainActionType,\n} from '../../../features/webSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nexport const WebDomainActions: React.FunctionComponent = () => {\n  const {\n    domainAction,\n    updateWebError,\n    updateWebResponse,\n    isUpdatingWeb,\n  } = useSelector((state: RootState) => state.web);\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useCallback((): void => {\n    dispatch(resetDomainAction());\n  }, [dispatch]);\n\n  const onActionDialogDismissed = useCallback((): void => {\n    dispatch(updateWebReset());\n  }, [dispatch]);\n\n  const update = useCallback((): void => {\n    if (domainAction?.webDomain) {\n      dispatch(updateWeb());\n    }\n  }, [dispatch, domainAction]);\n\n  const dialogWidth = updateWebResponse ? 420 : 580;\n\n  return (\n    <ActionConfirmDialog\n      hidden={domainAction?.action !== WebDomainActionType.update}\n      isLoading={isUpdatingWeb}\n      minWidth={dialogWidth}\n      maxWidth={dialogWidth}\n      onDismiss={onActionDialogDismiss}\n      onDismissed={onActionDialogDismissed}\n      onConfirm={update}\n      error={updateWebError}\n      actionResponse={updateWebResponse}\n      confirmButtonText=\"Update\"\n      dialogContentProps={{\n        type: DialogType.largeHeader,\n        title: 'Change Root Directory',\n      }}\n      modalProps={{\n        isBlocking: true,\n      }}\n    >\n      <Text>\n        You can change the static directory for{' '}\n        <strong>{domainAction?.webDomain?.domain}</strong> to:\n      </Text>\n      <Text>\n        <code>{domainAction?.webDomain?.customRoot}</code>\n      </Text>\n      <Text>\n        First create this directory on the server. Then click Update to scan for\n        the directory and update web settings.\n      </Text>\n    </ActionConfirmDialog>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  setDomainAction,\n  WebDomainActionType,\n  WebDomainWithDomainInfo,\n} from '../../../features/webSlice';\n\ninterface WebDomainsActionsListProps {\n  webDomain: WebDomainWithDomainInfo;\n}\n\nexport const WebDomainsActionsList: React.FunctionComponent<WebDomainsActionsListProps> = ({\n  webDomain,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (action: WebDomainActionType): void => {\n      dispatch(\n        setDomainAction({\n          webDomain,\n          action,\n        })\n      );\n    },\n    [dispatch, webDomain]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'changeroot',\n            text: 'Change Root Directory',\n            onClick: (): void => doAction(WebDomainActionType.update),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  Link,\n  mergeStyles,\n  MessageBarType,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { WebDomain } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getDomains,\n  selectOrderedAndGroupedStaticEnabledDomains,\n  WebDomainWithDomainInfo,\n} from '../../../features/webSlice';\nimport { RootState } from '../../../store';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { LoadingOverlay } from '../LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../LoadingOverlay/LoadingOverlayContainer';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { WebDomainActions } from './WebDomainActions';\nimport { WebDomainsActionsList } from './WebDomainsActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Site',\n    minWidth: 100,\n    maxWidth: 300,\n    isRowHeader: true,\n    onRender: (webDomain: WebDomain): React.ReactElement => (\n      <Link href={`https://${webDomain.domain}`}>\n        https://{webDomain.domain}\n      </Link>\n    ),\n  },\n  {\n    key: 'column2',\n    name: 'Directory for Files',\n    minWidth: 300,\n    isRowHeader: false,\n    onRender: (webDomain: WebDomain): React.ReactElement => (\n      <Text>{webDomain.root}</Text>\n    ),\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (webDomain: WebDomainWithDomainInfo): React.ReactNode => (\n      <WebDomainsActionsList webDomain={webDomain} />\n    ),\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface WebDomainsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const WebDomainsList: React.FunctionComponent<\n  IStackProps & WebDomainsListProps\n> = ({ openedGroupsState, ...props }) => {\n  const { isGettingDomains, getDomainsError } = useSelector(\n    (state: RootState) => state.web\n  );\n  const dispatch = useDispatch();\n  const [domains, groups] = useSelector(\n    selectOrderedAndGroupedStaticEnabledDomains\n  );\n\n  useEffect(() => {\n    if (!domains.length && !isGettingDomains && !getDomainsError) {\n      dispatch(getDomains());\n    }\n  }, [dispatch, domains, getDomainsError, isGettingDomains]);\n  return (\n    <Stack {...props}>\n      <WebDomainActions />\n      {getDomainsError && (\n        <MessageBar messageBarType={MessageBarType.error} isMultiline>\n          {getDomainsError}\n        </MessageBar>\n      )}\n      <LoadingOverlayContainer>\n        {isGettingDomains && (\n          <LoadingOverlay\n            loadingLabel=\"Loading domains...\"\n            hasLoaded={Boolean(domains.length)}\n          />\n        )}\n        {!isGettingDomains && !getDomainsError && (\n          <Stack gap=\"m\">\n            <MessageBar>\n              To add a domain to this table, create a dummy\n              <Link href=\"#users\">mail user</Link> or\n              <Link href=\"#aliases\">alias</Link> on the domain first and see the\n              <Link href=\"https://mailinabox.email/guide.html#domain-name-configuration\">\n                setup guide\n              </Link>{' '}\n              for adding nameserver records to the new domain at your registrar\n              (but <i>not</i> glue records).\n            </MessageBar>\n            <GroupedDetailsList\n              items={domains}\n              columns={columns}\n              groups={groups}\n              openedGroupsState={openedGroupsState}\n            />\n          </Stack>\n        )}\n      </LoadingOverlayContainer>\n    </Stack>\n  );\n};\n","import { Link, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nexport const WebInstructions: React.FunctionComponent = () => {\n  return (\n    <Stack gap=\"m\">\n      <MessageBar>\n        You can replace the default website with your own HTML pages and other\n        static files. This control panel won’t help you design a website, but\n        once you have <code>.html</code> files you can upload them following\n        these instructions:\n      </MessageBar>\n      <Text as=\"ol\">\n        <li>\n          Ensure that any domains you are publishing a website for have no\n          problems on the <Link href=\"#system_status\">Status Checks</Link> page.\n        </li>\n        <li>\n          On your personal computer, install an SSH file transfer program such\n          as <Link href=\"https://filezilla-project.org/\">FileZilla</Link> or{' '}\n          <Link href=\"http://linuxcommand.org/man_pages/scp1.html\">scp</Link>.\n        </li>\n        <li>\n          Log in to this machine with the file transfer program. The server is{' '}\n          <strong>{config.hostname}</strong>, the protocol is SSH or SFTP, and\n          use the <strong>SSH login credentials</strong> that you used when you\n          originally created this machine at your cloud host provider. This is{' '}\n          <strong>not</strong> what you use to log in either for email or this\n          control panel. Your SSH credentials probably involves a private key\n          file.\n        </li>\n        <li>\n          Upload your <code>.html</code> or other files to the directory{' '}\n          <code>/home/user-data/www/default</code> on this machine. They will\n          appear directly and immediately on the web.\n        </li>\n        <li>\n          The websites set up on this machine are listed in the{' '}\n          <Link href=\"#\">Domains List</Link> with where to put the files for\n          each website.\n        </li>\n      </Text>\n    </Stack>\n  );\n};\n","import { Link, PivotItem, Stack, Text } from '@fluentui/react';\nimport React, { useState } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { config } from '../../../../config';\nimport { Body } from '../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../ui/BodyPanel/BodyPanel';\nimport { PivotRoutes } from '../../../ui/PivotRoutes/PivotRoutes';\nimport { WebDomainsList } from '../../../ui/WebDomainsList/WebDomainsList';\nimport { WebInstructions } from '../../../ui/WebInstructions/WebInstructions';\n\nexport const WebRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Static Web Hosting',\n              key: 'web',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <Text>\n          This machine is serving a simple, static website at{' '}\n          <Link\n            href={`https://${config.hostname}`}\n          >{`https://${config.hostname}`}</Link>{' '}\n          and at all domain names that you set up an email user or alias for.\n        </Text>\n      </BodyPanel>\n      <BodyPanel>\n        <PivotRoutes>\n          <PivotItem itemKey={url} headerText=\"Domains\" />\n          <PivotItem\n            itemKey={`${url}/instructions`}\n            headerText=\"Uploading Instructions\"\n          />\n        </PivotRoutes>\n        <Switch>\n          <Route exact path={path}>\n            <WebDomainsList openedGroupsState={openedGroupsState} />\n          </Route>\n          <Route exact path={`${path}/instructions`}>\n            <WebInstructions />\n          </Route>\n        </Switch>\n      </BodyPanel>\n    </Body>\n  );\n};\n\nWebRoute.path = '/web';\n","import { CommandBar, ContextualMenuItemType, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { LogoutRoute } from '../../routes/LogoutRoute/LogoutRoute';\nimport { AliasesRoute } from '../../routes/MainRoute/mail/AliasesRoute/AliasesRoute';\nimport { InstructionsRoute } from '../../routes/MainRoute/mail/InstructionsRoute/InstructionsRoute';\nimport { UsersRoute } from '../../routes/MainRoute/mail/UsersRoute/UsersRoute';\nimport { SyncGuideRoute } from '../../routes/MainRoute/SyncGuideRoute/SyncGuideRoute';\nimport { BackupsRoute } from '../../routes/MainRoute/system/BackupsRoute/BackupsRoute';\nimport { CertificatesRoute } from '../../routes/MainRoute/system/CertificatesRoute/CertificatesRoute';\nimport { CustomDnsRoute } from '../../routes/MainRoute/system/CustomDnsRoute/CustomDnsRoute';\nimport { ExternalDnsRoute } from '../../routes/MainRoute/system/ExternalDnsRoute/ExternalDnsRoute';\nimport { StatusChecksRoute } from '../../routes/MainRoute/system/StatusChecksRoute/StatusChecksRoute';\nimport { WebRoute } from '../../routes/MainRoute/WebRoute/WebRoute';\n\nexport const PrimaryNav: React.FunctionComponent = () => {\n  const history = useHistory();\n  return (\n    <Stack\n      styles={{\n        root: {\n          width: '100%',\n        },\n      }}\n      as=\"nav\"\n    >\n      <CommandBar\n        styles={{\n          root: {\n            padding: 0,\n          },\n        }}\n        farItems={[\n          {\n            key: 'navLogout',\n            text: 'Log out',\n            iconProps: { iconName: 'SignOut' },\n            onClick: (): void => {\n              history.push(LogoutRoute.path);\n            },\n          },\n        ]}\n        items={[\n          {\n            key: 'system',\n            text: 'System',\n            iconProps: { iconName: 'System' },\n            subMenuProps: {\n              items: [\n                {\n                  key: 'navStatusChecks',\n                  text: 'Status Checks',\n                  onClick: (): void => history.push(StatusChecksRoute.path),\n                },\n                {\n                  key: 'navCertificates',\n                  text: 'TLS (SSL) Certificates',\n                  onClick: (): void => history.push(CertificatesRoute.path),\n                },\n                {\n                  key: 'navBackupStatus',\n                  text: 'Backup Status',\n                  onClick: (): void => history.push(BackupsRoute.path),\n                },\n                {\n                  key: 'navAdvanced',\n                  text: 'Advanced',\n                  itemType: ContextualMenuItemType.Section,\n                  sectionProps: {\n                    topDivider: true,\n                    bottomDivider: true,\n                    title: 'Advanced',\n                    items: [\n                      {\n                        key: 'navCustomDns',\n                        text: 'Custom DNS',\n                        onClick: (): void => history.push(CustomDnsRoute.path),\n                      },\n                      {\n                        key: 'navExternalDnsRoute',\n                        text: 'External DNS',\n                        onClick: (): void =>\n                          history.push(ExternalDnsRoute.path),\n                      },\n                      {\n                        key: 'navMonitoring',\n                        text: 'Munin Monitoring',\n                      },\n                    ],\n                  },\n                },\n              ],\n            },\n          },\n          {\n            key: 'navMail',\n            text: 'Mail',\n            iconProps: { iconName: 'Mail' },\n            subMenuProps: {\n              items: [\n                {\n                  key: 'navInstructions',\n                  text: 'Instructions',\n                  onClick: (): void => history.push(InstructionsRoute.path),\n                },\n                {\n                  key: 'navUsers',\n                  text: 'Users',\n                  onClick: (): void => history.push(UsersRoute.path),\n                },\n                {\n                  key: 'navAliases',\n                  text: 'Aliases',\n                  onClick: (): void => history.push(AliasesRoute.path),\n                },\n              ],\n            },\n          },\n          {\n            key: 'navContacts',\n            text: 'Contacts/Calendar',\n            iconProps: { iconName: 'Calendar' },\n            onClick: (): void => history.push(SyncGuideRoute.path),\n          },\n          {\n            key: 'navWeb',\n            text: 'Web',\n            iconProps: { iconName: 'SiteScan' },\n            onClick: (): void => history.push(WebRoute.path),\n          },\n        ]}\n      />\n    </Stack>\n  );\n};\n","import { getTheme, Image, mergeStyles, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport logo from '../../../images/logo.png';\nimport { PrimaryNav } from '../PrimaryNav/PrimaryNav';\n\nconst className = mergeStyles({\n  alignSelf: 'stretch',\n  backgroundColor: getTheme().semanticColors.bodyBackground,\n});\n\nexport const Header: React.FunctionComponent = () => {\n  return (\n    <Stack\n      as=\"header\"\n      className={className}\n      horizontal\n      horizontalAlign=\"center\"\n    >\n      <Stack\n        as=\"section\"\n        gap=\"s1\"\n        styles={{\n          root: {\n            maxWidth: 1170,\n            width: '100%',\n          },\n        }}\n        horizontal\n        verticalAlign=\"center\"\n      >\n        {/* <Stack.Item disableShrink>\n          <Text nowrap variant=\"large\">\n            box.example.com\n          </Text>\n        </Stack.Item> */}\n        <Stack.Item>\n          <Image src={logo} alt=\"mailinabox login\" width={34} />\n        </Stack.Item>\n        <Stack.Item disableShrink>\n          <Text nowrap variant=\"large\">\n            Mail-in-a-Box\n          </Text>\n        </Stack.Item>\n        <PrimaryNav />\n      </Stack>\n    </Stack>\n  );\n};\n","import { Stack } from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { RootState } from '../../../store';\nimport { Header } from '../../ui/Header/Header';\nimport { LoginRoute } from '../LoginRoute/LoginRoute';\nimport { LogoutRoute } from '../LogoutRoute/LogoutRoute';\nimport { AliasesRoute } from './mail/AliasesRoute/AliasesRoute';\nimport { InstructionsRoute } from './mail/InstructionsRoute/InstructionsRoute';\nimport { UsersRoute } from './mail/UsersRoute/UsersRoute';\nimport { SyncGuideRoute } from './SyncGuideRoute/SyncGuideRoute';\nimport { BackupsRoute } from './system/BackupsRoute/BackupsRoute';\nimport { CertificatesRoute } from './system/CertificatesRoute/CertificatesRoute';\nimport { CustomDnsRoute } from './system/CustomDnsRoute/CustomDnsRoute';\nimport { ExternalDnsRoute } from './system/ExternalDnsRoute/ExternalDnsRoute';\nimport { StatusChecksRoute } from './system/StatusChecksRoute/StatusChecksRoute';\nimport { WebRoute } from './WebRoute/WebRoute';\n\nexport const MainRoute: React.FunctionComponent & { path: string } = () => {\n  const { isAuthenticated } = useSelector((state: RootState) => state.auth);\n  const location = useLocation();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!isAuthenticated && location.pathname !== LoginRoute.path) {\n      history.push(LoginRoute.path);\n    }\n  }, [history, isAuthenticated, location.pathname]);\n\n  return (\n    <Stack gap=\"l1\" horizontalAlign=\"center\">\n      <Header />\n      <Switch>\n        <Route exact path={[MainRoute.path, StatusChecksRoute.path]}>\n          <StatusChecksRoute />\n        </Route>\n        <Route path={CertificatesRoute.path}>\n          <CertificatesRoute />\n        </Route>\n        <Route path={BackupsRoute.path}>\n          <BackupsRoute />\n        </Route>\n        <Route path={CustomDnsRoute.path}>\n          <CustomDnsRoute />\n        </Route>\n        <Route path={ExternalDnsRoute.path}>\n          <ExternalDnsRoute />\n        </Route>\n        <Route exact path={InstructionsRoute.path}>\n          <InstructionsRoute />\n        </Route>\n        <Route path={UsersRoute.path}>\n          <UsersRoute />\n        </Route>\n        <Route path={AliasesRoute.path}>\n          <AliasesRoute />\n        </Route>\n        <Route exact path={SyncGuideRoute.path}>\n          <SyncGuideRoute />\n        </Route>\n        <Route path={WebRoute.path}>\n          <WebRoute />\n        </Route>\n        <Route exact path={LogoutRoute.path}>\n          <LogoutRoute />\n        </Route>\n        <Redirect to=\"/404\" />\n      </Switch>\n    </Stack>\n  );\n};\n\nMainRoute.path = '/';\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport {\n  BaseButton,\n  Button,\n  Checkbox,\n  MessageBarType,\n  PrimaryButton,\n  Spinner,\n  SpinnerSize,\n  Stack,\n  TextField,\n} from '@fluentui/react';\nimport { MeAuthStatus, MeResponse } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { userApi } from '../../../api';\nimport { useRequest } from '../../../api/useRequest';\nimport { updateAuth } from '../../../features/authSlice';\nimport { RootState } from '../../../store';\nimport { MainRoute } from '../../routes/MainRoute/MainRoute';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nexport const LoginForm: React.FunctionComponent = () => {\n  const [\n    checkLogin,\n    { isLoading, response, error: requestError, setError, setResponse },\n  ] = useRequest<MeResponse>(\n    () => userApi.getMe(),\n    (response: MeResponse) => {\n      if (response.status !== MeAuthStatus.Ok) {\n        setError(response.reason || 'Unknown authentication error');\n      } else if (!response.apiKey) {\n        setError('You are not an administrator on this system.');\n      } else {\n        setResponse(response);\n      }\n    }\n  );\n  const { isAuthenticated, error: authError } = useSelector(\n    (state: RootState) => state.auth\n  );\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [remember, setRemember] = useState(true);\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n\n  const onRememberChange = useCallback(\n    (_event?: React.FormEvent<HTMLElement>, checked?: boolean): void => {\n      setRemember(!!checked);\n    },\n    []\n  );\n  const onEmailChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setEmail(newValue ?? '');\n    },\n    []\n  );\n  const onPasswordChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPassword(newValue ?? '');\n    },\n    []\n  );\n  const onMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      setError(null);\n      dispatch(\n        updateAuth({\n          username: email,\n          password,\n          error: null,\n        })\n      );\n    },\n    [dispatch, email, password, setError]\n  );\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      setError(null);\n      checkLogin();\n    },\n    [checkLogin, setError]\n  );\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push(MainRoute.path);\n    } else {\n      dispatch(\n        updateAuth({\n          username: email,\n          password,\n          isAuthenticated: false,\n          error: authError,\n        })\n      );\n    }\n  }, [authError, dispatch, email, history, isAuthenticated, password]);\n\n  useEffect(() => {\n    if (response) {\n      dispatch(\n        updateAuth({\n          username: response.email,\n          password: response.apiKey,\n          isAuthenticated: true,\n          authError: null,\n          remember,\n        })\n      );\n    }\n  }, [dispatch, remember, response]);\n\n  const error = requestError || authError;\n\n  return (\n    <Stack as=\"form\" gap=\"m\" onSubmit={onFormSubmit}>\n      {error && (\n        <MessageBar\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          onDismiss={onMessageBarDismiss}\n          dismissButtonAriaLabel=\"Close\"\n        >\n          {error}\n        </MessageBar>\n      )}\n      <Stack gap=\"m\">\n        <TextField\n          label=\"Email\"\n          value={email}\n          required\n          type=\"email\"\n          autoFocus\n          onChange={onEmailChange}\n        />\n        <TextField\n          label=\"Password\"\n          value={password}\n          required\n          type=\"password\"\n          onChange={onPasswordChange}\n        />\n        <Checkbox\n          label=\"Remember me\"\n          checked={remember}\n          onChange={onRememberChange}\n        />\n      </Stack>\n      <Stack horizontalAlign=\"end\" verticalAlign=\"center\" horizontal gap=\"s1\">\n        {isLoading && <Spinner size={SpinnerSize.medium} />}\n        <PrimaryButton type=\"submit\" text=\"Sign in\" disabled={isLoading} />\n      </Stack>\n    </Stack>\n  );\n};\n","import { Dispatch, SetStateAction, useState } from 'react';\nimport { getRequestFailMessage } from '.';\n\ntype PerformRequest = () => void;\n\ntype Request<T> = [\n  PerformRequest,\n  {\n    response: T | null;\n    error: string | null;\n    isLoading: boolean;\n    setResponse: Dispatch<SetStateAction<T | null>>;\n    setError: Dispatch<SetStateAction<string | null>>;\n    reset: () => void;\n  }\n];\n\nexport function useRequest<T>(\n  queryFunc: () => Promise<T>,\n  responseHandler?: (response: T) => void | null\n): Request<T> {\n  const [response, setResponse] = useState<T | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  function performRequest(): void {\n    setIsLoading(true);\n    queryFunc()\n      .then(\n        (response) => {\n          if (responseHandler) {\n            responseHandler(response);\n          } else {\n            setResponse(response);\n          }\n        },\n        async (err) => {\n          setError(await getRequestFailMessage(err));\n        }\n      )\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function reset(): void {\n    setResponse(null);\n    setError(null);\n    setIsLoading(false);\n  }\n\n  return [\n    performRequest,\n    { response, setResponse, error, setError, isLoading, reset },\n  ];\n}\n","import { Image, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport logo from '../../../images/logo.png';\n\nexport const LoginHeader: React.FunctionComponent = () => {\n  return (\n    <Stack horizontal horizontalAlign=\"start\" gap=\"m\">\n      <Image src={logo} alt=\"mailinabox login\" width={34} />\n      <Text block variant=\"xLarge\">\n        Mail-in-a-Box Login\n      </Text>\n    </Stack>\n  );\n};\n","import { AnimationStyles, getTheme, mergeStyles, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { LoginForm } from '../../ui/LoginForm/LoginForm';\nimport { LoginHeader } from '../../ui/LoginHeader/LoginHeader';\n\nconst className = mergeStyles({\n  maxWidth: 420,\n  boxShadow: getTheme().effects.elevation8,\n  backgroundColor: getTheme().palette.white,\n  ...AnimationStyles.slideUpIn20,\n  animationDuration: '1s',\n});\n\nexport const LoginRoute: React.FunctionComponent & { path: string } = () => {\n  return (\n    <Stack\n      horizontalAlign=\"center\"\n      verticalAlign=\"center\"\n      verticalFill\n      horizontal\n      padding=\"l1\"\n    >\n      <Stack\n        grow={1}\n        className={className}\n        verticalAlign=\"center\"\n        gap=\"m\"\n        padding=\"l1\"\n      >\n        <LoginHeader />\n        <LoginForm />\n      </Stack>\n    </Stack>\n  );\n};\n\nLoginRoute.path = '/login';\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\nimport { RootState } from '../../../store';\nimport { LoginRoute } from '../LoginRoute/LoginRoute';\n\nexport const PrivateRoute: React.FunctionComponent<RouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const { isAuthenticated } = useSelector((state: RootState) => state.auth);\n  return (\n    <Route\n      {...rest}\n      render={({ location }): React.ReactNode =>\n        isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: LoginRoute.path,\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n","import React from 'react';\nimport { Route, Router, Switch } from 'react-router-dom';\nimport { history } from '../../../router';\nimport { LoginRoute } from '../../routes/LoginRoute/LoginRoute';\nimport { MainRoute } from '../../routes/MainRoute/MainRoute';\nimport { PrivateRoute } from '../../routes/PrivateRoute/PrivateRoute';\n\nexport const App: React.FunctionComponent = () => {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route exact path={LoginRoute.path}>\n          <LoginRoute />\n        </Route>\n        <Route exact path=\"/404\">\n          Not Found\n        </Route>\n        <PrivateRoute path={MainRoute.path}>\n          <MainRoute />\n        </PrivateRoute>\n      </Switch>\n    </Router>\n  );\n};\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { aliasesReducer } from '../features/aliasesSlice';\nimport { authReducer } from '../features/authSlice';\nimport { dnsReducer } from '../features/dnsSlice';\nimport { sslReducer } from '../features/sslSlice';\nimport { systemBackupsReducer } from '../features/system/backupsSlice';\nimport { systemPrivacyReducer } from '../features/system/privacySlice';\nimport { systemRebootReducer } from '../features/system/rebootSlice';\nimport { systemStatusReducer } from '../features/system/statusSlice';\nimport { usersReducer } from '../features/usersSlice';\nimport { webReducer } from '../features/webSlice';\n\nexport const rootReducer = combineReducers({\n  auth: authReducer,\n  system: combineReducers({\n    status: systemStatusReducer,\n    reboot: systemRebootReducer,\n    privacy: systemPrivacyReducer,\n    backups: systemBackupsReducer,\n  }),\n  dns: dnsReducer,\n  ssl: sslReducer,\n  users: usersReducer,\n  aliases: aliasesReducer,\n  web: webReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import {\n  Action,\n  configureStore,\n  getDefaultMiddleware,\n  ThunkAction,\n} from '@reduxjs/toolkit';\nimport { authMiddleware } from '../middleware/auth';\nimport { rootReducer, RootState } from './rootReducer';\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware().concat(authMiddleware),\n});\n\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>;\n\nexport type { RootState } from './rootReducer';\nexport type AppDispatch = typeof store.dispatch;\n","import { Dispatch, Middleware, MiddlewareAPI } from '@reduxjs/toolkit';\nimport { updateApiConfig } from '../api';\nimport { storageAuth } from '../auth';\nimport { updateAuth } from '../features/authSlice';\n\nexport const authMiddleware: Middleware = ({ getState }: MiddlewareAPI) => (\n  next: Dispatch\n) => (action): void => {\n  const prevState = getState();\n  const returnValue = next(action);\n  if (action.type === updateAuth.type) {\n    const { username, password, isAuthenticated, remember } = action.payload;\n    if (username && password) {\n      updateApiConfig({\n        username,\n        password,\n      });\n    }\n    if (prevState.auth.isAuthenticated !== isAuthenticated) {\n      storageAuth.setUsername(username);\n      storageAuth.setPassword(password);\n      storageAuth.persistToStorage(remember);\n    }\n  }\n  return returnValue;\n};\n","import { getTheme, initializeIcons, mergeStyles } from '@fluentui/react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { App } from './components/ui/App/App';\nimport { config } from './config';\nimport { store } from './store';\n\ninitializeIcons(/* optional base url */);\n\nmergeStyles({\n  selectors: {\n    ':global(body)': {\n      background: getTheme().palette.neutralLighter,\n    },\n    ':global(body), :global(html), :global(#app)': {\n      margin: 0,\n      padding: 0,\n      height: '100vh',\n    },\n    // Even though we can define cell styles as part of column definitions, the default cell styles\n    // still take priority. This is a hack to override the default cell styles using a parent selector.\n    ':global(.ms-DetailsRow [class^=\"DetailsRow-actions-cell\"])': {\n      padding: '0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  },\n});\n\nfunction renderApp(): void {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('app')\n  );\n}\n\nif (config.mockApi) {\n  import('./api/mockApi').then(\n    () => renderApp(),\n    () => {\n      console.error('There was an error loading the mock api');\n    }\n  );\n} else {\n  renderApp();\n}\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}