{"version":3,"sources":["router/index.ts","auth/StorageAuth.ts","auth/index.ts","features/authSlice.ts","api/index.ts","config/index.ts","forms/useFormInputs.ts","components/routes/LogoutRoute/LogoutRoute.tsx","components/ui/Body/Body.tsx","features/aliasesSlice.ts","components/ui/BodyBreadcrumb/BodyBreadcrumb.tsx","components/ui/BodyPanel/BodyPanel.tsx","features/dnsSlice.ts","components/ui/LoadingOverlay/LoadingOverlay.tsx","components/ui/LoadingOverlay/LoadingOverlayContainer.tsx","features/sslSlice.ts","components/ui/MailAliasUpsert/formData.ts","components/ui/MessageBar/MessageBar.tsx","components/ui/TextFieldWithInfo/TextFieldWithInfo.tsx","components/ui/MailAliasUpsert/MailAliasUpsert.tsx","components/ui/Pre/Pre.tsx","components/ui/MailAliasAdd/MailAliasAdd.tsx","components/ui/GroupedDetailsList/GroupedDetailsList.tsx","components/ui/DialogFooter/DialogFooter.tsx","components/ui/ActionConfirmDialog/ActionConfirmDialog.tsx","components/ui/MailAliasesList/MailAliasUpdateDialog.tsx","components/ui/MailAliasesList/MailAliasActions.tsx","components/ui/MailAliasesList/MailAliasActionsList.tsx","components/ui/MailAliasesList/MailAliasesList.tsx","components/ui/PivotRoutes/PivotRoutes.tsx","components/ui/MailAliases/MailAliases.tsx","components/routes/MainRoute/mail/MailAliasesRoute/MailAliasesRoute.tsx","features/usersSlice.ts","components/ui/MailExchangeSettingsList/MailExchangeSettingsList.tsx","components/ui/MailSettingsList/MailSettingsList.tsx","components/ui/MailInstructions/MailInstructions.tsx","components/routes/MainRoute/mail/MailInstructionsRoute/MailInstructionsRoute.tsx","components/ui/MailUserAdd/MailUserAdd.tsx","components/ui/MailUsersList/MailUserArchiveDialog.tsx","components/ui/MailUsersList/MailUserSetPasswordDialog.tsx","components/ui/MailUsersList/MailUserUpdatePrivilege.tsx","components/ui/MailUsersList/MailUserActions.tsx","components/ui/MailUsersList/MailUserActionsList.tsx","components/ui/MailUsersList/MailUsersList.tsx","components/routes/MainRoute/mail/MailUsersRoute/MailUsersSections.tsx","components/routes/MainRoute/mail/MailUsersRoute/MailUsersRoute.tsx","components/ui/SyncListBrowser/SyncListBrowser.tsx","components/ui/SyncListMobile/SyncListMobile.tsx","components/ui/SyncListMobile/SyncListMobileSettings.tsx","components/ui/SyncGuide/SyncGuide.tsx","components/routes/MainRoute/SyncGuideRoute/SyncGuideRoute.tsx","features/system/backupsSlice.ts","components/ui/BackupConfigure/types.ts","components/ui/BackupConfigure/local/BackupConfigureLocal.tsx","components/ui/BackupConfigure/local/BackupInfoLocal.tsx","components/ui/BackupConfigure/rsync/BackupConfigureRsync.tsx","components/ui/BackupConfigure/rsync/BackupInfoRsync.tsx","components/ui/BackupConfigure/s3/regionOptions.ts","components/ui/BackupConfigure/s3/BackupConfigureS3.tsx","components/ui/BackupConfigure/s3/BackupInfoS3.tsx","components/ui/BackupConfigure/BackupConfigure.tsx","components/ui/BackupsList/BackupsList.tsx","components/routes/MainRoute/system/BackupsRoute/BackupsRoute.tsx","components/ui/CertificatesList/CertificateActionsList.tsx","components/ui/CertificatesList/CertificatesList.tsx","components/routes/MainRoute/system/CertificatesRoute/CertificatesRoute.tsx","components/ui/InstallCertificate/InstallCertificateComboBoxLabel.tsx","components/ui/InstallCertificate/InstallCertificateWithCSR.tsx","components/ui/InstallCertificate/InstallCertificate.tsx","components/ui/CustomDnsAdd/recordTypes.ts","components/ui/CustomDnsAdd/CustomDnsAdd.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordActions.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordsActionsList.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordsList.tsx","components/ui/CustomDnsSecondaryNameserver/CustomDnsSecondaryNameserver.tsx","components/routes/MainRoute/system/CustomDnsRoute/CustomDnsRoute.tsx","components/ui/InfoButton/InfoButton.tsx","components/ui/DnsDumpList/DnsDumpList.tsx","components/ui/DnsZoneFileGenerator/DnsZoneFileGenerator.tsx","components/routes/MainRoute/system/ExternalDnsRoute/ExternalDnsRoute.tsx","features/system/privacySlice.ts","features/system/rebootSlice.ts","features/system/statusSlice.ts","components/ui/SystemCheckIcon/SystemCheckIcon.tsx","components/ui/SystemChecksDetailsList/SystemChecksDetailsListItem.tsx","features/webSlice.ts","components/ui/SystemChecksDetailsList/SystemChecksDetailsList.tsx","components/ui/SystemStatusActionsMenu/SystemStatusActionsMenu.tsx","components/ui/SystemStatusActions/SystemStatusActions.tsx","components/ui/SystemStatusChart/SystemStatusChart.tsx","components/routes/MainRoute/system/StatusChecksRoute/StatusChecksRoute.tsx","components/ui/WebDomainsList/WebDomainActions.tsx","components/ui/WebDomainsList/WebDomainsActionsList.tsx","components/ui/WebDomainsList/WebDomainsList.tsx","components/ui/WebInstructions/WebInstructions.tsx","components/routes/MainRoute/WebRoute/WebSections.tsx","components/routes/MainRoute/WebRoute/WebRoute.tsx","components/ui/PrimaryNav/PrimaryNav.tsx","components/ui/Header/Header.tsx","components/routes/MainRoute/MainRoute.tsx","components/ui/LoginForm/LoginForm.tsx","api/useRequest.ts","components/ui/LoginHeader/LoginHeader.tsx","components/routes/LoginRoute/LoginRoute.tsx","components/routes/PrivateRoute/PrivateRoute.tsx","components/ui/App/App.tsx","store/rootReducer.ts","store/index.ts","middleware/auth.ts","index.tsx","images/logo.png"],"names":["history","createHashHistory","STORAGE_KEY","storageAuth","credentials","username","password","isAuthenticated","this","split","Boolean","remember","localStorage","setItem","sessionStorage","removeItem","getItem","initialState","getUsername","getPassword","getIsAuthenticated","error","authSlice","createSlice","name","reducers","updateAuth","state","action","payload","actions","authReducer","reducer","apiConfigParams","basePath","middleware","apiConfig","Configuration","userApi","UserApi","systemApi","SystemApi","sslApi","SSLApi","dnsApi","DNSApi","mailApi","MailApi","webApi","WebApi","getResponseText","response","a","status","text","getRequestFailMessage","Error","message","statusText","responseText","handleRequestError","dispatch","onErrorAction","config","useFormInputs","useState","inputs","setInputs","onInputChange","useConstCallback","event","target","key","value","resetInputs","LogoutRoute","useDispatch","useEffect","clear","path","AliasActionType","Body","children","isMinMediumScreen","useMediaQuery","minWidth","ScreenWidthMinMedium","nonMobileContainerProps","gap","undefined","padding","Stack","as","styles","root","maxWidth","width","BodyBreadcrumb","props","Breadcrumb","onReduceData","marginTop","className","mergeStyles","boxShadow","getTheme","effects","elevation8","backgroundColor","palette","white","AnimationStyles","fadeIn200","BodyPanel","DNSActionType","aliases","isGettingAliases","getAliasesError","isUpsertingAlias","isRemovingAlias","upsertAliasError","upsertAliasResponse","removeAliasError","removeAliasResponse","aliasAction","getAliasesStart","getAliasesSuccess","upsertAliasStart","upsertAliasSuccess","upsertAliasReset","upsertAliasResetError","resetAliasAction","type","setAliasAction","removeAliasStart","removeAliasSuccess","removeAliasReset","aliasesReducer","selectAliasesWithGroups","groups","forEach","aliasDomain","domain","aliasesByDomain","push","startIndex","length","level","count","getAliases","showProgress","getMailAliases","format","MailAliasesResponseFormat","Json","result","LoadingOverlay","loadingLabel","hasLoaded","Overlay","zIndex","display","alignItems","justifyContent","ProgressIndicator","label","LoadingOverlayContainer","style","position","dns","isGettingSecondaryNameserver","isGettingZones","isGettingCustomRecords","isGettingDump","isAddingCustomRecord","isAddingSecondaryNameserver","isRemovingCustomRecord","secondaryNameserver","hostnames","dump","zones","customRecords","addCustomRecordResponse","addSecondaryNameserverResponse","removeCustomRecordResponse","getSecondaryNameserverError","getZonesError","getCustomRecordsError","getDumpError","addCustomRecordError","addSecondaryNameserverError","removeCustomRecordError","dnsAction","getDumpStart","getDumpSuccess","getSecondaryNameserverStart","getSecondaryNameserverSuccess","getZonesStart","getZonesSuccess","getCustomRecordsStart","getCustomRecordsSuccess","addCustomRecordStart","addCustomRecordSuccess","addCustomRecordResetError","addCustomRecordReset","removeCustomRecordStart","removeCustomRecordSuccess","removeCustomRecordResetError","removeCustomRecordReset","addSecondaryNameserverStart","addSecondaryNameserverSuccess","addSecondaryNameserverResetError","addSecondaryNameserverReset","resetDNSAction","setDNSAction","dnsReducer","sort","b","qname","rtype","localeCompare","reverseFqdn","record","reverse","join","SSLActionType","selectCustomRecordsWithGroups","records","slice","map","selectCustomRecordsSorted","i","parsed","psl","parse","isCollapsed","group","index","selectDumpWithGroups","dnsDomains","domainName","dnsRecords","getSecondaryNameserver","getDnsSecondaryNameserver","getCustomRecords","getDnsCustomRecords","getDump","getDnsDump","AliasType","SenderType","ssl","isGettingStatus","isGeneratingCSR","isInstallingCertificate","sslStatus","canProvision","generateCSRResponse","installCertificateResponse","getStatusError","generateCSRError","installCertificateError","sslAction","getSSLStatusStart","getSSLStatusSuccess","getSSLStatusError","generateCSRStart","generateCSRSuccess","generateCSRReset","installCertificateStart","installCertificateSuccess","installCertificateReset","resetSSLAction","setSSLAction","sslReducer","getSSLStatus","messageBarClassName","fadeIn400","MessageBar","animate","rest","propsWithAnimation","dismissButtonAriaLabel","theme","iconButtonClassName","marginBottom","TextFieldWithInfo","defaultRender","useBoolean","isCalloutVisible","toggleIsCalloutVisible","toggle","iconButtonId","useId","horizontal","verticalAlign","IconButton","id","title","ariaLabel","iconProps","iconName","onClick","Callout","onDismiss","role","horizontalAlign","Text","calloutText","onRenderTextFieldLabel","textfieldWithLabelInfoStyles","subComponentStyles","selectors","paddingRight","spacing","s2","formData","regular","alias","placeholder","info","forwardsTo","permittedSenders","any","manual","catchAll","domainAlias","columnClassName","flexBasis","initialFormState","address","updateIfExists","MailAliasUpsert","updateAlias","useSelector","charAt","getInitialAliasType","aliasType","setAliasType","senderType","setSenderType","senderTypeOptions","onSenderTypeChange","_event","option","onPivotLinkClick","item","ev","itemKey","onErrorMessageBarDismiss","onForwardsToRenderLabel","useMemo","grow","onSubmit","preventDefault","upsertMailAlias","upsertAlias","messageBarType","MessageBarType","isMultiline","Pivot","linkSize","PivotLinkSize","normal","linkFormat","PivotLinkFormat","tabs","onLinkClick","selectedKey","Object","keys","PivotItem","headerText","headerButtonProps","disabled","s1","TextField","required","description","fonts","small","onChange","autoFocus","multiline","rows","onRenderLabel","ChoiceGroup","options","m","fontFamily","neutralLighterAlt","borderColor","semanticColors","variantBorder","borderRadius","roundedCorner2","borderWidth","borderStyle","overflow","textOverflow","margin","Pre","block","dialogContentProps","DialogType","largeHeader","modalProps","isBlocking","MailAliasAdd","isDialogHidden","setIsDialogHidden","hasDialogOpened","setHasDialogOpened","isMinLargeScreen","ScreenWidthMinLarge","onDialogDismissed","onDialogClose","Dialog","hidden","onDismissed","PrimaryButton","Link","href","onRenderRow","DetailsRow","GroupHeader","React","memo","onToggleGroupCollapse","toggleCollapse","onToggleCollapse","GroupedDetailsList","openedGroupsState","openedGroups","setOpenedGroups","hasExpandedAllGroups","setHasExpandedAllGroups","useCallback","groupKey","collapse","splice","indexOf","onToggleGroupCollapseAll","groupsWithCollapsedState","DetailsList","layoutMode","DetailsListLayoutMode","justified","selectionMode","SelectionMode","none","constrainMode","ConstrainMode","horizontalConstrained","isHeaderVisible","onShouldVirtualize","items","onRenderDetailsHeader","detailsHeaderProps","onToggleCollapseAll","paddingTop","groupProps","isAllGroupsCollapsed","onRenderHeader","DialogFooter","isLoading","Spinner","size","SpinnerSize","medium","ActionConfirmDialog","onConfirm","confirmButtonText","actionResponse","DefaultButton","updateAliasDialogContentProps","MailAliasUpdateDialog","dialogProps","onDialogCloseButtonClick","dialogWidth","MailAliasActions","onActionDialogDismiss","remove","removeMailAlias","addressDisplay","update","MailAliasActionsList","doAction","menuIconProps","menuIcon","fontWeight","aria-haspopup","aria-label","menuProps","directionalHint","DirectionalHint","bottomRightEdge","columns","isRowHeader","fieldName","onRender","console","log","forwardToAddress","permittedSender","isPadded","displayName","MailAliasesList","overflowX","overflowY","PivotRoutes","useHistory","useLocation","pathname","refs","createRef","findIndex","current","scrollIntoView","behavior","inline","large","onRenderItemLink","ref","MailAliases","useRouteMatch","url","pivotItems","exact","MailAliasesRoute","UserActionType","hostname","MailExchangeSettingsList","compact","MailSettingsList","MailInstructions","isMinXLargeScreen","ScreenWidthMinXLarge","variant","MailInstructionsRoute","tooltipId","TooltipHost","content","users","isGettingUsers","getUsersError","isUpdatingUser","isAddingUser","updateUserError","updateUserResponse","userAction","addUserResponse","addUserError","getUsersStart","getUsersSuccess","updateUserStart","updateUserSuccess","updateUserReset","setUserAction","resetUserAction","addUserStart","addUserSuccess","addUserReset","addUserResetError","usersReducer","selectUsersWithGroups","mailUsers","userDomain","usersByDomain","getUsers","getMailUsers","MailUsersResponseFormat","privilegeOptions","MailUserPrivilege","Empty","Admin","email","privilege","MailUserAdd","warning","truncated","addMailUser","privileges","Dropdown","MailUserArchiveDialog","auth","archiveSelfErrorDialogHidden","setArchiveSelfErrorDialogHidden","updateSelfError","user","removeMailUser","changePasswordDialogContentProps","MailUserSetPasswordDialog","setPassword","onPasswordChange","newValue","updateSelf","setMailUserPassword","setUserPassword","modifyPrivilegesDialogContentProps","MailUserUpdatePrivilege","onDialogDismiss","removeSelfErrorDialogHidden","setRemoveSelfErrorDialogHidden","removeAdminDialogHidden","removeAdminPrivilege","addAdminDialogHidden","addAdminPrivilege","removeMailUserPrivilege","addMailUserPrivilege","MailUserActions","archive","MailUserActionsList","includes","MailUserStatus","Inactive","textDecoration","mailbox","Active","MailUsersList","MailUsersSections","MailUsersRoute","SyncListBrowser","SyncListMobile","SyncListMobileSettings","SyncGuide","SyncGuideRoute","BackupType","systemBackups","isGettingConfig","isUpdatingConfig","backups","unmatchedFileSize","encPwFile","fileTargetDirectory","minAgeInDays","sshPubKey","updateConfigResponse","getConfigError","updateConfigError","getStatusStart","getStatusSuccess","getConfigStart","getConfigSuccess","updateConfigStart","updateConfigSuccess","updateConfigResetError","updateConfigReset","systemBackupsReducer","getStatus","getSystemBackupStatus","BackupConfigureLocal","backupConfig","daysDescription","onConfigChange","String","days","setDays","onDaysRenderLabel","local","targetUser","targetPass","minAge","Number","min","step","BackupInfoLocal","BackupConfigureRsync","isCurrentType","targetPath","substring","targetHostParts","shift","onSSHKeyRenderLabel","readOnly","BackupInfoRsync","s3RegionOptions","BackupConfigureS3","host","region","find","regionOption","accessKey","secretAccessKey","BackupInfoS3","backupOptions","off","rsync","s3","BackupConfigure","system","backupType","selectedBackupOption","backupOption","setBackupOption","updateBackupConfig","setUpdateBackupConfig","onBackupOptionChange","onBackupConfigChange","onMessageBarDismiss","updateSystemBackupConfig","updateConfig","niceSize","bytes","powers","Math","round","strongCellClassName","full","dateStr","dateDelta","deletedIn","BackupsList","reduce","total","getTotalBackupsSize","BackupSections","BackupsRoute","getSystemBackupConfig","CertificateActionsList","SSLStatusType","Success","install","SectionKeys","isResizable","textColor","greenDark","Danger","redDark","NotApplicable","bodyText","getTextColor","color","CertificatesList","useReducedRowRenderer","animation","InstallCertificateComboBoxLabel","descriptionId","setInitialFocus","ariaDescribedBy","defaultInstallCertificateRequest","cert","chain","installOkRegEx","InstallCertificateWithCSR","countryCode","installCertificateRequest","setInstallCertificateRequest","countrycode","generateSSLCSR","generateCSR","dialogContent","test","request","installSSLCertificate","countries","getCodeList","countriesList","toUpperCase","comboBoxStyles","onRenderComboBoxLabel","country","InstallCertificate","onComboboxChange","onDomainRenderLabel","onCountryRenderLabel","ComboBox","allowFreeform","autoComplete","VirtualizedComboBox","dropdownMaxWidth","useComboBoxAsMenuWidth","CertificateSections","location","pivotRoutes","CertificatesRoute","recordTypes","DNSRecordType","A","hint","AAAA","CAA","CNAME","TXT","MX","SRV","SSHFP","NS","recordTypeOptions","CustomDnsAdd","zoneOptions","zone","onDropdownChange","customRecordRequest","body","addDnsCustomRecord","CustomDnsRecordActions","dnsRecord","removeDnsCustomRecord","CustomDnsRecordsActionsList","CustomDnsRecordsList","CustomDnsSecondaryNameserver","setHostname","onHostnameChange","secondaryNameserverRequest","addDnsSecondaryNameserver","CustomDnsSections","getDnsZones","CustomDnsRoute","InfoButton","showCloseButton","iconButtonStyles","isIconOnly","explanation","height","icon","fontSize","FontSizes","xLarge","DnsDumpList","DnsZoneFileGenerator","Label","Checkbox","checked","CommandBar","paddingLeft","ExternalDnsSections","ExternalDnsRoute","systemPrivacy","isGettingPrivacy","isUpdatingPrivacy","getPrivacyError","updatePrivacyError","getPrivacyStart","getPrivacySuccess","updatePrivacyStart","updatePrivacySuccess","privacy","systemPrivacyReducer","systemReboot","isGettingRebootStatus","getRebootStatusError","getRebootStatusStart","getRebootStatusSuccess","systemRebootReducer","systemStatus","systemStatusReducer","selectSystemStatusItemsAndGroups","entries","statusEntry","isHeadingEntry","StatusEntryType","Heading","selectSummarisedChecks","createSelector","summary","Ok","Warning","getIconName","getIconColor","green","red","yellowDark","SystemCheckIcon","Icon","WebDomainActionType","extrasClassName","fadeIn500","SystemChecksDetailsListItem","extra","setIsCollapsed","extraItem","monospace","SystemChecksDetailsList","headerProps","headerCount","collapseAllVisibility","CollapseAllVisibility","calloutProps","gapSpace","actionButtonContainerStyles","onRenderItem","button","CommandBarButton","textAlign","tooltip","delay","TooltipDelay","zero","topCenter","onRenderOverflowButton","SystemStatusActionsMenu","privacyStatus","rebootStatus","reboot","OverflowSet","vertical","elevation4","updateSystemPrivacy","SystemPrivacyStatus","Private","Off","SystemStatusActions","success","SystemStatusChart","summarisedChecks","data","chartTitle","chartData","legend","xAxisCalloutData","yellow","DonutChart","innerRadius","legendsOverflowText","legendsOverflowProps","overflowSide","hideLegend","StatusChecksRoute","getSystemStatus","getSystemRebootStatus","getSystemPrivacyStatus","web","isGettingDomains","domains","getDomainsError","domainAction","isUpdatingWeb","updateWebError","updateWebResponse","getDomainsStart","getDomainsSuccess","updateWebStart","updateWebSuccess","updateWebReset","resetDomainAction","setDomainAction","webReducer","sortByFqdn","domainWithoutSubDomain","subDomain","selectOrderedAndGroupedStaticEnabledDomains","filter","webDomain","staticEnabled","subdomain","WebDomainActions","onActionDialogDismissed","updateWeb","customRoot","WebDomainsActionsList","WebDomainsList","getWebDomains","WebInstructions","WebSections","WebRoute","PrimaryNav","farItems","subMenuProps","itemType","ContextualMenuItemType","Section","sectionProps","topDivider","bottomDivider","alignSelf","bodyBackground","Header","Item","Image","src","logo","alt","disableShrink","nowrap","MainRoute","LoginRoute","to","mockApi","random","toString","LoginForm","queryFunc","responseHandler","setResponse","setError","setIsLoading","then","err","finally","reset","useRequest","getMe","MeAuthStatus","reason","apiKey","checkLogin","requestError","authError","LoginHeader","slideUpIn20","animationDuration","verticalFill","PrivateRoute","render","from","App","rootReducer","combineReducers","store","configureStore","getDefaultMiddleware","concat","getState","next","prevState","returnValue","assign","setUsername","persistToStorage","renderApp","ReactDOM","StrictMode","document","getElementById","initializeIcons","background","neutralLighter","module","exports"],"mappings":"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","file":"static/js/main.16ef14ab.chunk.js","sourcesContent":["import { createHashHistory } from 'history';\nexport const history = createHashHistory();\n","export const STORAGE_KEY = 'miab-cp-credentials';\nexport const CREDENTIALS_SEPERATOR = ':';\n\nfunction buildStorageCredentials(username: string, password: string): string {\n  return `${username}${CREDENTIALS_SEPERATOR}${password}`;\n}\n\nexport class StorageAuth {\n  private username: string;\n  private password: string;\n  private isAuthenticated = false;\n  constructor(private readonly credentials: string) {\n    const [username = '', password = ''] = this.credentials.split(\n      CREDENTIALS_SEPERATOR\n    );\n    this.username = username;\n    this.password = password;\n    this.isAuthenticated = Boolean(username && password);\n  }\n\n  getUsername(): string {\n    return this.username;\n  }\n\n  getPassword(): string {\n    return this.password;\n  }\n\n  setUsername(username: string): void {\n    this.username = username;\n  }\n\n  setPassword(password: string): void {\n    this.password = password;\n  }\n\n  getIsAuthenticated(): boolean {\n    return this.isAuthenticated;\n  }\n\n  persistToStorage(remember: boolean): void {\n    const credentials = buildStorageCredentials(this.username, this.password);\n    if (remember) {\n      localStorage.setItem(STORAGE_KEY, credentials);\n      sessionStorage.removeItem(STORAGE_KEY);\n    } else {\n      localStorage.removeItem(STORAGE_KEY);\n      sessionStorage.setItem(STORAGE_KEY, credentials);\n    }\n  }\n\n  clear(): void {\n    localStorage.removeItem(STORAGE_KEY);\n    sessionStorage.removeItem(STORAGE_KEY);\n  }\n}\n","import { CREDENTIALS_SEPERATOR, StorageAuth, STORAGE_KEY } from './StorageAuth';\n\nexport const storageAuth = new StorageAuth(\n  sessionStorage.getItem(STORAGE_KEY) ||\n    localStorage.getItem(STORAGE_KEY) ||\n    CREDENTIALS_SEPERATOR\n);\n","import { createSlice } from '@reduxjs/toolkit';\nimport { storageAuth } from '../auth';\n\nexport interface AuthState {\n  username: string;\n  password: string;\n  isAuthenticated: boolean;\n  error: string | null;\n}\n\nconst initialState: AuthState = {\n  username: storageAuth.getUsername(),\n  password: storageAuth.getPassword(),\n  isAuthenticated: storageAuth.getIsAuthenticated(),\n  error: '',\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    updateAuth: (state, action): void => {\n      const {\n        username,\n        password,\n        isAuthenticated,\n        error = null,\n      } = action.payload;\n      state.username = username;\n      state.password = password;\n      state.isAuthenticated = !!isAuthenticated;\n      state.error = error;\n    },\n  },\n});\n\nexport const { updateAuth } = authSlice.actions;\n\nexport const { reducer: authReducer } = authSlice;\n","import { ActionCreatorWithPayload } from '@reduxjs/toolkit';\nimport {\n  Configuration,\n  ConfigurationParameters,\n  DNSApi,\n  MailApi,\n  SSLApi,\n  SystemApi,\n  UserApi,\n  WebApi,\n} from 'mailinabox-api';\nimport { storageAuth } from '../auth';\nimport { updateAuth } from '../features/authSlice';\nimport { AppDispatch } from '../store';\n\nconst apiConfigParams: ConfigurationParameters = {\n  basePath: '/admin',\n  username: storageAuth.getUsername(),\n  password: storageAuth.getPassword(),\n  middleware: [],\n};\n\nconst apiConfig = new Configuration(apiConfigParams);\n\nexport const userApi = new UserApi(apiConfig);\nexport const systemApi = new SystemApi(apiConfig);\nexport const sslApi = new SSLApi(apiConfig);\nexport const dnsApi = new DNSApi(apiConfig);\nexport const mailApi = new MailApi(apiConfig);\nexport const webApi = new WebApi(apiConfig);\n\nexport function updateApiConfig(config: ConfigurationParameters): void {\n  Object.assign(apiConfigParams, config);\n}\n\nasync function getResponseText(response: Response): Promise<string | null> {\n  const { status } = response;\n  // Prevent returning the generic web server response for server errors\n  // as it might contain large chunks of unwanted HTML\n  if (status >= 500 && status <= 599) {\n    return null;\n  }\n  return await response.text();\n}\n\nexport async function getRequestFailMessage(\n  response: Response | Error\n): Promise<string> {\n  if (response instanceof Error) {\n    return response.message;\n  }\n  const { statusText, status } = response;\n  const responseText = await getResponseText(response);\n  return (\n    responseText ||\n    `Request error: ${statusText}${status ? ' (' + status + ')' : ''}`\n  );\n}\n\nexport async function handleRequestError(\n  response: Response | Error,\n  dispatch: AppDispatch,\n  onErrorAction: ActionCreatorWithPayload<unknown>\n): Promise<void> {\n  if (!(response instanceof Error) && response.status === 403) {\n    dispatch(\n      updateAuth({\n        username: '',\n        password: '',\n        isAuthenticated: false,\n        error: 'Your token is no longer valid.',\n      })\n    );\n  } else {\n    dispatch(onErrorAction(await getRequestFailMessage(response)));\n  }\n}\n","import configJson from './config.json';\nimport { Config } from './types';\n\nexport const config: Config = configJson;\n","import { useConstCallback } from '@uifabric/react-hooks';\nimport { Dispatch, SetStateAction, useState } from 'react';\n\ntype FormField = HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;\n\ninterface FormInputsReturnType<T> {\n  onInputChange: (\n    event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => void;\n  inputs: T;\n  setInputs: Dispatch<SetStateAction<T>>;\n  resetInputs: () => void;\n}\n\nexport function useFormInputs<T>(initialState: T): FormInputsReturnType<T> {\n  const [inputs, setInputs] = useState<T>(initialState);\n\n  const onInputChange = useConstCallback(\n    (event: React.SyntheticEvent<FormField>): void => {\n      const { name: key, value } = event.target as FormField;\n      if (!(key in initialState)) {\n        throw new Error('Invalid key: ' + key);\n      }\n      setInputs((inputs) => ({\n        ...inputs,\n        [key]: value,\n      }));\n    }\n  );\n\n  const resetInputs = useConstCallback((): void => {\n    setInputs(initialState);\n  });\n\n  return {\n    inputs,\n    setInputs,\n    onInputChange,\n    resetInputs,\n  };\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { storageAuth } from '../../../auth';\nimport { updateAuth } from '../../../features/authSlice';\n\nexport const LogoutRoute: React.FunctionComponent & { path: string } = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    storageAuth.clear();\n    dispatch(\n      updateAuth({ username: '', password: '', isAuthenticated: false })\n    );\n  });\n  return null;\n};\n\nLogoutRoute.path = '/logout';\n","import { ScreenWidthMinMedium, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nexport const Body: React.FunctionComponent = ({ children }) => {\n  const isMinMediumScreen = useMediaQuery({\n    minWidth: ScreenWidthMinMedium,\n  });\n\n  const nonMobileContainerProps = {\n    gap: isMinMediumScreen ? 'l1' : undefined,\n    padding: isMinMediumScreen ? '0 m l2 m' : '0 m m m ',\n  };\n  return (\n    <Stack\n      as=\"main\"\n      styles={{\n        root: {\n          maxWidth: 1170,\n          width: '100%',\n        },\n      }}\n      {...nonMobileContainerProps}\n    >\n      {children}\n    </Stack>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  MailAlias,\n  MailAliasByDomain,\n  MailAliasesResponseFormat,\n  UpsertMailAliasRequest,\n} from 'mailinabox-api';\nimport { handleRequestError, mailApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum AliasActionType {\n  remove,\n  update,\n}\n\nexport interface AliasAction {\n  alias?: MailAlias;\n  type?: AliasActionType;\n}\n\nexport interface AliasesState {\n  isGettingAliases: boolean;\n  aliases: Array<MailAliasByDomain>;\n  getAliasesError: string | null;\n  isUpsertingAlias: boolean;\n  isRemovingAlias: boolean;\n  upsertAliasError: string | null;\n  upsertAliasResponse: string | null;\n  removeAliasError: string | null;\n  removeAliasResponse: string | null;\n  aliasAction: AliasAction | null;\n}\n\nconst initialState: AliasesState = {\n  isGettingAliases: false,\n  aliases: [],\n  getAliasesError: null,\n  isUpsertingAlias: false,\n  isRemovingAlias: false,\n  upsertAliasError: null,\n  upsertAliasResponse: null,\n  removeAliasError: null,\n  removeAliasResponse: null,\n  aliasAction: null,\n};\n\nexport const aliases = createSlice({\n  name: 'aliases',\n  initialState,\n  reducers: {\n    getAliasesStart: (state): void => {\n      state.getAliasesError = null;\n      state.isGettingAliases = true;\n    },\n    getAliasesSuccess: (state, action): void => {\n      state.isGettingAliases = false;\n      state.aliases = action.payload;\n    },\n    getAliasesError: (state, action): void => {\n      state.getAliasesError = action.payload;\n      state.isGettingAliases = false;\n    },\n    upsertAliasStart: (state): void => {\n      state.isUpsertingAlias = true;\n      state.upsertAliasError = null;\n    },\n    upsertAliasSuccess: (state, action): void => {\n      state.isUpsertingAlias = false;\n      state.upsertAliasResponse = action.payload;\n    },\n    upsertAliasError: (state, action): void => {\n      state.upsertAliasError = action.payload;\n      state.isUpsertingAlias = false;\n    },\n    upsertAliasReset: (state): void => {\n      state.isUpsertingAlias = false;\n      state.upsertAliasError = null;\n      state.upsertAliasResponse = null;\n    },\n    upsertAliasResetError: (state): void => {\n      state.upsertAliasError = null;\n    },\n    resetAliasAction: (state): void => {\n      state.aliasAction = {\n        ...state.aliasAction,\n        type: undefined,\n      };\n    },\n    setAliasAction: (state, action): void => {\n      state.aliasAction = action.payload;\n    },\n    removeAliasStart: (state): void => {\n      state.isRemovingAlias = true;\n      state.removeAliasError = null;\n    },\n    removeAliasSuccess: (state, action): void => {\n      state.isRemovingAlias = false;\n      state.removeAliasResponse = action.payload;\n    },\n    removeAliasError: (state, action): void => {\n      state.removeAliasError = action.payload;\n      state.isRemovingAlias = false;\n    },\n    removeAliasReset: (state): void => {\n      state.removeAliasError = null;\n      state.isRemovingAlias = false;\n      state.removeAliasResponse = null;\n    },\n  },\n});\n\nexport const {\n  getAliasesSuccess,\n  getAliasesStart,\n  getAliasesError,\n  upsertAliasStart,\n  upsertAliasSuccess,\n  upsertAliasError,\n  upsertAliasReset,\n  upsertAliasResetError,\n  resetAliasAction,\n  setAliasAction,\n  removeAliasStart,\n  removeAliasSuccess,\n  removeAliasError,\n  removeAliasReset,\n} = aliases.actions;\n\nexport const { reducer: aliasesReducer } = aliases;\n\nexport const selectAliasesWithGroups = (\n  state: RootState\n): [Array<MailAlias>, Array<IGroup>] => {\n  const aliases: Array<MailAlias> = [];\n  const groups: Array<IGroup> = [];\n  state.aliases.aliases.forEach((aliasDomain: MailAliasByDomain) => {\n    const { domain, aliases: aliasesByDomain } = aliasDomain;\n    groups.push({\n      key: 'group' + domain,\n      name: domain,\n      startIndex: aliases.length,\n      level: 0,\n      count: aliasesByDomain.length,\n    });\n    aliases.push(...aliasesByDomain);\n  });\n  return [aliases, groups];\n};\n\nexport const getAliases = (showProgress = true): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  if (showProgress) {\n    dispatch(getAliasesStart());\n  }\n  try {\n    const result = await mailApi.getMailAliases({\n      format: MailAliasesResponseFormat.Json,\n    });\n    dispatch(getAliasesSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getAliasesError);\n  }\n};\n\nexport const upsertAlias = (alias: UpsertMailAliasRequest): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(upsertAliasStart());\n  try {\n    const result = await mailApi.upsertMailAlias(alias);\n    dispatch(upsertAliasSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, upsertAliasError);\n  }\n};\n\nexport const removeAlias = (address: string): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(removeAliasStart());\n  try {\n    const result = await mailApi.removeMailAlias({\n      address,\n    });\n    dispatch(removeAliasSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, removeAliasError);\n  }\n};\n","import { Breadcrumb, IBreadcrumbProps } from '@fluentui/react';\nimport React from 'react';\n\nexport const BodyBreadcrumb: React.FunctionComponent<IBreadcrumbProps> = (\n  props\n) => {\n  return (\n    <Breadcrumb\n      onReduceData={(): undefined => undefined}\n      styles={{\n        root: {\n          marginTop: 0,\n          width: '100%',\n        },\n      }}\n      {...props}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  getTheme,\n  IStackProps,\n  mergeStyles,\n  Stack,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst className = mergeStyles({\n  boxShadow: getTheme().effects.elevation8,\n  backgroundColor: getTheme().palette.white,\n  ...AnimationStyles.fadeIn200,\n});\n\nexport const BodyPanel: React.FunctionComponent<IStackProps> = ({\n  children,\n  ...props\n}) => {\n  return (\n    <Stack as=\"section\" padding=\"m\" gap=\"m\" className={className} {...props}>\n      {children}\n    </Stack>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  AddDnsCustomRecordRequest,\n  AddDnsSecondaryNameserverRequest,\n  DNSCustomRecord,\n  DNSDumpDomainRecord,\n  DNSDumpDomains,\n  DNSDumpResponse,\n  DNSSecondaryNameserverResponse,\n  RemoveDnsCustomRecordRequest,\n} from 'mailinabox-api';\nimport psl from 'psl';\nimport { dnsApi, handleRequestError } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum DNSActionType {\n  remove,\n}\n\nexport interface DNSAction {\n  dnsRecord?: DNSCustomRecord;\n  type?: DNSActionType;\n}\n\nexport interface SSLState {\n  isGettingSecondaryNameserver: boolean;\n  isGettingZones: boolean;\n  isGettingCustomRecords: boolean;\n  isGettingDump: boolean;\n  isAddingCustomRecord: boolean;\n  isAddingSecondaryNameserver: boolean;\n  isRemovingCustomRecord: boolean;\n  secondaryNameserver: DNSSecondaryNameserverResponse;\n  zones: Array<string>;\n  customRecords: Array<DNSCustomRecord>;\n  dump: DNSDumpResponse;\n  addCustomRecordResponse: string | null;\n  addSecondaryNameserverResponse: string | null;\n  removeCustomRecordResponse: string | null;\n  getSecondaryNameserverError: string | null;\n  getZonesError: string | null;\n  getCustomRecordsError: string | null;\n  getDumpError: string | null;\n  addCustomRecordError: string | null;\n  addSecondaryNameserverError: string | null;\n  removeCustomRecordError: string | null;\n  dnsAction: DNSAction | null;\n}\n\nconst initialState: SSLState = {\n  isGettingSecondaryNameserver: false,\n  isGettingZones: false,\n  isGettingCustomRecords: false,\n  isGettingDump: false,\n  isAddingCustomRecord: false,\n  isAddingSecondaryNameserver: false,\n  isRemovingCustomRecord: false,\n  secondaryNameserver: {\n    hostnames: [],\n  },\n  dump: [],\n  zones: [],\n  customRecords: [],\n  addCustomRecordResponse: null,\n  addSecondaryNameserverResponse: null,\n  removeCustomRecordResponse: null,\n  getSecondaryNameserverError: null,\n  getZonesError: null,\n  getCustomRecordsError: null,\n  getDumpError: null,\n  addCustomRecordError: null,\n  addSecondaryNameserverError: null,\n  removeCustomRecordError: null,\n  dnsAction: null,\n};\n\nexport const dns = createSlice({\n  name: 'dns',\n  initialState,\n  reducers: {\n    getDumpStart: (state): void => {\n      state.getDumpError = null;\n      state.isGettingDump = true;\n    },\n    getDumpSuccess: (state, action): void => {\n      state.isGettingDump = false;\n      state.dump = action.payload;\n    },\n    getDumpError: (state, action): void => {\n      state.isGettingDump = false;\n      state.getDumpError = action.payload;\n    },\n    getSecondaryNameserverStart: (state): void => {\n      state.getSecondaryNameserverError = null;\n      state.isGettingSecondaryNameserver = true;\n    },\n    getSecondaryNameserverSuccess: (state, action): void => {\n      state.isGettingSecondaryNameserver = false;\n      state.secondaryNameserver = action.payload;\n    },\n    getSecondaryNameserverError: (state, action): void => {\n      state.isGettingSecondaryNameserver = false;\n      state.getSecondaryNameserverError = action.payload;\n    },\n    getZonesStart: (state): void => {\n      state.getZonesError = null;\n      state.isGettingZones = true;\n    },\n    getZonesSuccess: (state, action): void => {\n      state.isGettingZones = false;\n      state.zones = action.payload;\n    },\n    getZonesError: (state, action): void => {\n      state.isGettingZones = false;\n      state.getZonesError = action.payload;\n    },\n    getCustomRecordsStart: (state): void => {\n      state.getCustomRecordsError = null;\n      state.isGettingCustomRecords = true;\n    },\n    getCustomRecordsSuccess: (state, action): void => {\n      state.isGettingCustomRecords = false;\n      state.customRecords = action.payload;\n    },\n    getCustomRecordsError: (state, action): void => {\n      state.isGettingCustomRecords = false;\n      state.getCustomRecordsError = action.payload;\n    },\n    addCustomRecordStart: (state): void => {\n      state.addCustomRecordError = null;\n      state.isAddingCustomRecord = true;\n    },\n    addCustomRecordSuccess: (state, action): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordResponse = action.payload;\n    },\n    addCustomRecordError: (state, action): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordError = action.payload;\n    },\n    addCustomRecordResetError: (state): void => {\n      state.addCustomRecordError = null;\n    },\n    addCustomRecordReset: (state): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordError = null;\n      state.addCustomRecordResponse = null;\n    },\n    removeCustomRecordStart: (state): void => {\n      state.removeCustomRecordError = null;\n      state.isRemovingCustomRecord = true;\n    },\n    removeCustomRecordSuccess: (state, action): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordResponse = action.payload;\n    },\n    removeCustomRecordError: (state, action): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordError = action.payload;\n    },\n    removeCustomRecordResetError: (state): void => {\n      state.removeCustomRecordError = null;\n    },\n    removeCustomRecordReset: (state): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordError = null;\n      state.removeCustomRecordResponse = null;\n    },\n    addSecondaryNameserverStart: (state): void => {\n      state.addSecondaryNameserverError = null;\n      state.isAddingSecondaryNameserver = true;\n    },\n    addSecondaryNameserverSuccess: (state, action): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverResponse = action.payload;\n    },\n    addSecondaryNameserverError: (state, action): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverError = action.payload;\n    },\n    addSecondaryNameserverResetError: (state): void => {\n      state.addSecondaryNameserverError = null;\n    },\n    addSecondaryNameserverReset: (state): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverError = null;\n      state.addSecondaryNameserverResponse = null;\n    },\n    resetDNSAction: (state): void => {\n      state.dnsAction = {\n        ...state.dnsAction,\n        type: undefined,\n      };\n    },\n    setDNSAction: (state, action): void => {\n      state.dnsAction = action.payload;\n    },\n  },\n});\n\nexport const {\n  getSecondaryNameserverStart,\n  getSecondaryNameserverSuccess,\n  getSecondaryNameserverError,\n  getZonesStart,\n  getZonesSuccess,\n  getZonesError,\n  getCustomRecordsStart,\n  getCustomRecordsSuccess,\n  getCustomRecordsError,\n  getDumpStart,\n  getDumpSuccess,\n  getDumpError,\n  addCustomRecordStart,\n  addCustomRecordSuccess,\n  addCustomRecordError,\n  addCustomRecordResetError,\n  addCustomRecordReset,\n  addSecondaryNameserverStart,\n  addSecondaryNameserverSuccess,\n  addSecondaryNameserverError,\n  addSecondaryNameserverResetError,\n  addSecondaryNameserverReset,\n  removeCustomRecordStart,\n  removeCustomRecordSuccess,\n  removeCustomRecordError,\n  removeCustomRecordResetError,\n  removeCustomRecordReset,\n  resetDNSAction,\n  setDNSAction,\n} = dns.actions;\n\nexport const { reducer: dnsReducer } = dns;\n\nfunction sort(a: DNSCustomRecord, b: DNSCustomRecord): number {\n  if (a.qname === b.qname) {\n    if (a.rtype === b.rtype) {\n      return a.value.localeCompare(b.value);\n    }\n    return a.rtype.localeCompare(b.rtype);\n  }\n  return a.qname.localeCompare(b.qname);\n}\n\nfunction reverseFqdn(record: DNSCustomRecord): DNSCustomRecord {\n  return {\n    ...record,\n    qname: record.qname.split('.').reverse().join('.'),\n  };\n}\n\nexport const selectCustomRecordsSorted = (\n  state: RootState\n): Array<DNSCustomRecord> => {\n  return state.dns.customRecords\n    .slice()\n    .map(reverseFqdn)\n    .sort(sort)\n    .map(reverseFqdn);\n};\n\nexport const selectCustomRecordsWithGroups = (\n  state: RootState\n): [Array<DNSCustomRecord>, Array<IGroup>] => {\n  const records = selectCustomRecordsSorted(state);\n  let groups: Array<IGroup> = [];\n\n  records.forEach((record: DNSCustomRecord, i: number) => {\n    const parsed = psl.parse(record.qname);\n    if (parsed.error || !parsed.domain) {\n      return;\n    }\n    const { domain } = parsed;\n    if (groups[groups.length - 1]?.name !== domain) {\n      groups.push({\n        key: 'customDnsGroup' + domain,\n        name: domain,\n        startIndex: i,\n        isCollapsed: false,\n        level: 0,\n        count: 0,\n      });\n    }\n  });\n\n  groups = groups.map((group, index) => {\n    return {\n      ...group,\n      count:\n        (groups[index + 1]?.startIndex || records.length) - group.startIndex,\n    };\n  });\n\n  return [records, groups];\n};\n\nexport const selectDumpWithGroups = (\n  state: RootState\n): [Array<DNSDumpDomainRecord>, Array<IGroup>] => {\n  const { dump } = state.dns;\n  const records: Array<DNSDumpDomainRecord> = [];\n  const groups: Array<IGroup> = [];\n\n  dump.forEach((dnsDomains: DNSDumpDomains) => {\n    const [domainName, dnsRecords] = dnsDomains;\n    groups.push({\n      key: 'dnsDumpGroup' + domainName,\n      name: domainName as string,\n      startIndex: records.length,\n      isCollapsed: false,\n      level: 0,\n      count: dnsRecords.length,\n    });\n    records.push(...(dnsRecords as Array<DNSDumpDomainRecord>));\n  });\n\n  return [records, groups];\n};\n\nexport const getSecondaryNameserver = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getSecondaryNameserverStart());\n  try {\n    const result = await dnsApi.getDnsSecondaryNameserver();\n    dispatch(getSecondaryNameserverSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getSecondaryNameserverError);\n  }\n};\n\nexport const getZones = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getZonesStart());\n  try {\n    const result = await dnsApi.getDnsZones();\n    dispatch(getZonesSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getZonesError);\n  }\n};\n\nexport const getCustomRecords = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getCustomRecordsStart());\n  try {\n    const result = await dnsApi.getDnsCustomRecords();\n    dispatch(getCustomRecordsSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getCustomRecordsError);\n  }\n};\n\nexport const getDump = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getDumpStart());\n  try {\n    const result = await dnsApi.getDnsDump();\n    dispatch(getDumpSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getDumpError);\n  }\n};\n\nexport const addCustomRecord = (\n  customRecordRequest: AddDnsCustomRecordRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addCustomRecordStart());\n  try {\n    const result = await dnsApi.addDnsCustomRecord(customRecordRequest);\n    dispatch(addCustomRecordSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addCustomRecordError);\n  }\n};\n\nexport const removeCustomRecord = (\n  customRecordRequest: RemoveDnsCustomRecordRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(removeCustomRecordStart());\n  try {\n    const result = await dnsApi.removeDnsCustomRecord(customRecordRequest);\n    dispatch(removeCustomRecordSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, removeCustomRecordError);\n  }\n};\n\nexport const addSecondaryNameserver = (\n  secondaryNameserverRequest: AddDnsSecondaryNameserverRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addSecondaryNameserverStart());\n  try {\n    const result = await dnsApi.addDnsSecondaryNameserver(\n      secondaryNameserverRequest\n    );\n    dispatch(addSecondaryNameserverSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addSecondaryNameserverError);\n  }\n};\n","import { Overlay, ProgressIndicator } from '@fluentui/react';\nimport React from 'react';\n\ninterface LoadingOverlayProps {\n  loadingLabel: string;\n  hasLoaded: boolean;\n}\n\nexport const LoadingOverlay: React.FunctionComponent<LoadingOverlayProps> = ({\n  loadingLabel,\n  hasLoaded,\n}) => {\n  return hasLoaded ? (\n    <Overlay\n      styles={{\n        root: {\n          zIndex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        },\n      }}\n    >\n      <ProgressIndicator label={loadingLabel} />\n    </Overlay>\n  ) : (\n    <ProgressIndicator label={loadingLabel} />\n  );\n};\n","import React from 'react';\n\nexport const LoadingOverlayContainer: React.FunctionComponent = ({\n  children,\n}) => {\n  return (\n    <div\n      style={{\n        position: 'relative',\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport {\n  SSLCertificateInstallRequest,\n  SSLStatus,\n  SSLStatusResponse,\n} from 'mailinabox-api';\nimport { handleRequestError, sslApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum SSLActionType {\n  install,\n}\n\nexport interface SSLAction {\n  sslStatus?: SSLStatus;\n  type?: SSLActionType;\n}\n\nexport interface SSLState {\n  isGettingStatus: boolean;\n  isGeneratingCSR: boolean;\n  isInstallingCertificate: boolean;\n  sslStatus: SSLStatusResponse;\n  getStatusError: string | null;\n  generateCSRResponse: string | null;\n  generateCSRError: string | null;\n  installCertificateResponse: string | null;\n  installCertificateError: string | null;\n  sslAction: SSLAction | null;\n}\n\nconst initialState: SSLState = {\n  isGettingStatus: false,\n  isGeneratingCSR: false,\n  isInstallingCertificate: false,\n  sslStatus: {\n    canProvision: [],\n    status: [],\n  },\n  generateCSRResponse: null,\n  installCertificateResponse: null,\n  getStatusError: null,\n  generateCSRError: null,\n  installCertificateError: null,\n  sslAction: null,\n};\n\nexport const ssl = createSlice({\n  name: 'ssl',\n  initialState,\n  reducers: {\n    getSSLStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getSSLStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.sslStatus = action.payload;\n    },\n    getSSLStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n    generateCSRStart: (state): void => {\n      state.generateCSRError = null;\n      state.isGeneratingCSR = true;\n    },\n    generateCSRSuccess: (state, action): void => {\n      state.isGeneratingCSR = false;\n      state.generateCSRResponse = action.payload;\n    },\n    generateCSRError: (state, action): void => {\n      state.generateCSRError = action.payload;\n      state.isGeneratingCSR = false;\n    },\n    generateCSRReset: (state): void => {\n      state.generateCSRError = null;\n      state.generateCSRResponse = null;\n      state.isGeneratingCSR = false;\n    },\n    installCertificateStart: (state): void => {\n      state.installCertificateError = null;\n      state.isInstallingCertificate = true;\n    },\n    installCertificateSuccess: (state, action): void => {\n      state.isInstallingCertificate = false;\n      state.installCertificateResponse = action.payload;\n    },\n    installCertificateError: (state, action): void => {\n      state.installCertificateError = action.payload;\n      state.isInstallingCertificate = false;\n    },\n    installCertificateReset: (state): void => {\n      state.installCertificateError = null;\n      state.installCertificateResponse = null;\n      state.isInstallingCertificate = false;\n    },\n    resetSSLAction: (state): void => {\n      state.sslAction = null;\n    },\n    setSSLAction: (state, action): void => {\n      state.sslAction = action.payload;\n    },\n  },\n});\n\nexport const {\n  getSSLStatusSuccess,\n  getSSLStatusStart,\n  getSSLStatusError,\n  generateCSRStart,\n  generateCSRSuccess,\n  generateCSRError,\n  generateCSRReset,\n  installCertificateStart,\n  installCertificateSuccess,\n  installCertificateError,\n  installCertificateReset,\n  resetSSLAction,\n  setSSLAction,\n} = ssl.actions;\n\nexport const { reducer: sslReducer } = ssl;\n\nexport const getSSLStatus = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  Action<string>\n> => async (dispatch): Promise<void> => {\n  dispatch(getSSLStatusStart());\n  try {\n    const result = await sslApi.getSSLStatus();\n    dispatch(getSSLStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getSSLStatusError);\n  }\n};\n\nexport const generateCSR = (\n  domain: string,\n  countrycode: string\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(generateCSRStart());\n  try {\n    const result = await sslApi.generateSSLCSR({\n      domain,\n      countrycode,\n    });\n    dispatch(generateCSRSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, generateCSRError);\n  }\n};\n\nexport const installCertificate = (\n  request: SSLCertificateInstallRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(installCertificateStart());\n  try {\n    const result = await sslApi.installSSLCertificate(request);\n    dispatch(installCertificateSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, installCertificateError);\n  }\n};\n","export enum AliasType {\n  regular = 'REGULAR',\n  catchAll = 'CATCH_ALL',\n  domainAlias = 'DOMAIN_ALIAS',\n}\n\nexport enum SenderType {\n  any = 'ANY',\n  manual = 'MANUAL',\n}\n\ninterface FormData {\n  [key: string]: {\n    info?: string;\n    text: string;\n    alias: {\n      placeholder: string;\n      info: string;\n    };\n    forwardsTo: {\n      placeholder: string;\n      info?: string;\n    };\n    permittedSenders: {\n      any: string;\n      manual: string;\n      placeholder: string;\n      info: string;\n    };\n  };\n}\n\nexport const formData: FormData = {\n  [AliasType.regular]: {\n    text: 'Regular',\n    alias: {\n      placeholder: 'you@yourdomain.com (incoming email address)',\n      info:\n        'You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: 'you@yourdomain.com (forward to email address)',\n      info: 'One address per line or separated by commas.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from the alias address.',\n      manual:\n        'Ill enter the mail users that can send mail claiming to be from the alias address.',\n    },\n  },\n  [AliasType.catchAll]: {\n    text: 'Catch-All',\n    info:\n      'A catch-all alias captures all otherwise unmatched email to a domain.',\n    alias: {\n      placeholder: '@yourdomain.com (incoming catch-all domain)',\n      info:\n        'Enter just the part of an email address starting with the @-sign. You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: 'you@yourdomain.com (forward to email address)',\n      info: 'One address per line or separated by commas.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from any address on the alias domain.',\n      manual:\n        'Ill enter the mail users that can send mail claiming to be from any address on the alias domain.',\n    },\n  },\n  [AliasType.domainAlias]: {\n    text: 'Domain Alias',\n    info:\n      'A domain alias forwards all otherwise unmatched email from one domain to another domain, preserving the part before the @-sign.',\n    alias: {\n      placeholder: '@yourdomain.com (incoming catch-all domain)',\n      info:\n        'Enter just the part of an email address starting with the @-sign. You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: '@otherdomain.com (forward to other domain)',\n      info: 'Enter just the part of an email address starting with the @-sign.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from any address on the alias domain.',\n      manual:\n        'Ill enter the mail users that can send mail claiming to be from any address on the alias domain.',\n    },\n  },\n};\n","import {\n  AnimationStyles,\n  IMessageBarProps,\n  mergeStyles,\n  MessageBar as FluentMessageBar,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst messageBarClassName = mergeStyles({\n  ...AnimationStyles.fadeIn400,\n});\n\nexport const MessageBar: React.FunctionComponent<\n  IMessageBarProps & {\n    animate?: boolean;\n    className?: string;\n  }\n> = ({ animate = true, className, ...rest }) => {\n  const propsWithAnimation = animate\n    ? {\n        ...rest,\n        className: mergeStyles(className, messageBarClassName),\n      }\n    : rest;\n\n  return (\n    <FluentMessageBar {...propsWithAnimation} dismissButtonAriaLabel=\"Close\" />\n  );\n};\n","import {\n  Callout,\n  getTheme,\n  IconButton,\n  ITextFieldProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\nconst theme = getTheme();\n\nconst iconButtonClassName = mergeStyles({\n  marginBottom: '-3px',\n});\n\ntype Props = ITextFieldProps & {\n  defaultRender?: (props?: ITextFieldProps) => JSX.Element | null;\n  calloutText?: React.ReactNode;\n  maxWidth?: number;\n};\n\nexport const TextFieldWithInfo: React.FunctionComponent<Props> = (\n  props\n): JSX.Element => {\n  const { maxWidth = 320, defaultRender, ...rest } = props;\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const iconButtonId: string = useId('iconButton');\n  return (\n    <>\n      <Stack horizontal verticalAlign=\"center\">\n        {defaultRender?.(rest)}\n        <IconButton\n          id={iconButtonId}\n          title=\"Info\"\n          ariaLabel=\"Info\"\n          iconProps={{ iconName: 'Info' }}\n          onClick={toggleIsCalloutVisible}\n          className={iconButtonClassName}\n        />\n      </Stack>\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          onDismiss={toggleIsCalloutVisible}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{props.calloutText}</Text>\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n\nexport const onRenderTextFieldLabel = (calloutText: React.ReactNode) => (\n  props?: ITextFieldProps,\n  defaultRender?: (props?: ITextFieldProps) => JSX.Element | null\n): React.ReactElement | null => (\n  <TextFieldWithInfo\n    {...props}\n    calloutText={calloutText}\n    defaultRender={defaultRender}\n  />\n);\n\nexport const textfieldWithLabelInfoStyles = {\n  subComponentStyles: {\n    label: {\n      root: {\n        selectors: {\n          ':after': {\n            paddingRight: theme.spacing.s2,\n          },\n        },\n      },\n    },\n  },\n};\n","import {\n  BaseButton,\n  Button,\n  ChoiceGroup,\n  getTheme,\n  IChoiceGroupOption,\n  mergeStyles,\n  MessageBarType,\n  Pivot,\n  PivotItem,\n  PivotLinkFormat,\n  PivotLinkSize,\n  Stack,\n  TextField,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { UpsertMailAliasRequest } from 'mailinabox-api';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  upsertAlias,\n  upsertAliasResetError,\n} from '../../../features/aliasesSlice';\nimport { useFormInputs } from '../../../forms/useFormInputs';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../TextFieldWithInfo/TextFieldWithInfo';\nimport { AliasType, formData, SenderType } from './formData';\n\nconst theme = getTheme();\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nfunction getInitialAliasType({\n  address,\n  forwardsTo,\n}: UpsertMailAliasRequest): AliasType {\n  if (address.charAt(0) === '@' && forwardsTo.charAt(0) === '@') {\n    return AliasType.domainAlias;\n  } else if (address.charAt(0) === '@') {\n    return AliasType.catchAll;\n  } else {\n    return AliasType.regular;\n  }\n}\n\nconst initialFormState: UpsertMailAliasRequest = {\n  address: '',\n  forwardsTo: '',\n  permittedSenders: '',\n  updateIfExists: 0,\n};\n\ninterface MailAliasUpsertProps {\n  updateAlias?: UpsertMailAliasRequest;\n}\n\nexport const MailAliasUpsert: React.FunctionComponent<MailAliasUpsertProps> = ({\n  children,\n  updateAlias = initialFormState,\n}) => {\n  const { upsertAliasResponse, upsertAliasError } = useSelector(\n    (state: RootState) => state.aliases\n  );\n\n  const dispatch = useDispatch();\n  const [aliasType, setAliasType] = useState<AliasType>(\n    getInitialAliasType(updateAlias)\n  );\n  const [senderType, setSenderType] = useState<SenderType>(\n    updateAlias.permittedSenders ? SenderType.manual : SenderType.any\n  );\n  const { inputs: alias, onInputChange, resetInputs } = useFormInputs<\n    UpsertMailAliasRequest\n  >(updateAlias);\n\n  const senderTypeOptions: IChoiceGroupOption[] = [\n    { key: SenderType.any, text: formData[aliasType].permittedSenders.any },\n    {\n      key: SenderType.manual,\n      text: formData[aliasType].permittedSenders.manual,\n    },\n  ];\n\n  const onSenderTypeChange = useConstCallback(\n    (\n      _event?: React.FormEvent<HTMLElement | HTMLInputElement>,\n      option?: IChoiceGroupOption\n    ) => {\n      if (option) {\n        setSenderType(option.key as SenderType);\n      }\n    }\n  );\n\n  const onPivotLinkClick = useConstCallback(\n    (item?: PivotItem, ev?: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (item && item.props && item.props.itemKey) {\n        setAliasType(item.props.itemKey as AliasType);\n      }\n    }\n  );\n\n  const onErrorMessageBarDismiss = useConstCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(upsertAliasResetError());\n    }\n  );\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    dispatch(\n      upsertAlias({\n        ...alias,\n        permittedSenders:\n          senderType === SenderType.manual ? alias.permittedSenders : '',\n      })\n    );\n  };\n\n  const onForwardsToRenderLabel = useMemo(\n    () =>\n      onRenderTextFieldLabel(\n        <>\n          Only forward mail to addresses handled by this Mail-in-a-Box, since\n          mail forwarded by aliases to other domains may be rejected or filtered\n          by the receiver. To forward mail to other domains, create a mail user\n          and then log into webmail for the user and create a filter rule to\n          forward mail.\n        </>\n      ),\n    []\n  );\n\n  useEffect(() => {\n    if (upsertAliasResponse) {\n      resetInputs();\n    }\n  }, [resetInputs, upsertAliasResponse]);\n\n  return (\n    <Stack\n      gap=\"m\"\n      as=\"form\"\n      grow={1}\n      className={columnClassName}\n      onSubmit={onFormSubmit}\n    >\n      {upsertAliasError && (\n        <MessageBar\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          onDismiss={onErrorMessageBarDismiss}\n          dismissButtonAriaLabel=\"Close\"\n        >\n          {upsertAliasError}\n        </MessageBar>\n      )}\n      <Stack gap=\"s2\">\n        <Pivot\n          linkSize={PivotLinkSize.normal}\n          linkFormat={PivotLinkFormat.tabs}\n          onLinkClick={onPivotLinkClick}\n          selectedKey={aliasType}\n        >\n          {Object.keys(formData).map((type) => (\n            <PivotItem\n              headerText={formData[type].text}\n              itemKey={type}\n              headerButtonProps={{\n                disabled: updateAlias.updateIfExists === 1,\n              }}\n            >\n              {formData[type].info ? (\n                <MessageBar\n                  styles={{\n                    root: {\n                      marginTop: theme.spacing.s1,\n                    },\n                  }}\n                >\n                  {formData[type].info}\n                </MessageBar>\n              ) : null}\n            </PivotItem>\n          ))}\n        </Pivot>\n      </Stack>\n      <TextField\n        label=\"Alias\"\n        required\n        placeholder={formData[aliasType].alias.placeholder}\n        description={formData[aliasType].alias.info}\n        styles={{ description: { ...theme.fonts.small } }}\n        onChange={onInputChange}\n        name=\"address\"\n        value={alias.address}\n        autoFocus={!updateAlias.address}\n        disabled={!!updateAlias.address}\n      />\n      <TextField\n        label=\"Forwards To\"\n        multiline\n        rows={3}\n        required\n        placeholder={formData[aliasType].forwardsTo.placeholder}\n        description={formData[aliasType].forwardsTo.info}\n        styles={{\n          description: { ...theme.fonts.small },\n          ...textfieldWithLabelInfoStyles,\n        }}\n        name=\"forwardsTo\"\n        onChange={onInputChange}\n        value={alias.forwardsTo}\n        onRenderLabel={onForwardsToRenderLabel}\n        autoFocus={!!updateAlias.address}\n      />\n      <ChoiceGroup\n        selectedKey={senderType}\n        options={senderTypeOptions}\n        onChange={onSenderTypeChange}\n        label=\"Permitted Senders\"\n        required\n      />\n      {senderType === SenderType.manual && (\n        <TextField\n          multiline\n          rows={3}\n          required\n          name=\"permittedSenders\"\n          placeholder={formData[aliasType].permittedSenders.placeholder}\n          onChange={onInputChange}\n          value={alias.permittedSenders ?? ''}\n          styles={{\n            description: { ...theme.fonts.small },\n            ...textfieldWithLabelInfoStyles,\n          }}\n          description={formData[aliasType].permittedSenders.info}\n        />\n      )}\n      {children}\n    </Stack>\n  );\n};\n","import { getTheme, mergeStyles, Text } from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\nconst className = mergeStyles({\n  padding: theme.spacing.m,\n  fontFamily: 'monospace',\n  backgroundColor: theme.palette.neutralLighterAlt,\n  borderColor: theme.semanticColors.variantBorder,\n  borderRadius: theme.effects.roundedCorner2,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  overflow: 'auto',\n  textOverflow: 'unset',\n  margin: 0,\n});\n\nexport const Pre: React.FunctionComponent = ({ children }) => {\n  return (\n    <Text as=\"pre\" className={className} block>\n      {children}\n    </Text>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  IModalProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { getAliases, upsertAliasReset } from '../../../features/aliasesSlice';\nimport { getDump } from '../../../features/dnsSlice';\nimport { getSSLStatus } from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { MailAliasUpsert } from '../MailAliasUpsert/MailAliasUpsert';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Alias Added',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nexport const MailAliasAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const { isUpsertingAlias, upsertAliasResponse } = useSelector(\n    (state: RootState) => state.aliases\n  );\n  const dispatch = useDispatch();\n\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const nonMobileContainerProps = {\n    horizontal: isMinLargeScreen,\n    gap: isMinLargeScreen ? 'l2' : 'm',\n  };\n\n  const onDialogDismissed = useConstCallback((): void => {\n    dispatch(upsertAliasReset());\n    setHasDialogOpened(false);\n  });\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  useEffect(() => {\n    if (upsertAliasResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [upsertAliasResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    if (upsertAliasResponse) {\n      dispatch(getAliases());\n      dispatch(getSSLStatus());\n      dispatch(getDump());\n    }\n  }, [dispatch, upsertAliasResponse]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(upsertAliasReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{upsertAliasResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack {...props} {...nonMobileContainerProps}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            Aliases are email forwarders. An alias can forward email to a{' '}\n            <Link href=\"#\">mail user</Link> or to any email address.\n          </Text>\n          <Text>\n            To use an alias or any address besides your own login username in\n            outbound mail, the sending user must be included as a permitted\n            sender for the alias.\n          </Text>\n        </Stack>\n        <MailAliasUpsert>\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isUpsertingAlias}>\n              Add Alias\n            </PrimaryButton>\n          </Stack>\n        </MailAliasUpsert>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  DetailsRow,\n  IDetailsGroupDividerProps,\n  IDetailsHeaderProps,\n  IDetailsListProps,\n  IDetailsRowProps,\n  IGroup,\n  IGroupHeaderProps,\n  IRenderFunction,\n  SelectionMode,\n} from '@fluentui/react';\nimport React, { Dispatch, SetStateAction, useCallback, useState } from 'react';\n\nconst onRenderRow = (props?: IDetailsRowProps): JSX.Element | null => {\n  if (props) {\n    return <DetailsRow {...props} />;\n  }\n  return null;\n};\n\ninterface GroupHeader {\n  props: IDetailsGroupDividerProps;\n  defaultRender: IRenderFunction<IGroupHeaderProps>;\n  onToggleGroupCollapse: (key: string, isCollapsed: boolean) => void;\n}\n\nconst GroupHeader: React.FunctionComponent<GroupHeader> = React.memo(\n  ({ props, defaultRender, onToggleGroupCollapse }) => {\n    const toggleCollapse = (): void => {\n      if (props?.group) {\n        onToggleGroupCollapse(props.group.key, !props.group.isCollapsed);\n      }\n    };\n    const onHeaderClick = (\n      event: React.MouseEvent<HTMLDivElement, MouseEvent>\n    ): void => {\n      if (props && props.group) {\n        event.preventDefault();\n        toggleCollapse();\n      }\n    };\n    return (\n      <div onClick={onHeaderClick}>\n        {defaultRender({\n          ...props,\n          onToggleCollapse: toggleCollapse,\n        })}\n      </div>\n    );\n  }\n);\n\ninterface GroupedDetailsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n  groups: IGroup[];\n}\n\nexport const GroupedDetailsList: React.FunctionComponent<\n  IDetailsListProps & GroupedDetailsListProps\n> = ({ openedGroupsState, groups, ...props }) => {\n  const [openedGroups, setOpenedGroups] = openedGroupsState;\n  const [hasExpandedAllGroups, setHasExpandedAllGroups] = useState<boolean>(\n    false\n  );\n\n  const onToggleGroupCollapse = useCallback(\n    (groupKey: string, collapse: boolean): void => {\n      if (collapse) {\n        openedGroups.splice(openedGroups.indexOf(groupKey), 1);\n      } else {\n        openedGroups.push(groupKey);\n      }\n      setOpenedGroups(openedGroups.slice());\n    },\n    [openedGroups, setOpenedGroups]\n  );\n\n  const onToggleGroupCollapseAll = (): void => {\n    const shouldCollapse =\n      hasExpandedAllGroups || openedGroups.length === groups.length;\n    if (shouldCollapse) {\n      setOpenedGroups([]);\n      setHasExpandedAllGroups(false);\n    } else {\n      setOpenedGroups(groups.map(({ key }) => key));\n      setHasExpandedAllGroups(true);\n    }\n  };\n\n  const onRenderDetailsHeader = (\n    detailsHeaderProps?: IDetailsHeaderProps,\n    defaultRender?: IRenderFunction<IDetailsHeaderProps>\n  ): JSX.Element | null => {\n    return (\n      defaultRender?.({\n        ...detailsHeaderProps,\n        onToggleCollapseAll: onToggleGroupCollapseAll,\n        styles: {\n          root: {\n            paddingTop: 0,\n          },\n        },\n      } as IDetailsHeaderProps) || null\n    );\n  };\n\n  const onRenderGroupHeader = (\n    props?: IDetailsGroupDividerProps,\n    defaultRender?: IRenderFunction<IGroupHeaderProps>\n  ): JSX.Element | null => {\n    if (defaultRender && props) {\n      return (\n        <GroupHeader\n          props={props}\n          defaultRender={defaultRender}\n          onToggleGroupCollapse={onToggleGroupCollapse}\n        />\n      );\n    }\n    return null;\n  };\n\n  const groupsWithCollapsedState = groups.map((group) => ({\n    ...group,\n    isCollapsed: openedGroups.indexOf(group.key) === -1,\n  }));\n\n  return (\n    <DetailsList\n      {...props}\n      groups={groupsWithCollapsedState}\n      layoutMode={DetailsListLayoutMode.justified}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean =>\n        groupsWithCollapsedState.length > 20 || props.items.length > 50\n      }\n      onRenderDetailsHeader={onRenderDetailsHeader}\n      onRenderRow={onRenderRow}\n      groupProps={{\n        isAllGroupsCollapsed: openedGroups.length === 0,\n        onRenderHeader: onRenderGroupHeader,\n      }}\n    />\n  );\n};\n","import { getTheme, Spinner, SpinnerSize, Stack } from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\ninterface DialogFooterProps {\n  isLoading?: boolean;\n}\n\nexport const DialogFooter: React.FunctionComponent<DialogFooterProps> = ({\n  children,\n  isLoading = false,\n}) => {\n  return (\n    <Stack\n      horizontalAlign=\"end\"\n      verticalAlign=\"center\"\n      horizontal\n      gap=\"s1\"\n      styles={{\n        root: {\n          marginTop: theme.spacing.m,\n        },\n      }}\n    >\n      {isLoading && <Spinner size={SpinnerSize.medium} />}\n      {children}\n    </Stack>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  IDialogProps,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n} from '@fluentui/react';\nimport React from 'react';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\ninterface ActionConfirmDialogProps {\n  onConfirm: () => void;\n  hidden: boolean;\n  isLoading: boolean;\n  error: string | null;\n  confirmButtonText: string;\n  showCancelButton?: boolean;\n  actionResponse?: string | null;\n}\n\nexport const ActionConfirmDialog: React.FunctionComponent<\n  IDialogProps & ActionConfirmDialogProps\n> = ({\n  hidden,\n  onConfirm,\n  isLoading,\n  error,\n  confirmButtonText,\n  children,\n  actionResponse,\n  ...rest\n}) => {\n  const onConfirmButtonClick = (): void => {\n    if (!actionResponse) {\n      onConfirm();\n    } else if (rest.onDismiss) {\n      rest.onDismiss();\n    }\n  };\n  const onCancelButtonClick = (): void => {\n    if (rest.onDismiss) {\n      rest.onDismiss();\n    }\n  };\n  return (\n    <Dialog hidden={hidden} minWidth={380} maxWidth={480} {...rest}>\n      <Stack gap=\"m\">\n        {error && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {error}\n          </MessageBar>\n        )}\n        {actionResponse && <Pre>{actionResponse}</Pre>}\n        {!actionResponse && children}\n      </Stack>\n      <DialogFooter isLoading={isLoading}>\n        <PrimaryButton\n          disabled={isLoading}\n          text={!actionResponse ? confirmButtonText : 'OK'}\n          onClick={onConfirmButtonClick}\n        />\n        {!actionResponse && (\n          <DefaultButton\n            disabled={isLoading}\n            text=\"Cancel\"\n            onClick={onCancelButtonClick}\n          />\n        )}\n      </DialogFooter>\n    </Dialog>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  DialogType,\n  IDialogContentProps,\n  IDialogProps,\n  PrimaryButton,\n} from '@fluentui/react';\nimport { MailAlias, UpsertMailAliasRequest } from 'mailinabox-api';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MailAliasUpsert } from '../MailAliasUpsert/MailAliasUpsert';\nimport { Pre } from '../Pre/Pre';\n\ninterface MailAliasUpdateDialogProps {\n  alias?: MailAlias;\n}\n\nconst updateAliasDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Update Alias',\n};\n\nexport const MailAliasUpdateDialog: React.FunctionComponent<\n  IDialogProps & MailAliasUpdateDialogProps\n> = ({ alias, ...dialogProps }) => {\n  const { upsertAliasResponse, isUpsertingAlias } = useSelector(\n    (state: RootState) => state.aliases\n  );\n\n  const onDialogCloseButtonClick = (): void => {\n    dialogProps.onDismiss?.();\n  };\n\n  const updateAlias: UpsertMailAliasRequest = {\n    address: alias?.address || '',\n    forwardsTo: alias?.forwardsTo.join('\\n') ?? '',\n    permittedSenders: alias?.permittedSenders?.join('\\n') ?? null,\n    updateIfExists: 1,\n  };\n\n  const dialogWidth = upsertAliasResponse ? 480 : 580;\n  return (\n    <Dialog\n      {...dialogProps}\n      dialogContentProps={updateAliasDialogContentProps}\n      modalProps={{\n        isBlocking: true,\n      }}\n      minWidth={dialogWidth}\n      maxWidth={dialogWidth}\n    >\n      {upsertAliasResponse && (\n        <>\n          <Pre>{upsertAliasResponse}</Pre>\n          <DialogFooter>\n            <PrimaryButton text=\"OK\" onClick={onDialogCloseButtonClick} />\n          </DialogFooter>\n        </>\n      )}\n      {!upsertAliasResponse && (\n        <MailAliasUpsert updateAlias={updateAlias}>\n          <DialogFooter isLoading={isUpsertingAlias}>\n            <PrimaryButton\n              text=\"Update Alias\"\n              type=\"submit\"\n              disabled={isUpsertingAlias}\n            />\n            <DefaultButton\n              text=\"Cancel\"\n              onClick={onDialogCloseButtonClick}\n              disabled={isUpsertingAlias}\n            />\n          </DialogFooter>\n        </MailAliasUpsert>\n      )}\n    </Dialog>\n  );\n};\n","import { DialogType, Text } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  AliasActionType,\n  getAliases,\n  removeAlias,\n  removeAliasReset,\n  resetAliasAction,\n  upsertAliasReset,\n} from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\nimport { MailAliasUpdateDialog } from './MailAliasUpdateDialog';\n\nexport const MailAliasActions: React.FunctionComponent = () => {\n  const {\n    isRemovingAlias,\n    aliasAction,\n    removeAliasError,\n    removeAliasResponse,\n    upsertAliasResponse,\n  } = useSelector((state: RootState) => state.aliases);\n\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useConstCallback((): void => {\n    dispatch(resetAliasAction());\n  });\n\n  const onConfirmDialogDismissed = (): void => {\n    if (removeAliasResponse) {\n      dispatch(getAliases());\n    }\n    dispatch(removeAliasReset());\n  };\n\n  const onUpdateAliasDialogDismissed = (): void => {\n    if (upsertAliasResponse) {\n      dispatch(getAliases());\n    }\n    dispatch(upsertAliasReset());\n  };\n\n  const onRemoveAliasConfirm = (): void => {\n    if (aliasAction?.alias) {\n      dispatch(removeAlias(aliasAction?.alias.address));\n    }\n  };\n\n  return (\n    <>\n      <ActionConfirmDialog\n        hidden={aliasAction?.type !== AliasActionType.remove}\n        isLoading={isRemovingAlias}\n        onDismiss={onActionDialogDismiss}\n        onDismissed={onConfirmDialogDismissed}\n        onConfirm={onRemoveAliasConfirm}\n        error={removeAliasError}\n        actionResponse={removeAliasResponse}\n        confirmButtonText=\"Remove Alias\"\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Remove Alias',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n      >\n        <Text>\n          Are you sure you want to remove alias:{' '}\n          <strong>{aliasAction?.alias?.addressDisplay}</strong>?\n        </Text>\n      </ActionConfirmDialog>\n      <MailAliasUpdateDialog\n        hidden={aliasAction?.type !== AliasActionType.update}\n        alias={aliasAction?.alias}\n        onDismiss={onActionDialogDismiss}\n        onDismissed={onUpdateAliasDialogDismissed}\n      ></MailAliasUpdateDialog>\n    </>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { MailAlias } from 'mailinabox-api';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  AliasActionType,\n  setAliasAction,\n} from '../../../features/aliasesSlice';\n\ninterface MailAliasActionsListProps {\n  alias: MailAlias;\n}\n\nexport const MailAliasActionsList: React.FunctionComponent<MailAliasActionsListProps> = React.memo(\n  ({ alias }) => {\n    const dispatch = useDispatch();\n    const doAction = useConstCallback((type: AliasActionType): void => {\n      dispatch(\n        setAliasAction({\n          alias,\n          type,\n        })\n      );\n    });\n    return (\n      <IconButton\n        menuIconProps={{\n          iconName: 'MoreVertical',\n        }}\n        styles={{\n          menuIcon: {\n            fontWeight: 'bold',\n          },\n        }}\n        role=\"button\"\n        aria-haspopup={true}\n        aria-label=\"Show actions\"\n        menuProps={{\n          directionalHint: DirectionalHint.bottomRightEdge,\n          items: [\n            {\n              key: 'updatealias' + alias.address,\n              text: 'Update',\n              onClick: (): void => doAction(AliasActionType.update),\n            },\n            {\n              key: 'removeealias' + alias.address,\n              text: 'Remove',\n              onClick: (): void => doAction(AliasActionType.remove),\n            },\n          ],\n        }}\n      />\n    );\n  }\n);\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { MailAlias } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectAliasesWithGroups } from '../../../features/aliasesSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { MailAliasActions } from './MailAliasActions';\nimport { MailAliasActionsList } from './MailAliasActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Alias',\n    minWidth: 320,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'addressDisplay',\n  },\n  {\n    key: 'column2',\n    name: 'Forwards To',\n    minWidth: 260,\n    isMultiline: true,\n    onRender: (item: MailAlias): React.ReactElement => {\n      if (!item || !item.forwardsTo) {\n        console.log('item');\n        debugger;\n      }\n      return (\n        <>\n          {item.forwardsTo.map((forwardToAddress) => (\n            <Text block>{forwardToAddress}</Text>\n          ))}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Permitted Senders',\n    minWidth: 260,\n    isMultiline: true,\n    onRender: (item: MailAlias): React.ReactElement => {\n      return (\n        <>\n          {item.permittedSenders?.map((permittedSender) => (\n            <Text block>{permittedSender}</Text>\n          ))}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    isPadded: false,\n    onRender: (alias: MailAlias): React.ReactNode => {\n      return <MailAliasActionsList alias={alias} />;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface MailAliasesListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const MailAliasesList: React.FunctionComponent<\n  IStackProps & MailAliasesListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [aliases, groups] = useSelector(selectAliasesWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <MailAliasActions />\n      <GroupedDetailsList\n        openedGroupsState={openedGroupsState}\n        items={aliases}\n        groups={groups}\n        columns={columns}\n      />\n    </Stack>\n  );\n};\n","import {\n  IPivotItemProps,\n  IPivotProps,\n  mergeStyles,\n  Pivot,\n  PivotItem,\n  PivotLinkSize,\n  ScreenWidthMinLarge,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React, { createRef, RefObject, useEffect } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst className = mergeStyles({\n  overflowX: 'auto',\n  overflowY: 'hidden',\n});\n\ninterface PivotRoutes {\n  items?: IPivotItemProps[];\n}\n\nexport const PivotRoutes: React.FunctionComponent<\n  PivotRoutes & IPivotProps\n> = ({ children, items = [], ...props }) => {\n  const history = useHistory();\n  const { pathname: selectedKey } = useLocation();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  const refs = items.map(() => createRef<HTMLDivElement>());\n\n  const onPivotLinkClick = useConstCallback((item?: PivotItem): void => {\n    if (item?.props.itemKey) {\n      history.push(item.props.itemKey);\n    }\n  });\n\n  const onRenderItemLink = (ref: RefObject<HTMLDivElement>) => (\n    props?: IPivotItemProps\n  ): JSX.Element | null => {\n    return props ? <div ref={ref}>{props.headerText}</div> : null;\n  };\n\n  useEffect(() => {\n    const index = items.findIndex((item) => item.itemKey === selectedKey);\n    refs[index]?.current?.scrollIntoView({\n      behavior: 'smooth',\n      block: 'nearest',\n      inline: 'nearest',\n    });\n  }, [items, refs, selectedKey]);\n\n  return (\n    <Pivot\n      className={className}\n      linkSize={isMinLargeScreen ? PivotLinkSize.large : PivotLinkSize.normal}\n      selectedKey={selectedKey}\n      onLinkClick={onPivotLinkClick}\n      {...props}\n    >\n      {items.map((item, i) => (\n        <PivotItem {...item} onRenderItemLink={onRenderItemLink(refs[i])} />\n      ))}\n    </Pivot>\n  );\n};\n","import { MessageBar, MessageBarType } from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getAliases } from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { LoadingOverlay } from '../LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../LoadingOverlay/LoadingOverlayContainer';\nimport { MailAliasAdd } from '../MailAliasAdd/MailAliasAdd';\nimport { MailAliasesList } from '../MailAliasesList/MailAliasesList';\nimport { PivotRoutes } from '../PivotRoutes/PivotRoutes';\n\nexport const MailAliases: React.FunctionComponent = () => {\n  const { isGettingAliases, getAliasesError, aliases } = useSelector(\n    (state: RootState) => state.aliases\n  );\n  const openedGroupsState = useState<string[]>([]);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n\n  const pivotItems = [\n    {\n      itemKey: url,\n      headerText: 'Mail Aliases',\n    },\n    {\n      itemKey: `${url}/add`,\n      headerText: 'Add a Mail Alias',\n    },\n  ];\n\n  useEffect(() => {\n    if (!aliases.length) {\n      dispatch(getAliases());\n    }\n  }, [aliases.length, dispatch]);\n  return (\n    <>\n      <PivotRoutes items={pivotItems} />\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {getAliasesError && (\n              <MessageBar messageBarType={MessageBarType.error}>\n                {getAliasesError}\n              </MessageBar>\n            )}\n            {isGettingAliases && (\n              <LoadingOverlay\n                loadingLabel=\"Loading aliases...\"\n                hasLoaded={Boolean(aliases.length)}\n              />\n            )}\n            {!getAliasesError && Boolean(aliases.length) && (\n              <MailAliasesList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          <MailAliasAdd />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Stack } from '@fluentui/react';\nimport React from 'react';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MailAliases } from '../../../../ui/MailAliases/MailAliases';\n\nexport const MailAliasesRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'mail',\n            },\n            {\n              text: 'Aliases',\n              key: 'aliases',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <MailAliases />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nMailAliasesRoute.path = '/mail/aliases';\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  MailUser,\n  MailUserByDomain,\n  MailUserPrivilege,\n  MailUsersResponse,\n  MailUsersResponseFormat,\n} from 'mailinabox-api';\nimport { handleRequestError, mailApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum UserActionType {\n  addAdminPrivilege,\n  removeAdminPrivilege,\n  setPassword,\n  archive,\n}\n\nexport interface UserAction {\n  user?: MailUser;\n  type?: UserActionType;\n}\n\nexport interface UsersState {\n  isGettingUsers: boolean;\n  users: MailUsersResponse;\n  getUsersError: string | null;\n  isUpdatingUser: boolean;\n  isAddingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n  addUserResponse: string | null;\n  addUserError: string | null;\n}\n\nconst initialState: UsersState = {\n  isGettingUsers: false,\n  users: [],\n  getUsersError: null,\n  isUpdatingUser: false,\n  isAddingUser: false,\n  updateUserError: null,\n  updateUserResponse: null,\n  userAction: null,\n  addUserResponse: null,\n  addUserError: null,\n};\n\nexport const users = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    getUsersStart: (state): void => {\n      state.getUsersError = null;\n      state.isGettingUsers = true;\n    },\n    getUsersSuccess: (state, action): void => {\n      state.isGettingUsers = false;\n      state.users = action.payload;\n    },\n    getUsersError: (state, action): void => {\n      state.getUsersError = action.payload;\n      state.isGettingUsers = false;\n    },\n    updateUserStart: (state): void => {\n      state.updateUserError = null;\n      state.isUpdatingUser = true;\n    },\n    updateUserSuccess: (state, action): void => {\n      state.isUpdatingUser = false;\n      state.updateUserResponse = action.payload;\n    },\n    updateUserError: (state, action): void => {\n      state.updateUserError = action.payload;\n      state.isUpdatingUser = false;\n    },\n    updateUserReset: (state): void => {\n      state.isUpdatingUser = false;\n      state.updateUserError = null;\n      state.updateUserResponse = null;\n    },\n    setUserAction: (state, action): void => {\n      state.userAction = action.payload;\n    },\n    resetUserAction: (state): void => {\n      state.userAction = {\n        ...state.userAction,\n        type: undefined,\n      };\n    },\n    addUserStart: (state): void => {\n      state.addUserError = null;\n      state.isAddingUser = true;\n    },\n    addUserSuccess: (state, action): void => {\n      state.isAddingUser = false;\n      state.addUserResponse = action.payload;\n    },\n    addUserError: (state, action): void => {\n      state.addUserError = action.payload;\n      state.isAddingUser = false;\n    },\n    addUserReset: (state): void => {\n      state.addUserError = null;\n      state.isAddingUser = false;\n      state.addUserResponse = null;\n    },\n    addUserResetError: (state): void => {\n      state.addUserError = null;\n    },\n  },\n});\n\nexport const {\n  getUsersSuccess,\n  getUsersStart,\n  getUsersError,\n  updateUserStart,\n  updateUserSuccess,\n  updateUserError,\n  updateUserReset,\n  setUserAction,\n  resetUserAction,\n  addUserStart,\n  addUserSuccess,\n  addUserError,\n  addUserReset,\n  addUserResetError,\n} = users.actions;\n\nexport const { reducer: usersReducer } = users;\n\nexport const selectUsersWithGroups = (\n  state: RootState\n): [Array<MailUser>, Array<IGroup>] => {\n  const { users: mailUsers } = state.users;\n  const users: Array<MailUser> = [];\n  const groups: Array<IGroup> = [];\n\n  mailUsers.forEach((userDomain: MailUserByDomain) => {\n    const { domain, users: usersByDomain } = userDomain;\n    groups.push({\n      key: 'group' + groups.length,\n      name: domain,\n      startIndex: users.length,\n      isCollapsed: true,\n      level: 0,\n      count: usersByDomain.length,\n    });\n    users.push(...usersByDomain);\n  });\n\n  return [users, groups];\n};\n\nexport const getUsers = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getUsersStart());\n  try {\n    const result = await mailApi.getMailUsers({\n      format: MailUsersResponseFormat.Json,\n    });\n    dispatch(getUsersSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getUsersError);\n  }\n};\n\nexport const addUserAdminPrivilege = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.addMailUserPrivilege({\n      email: user.email,\n      privilege: MailUserPrivilege.Admin,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const removeUserAdminPrivilege = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.removeMailUserPrivilege({\n      email: user.email,\n      privilege: MailUserPrivilege.Admin,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const setUserPassword = (\n  user: MailUser,\n  password: string\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.setMailUserPassword({\n      email: user.email,\n      password: password,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const removeUser = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.removeMailUser({\n      email: user.email,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const addUser = (\n  email: string,\n  password: string,\n  privilege: MailUserPrivilege\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addUserStart());\n  try {\n    const result = await mailApi.addMailUser({\n      email,\n      password,\n      privileges: privilege,\n    });\n    dispatch(addUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addUserError);\n  }\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Option',\n    minWidth: 100,\n    maxWidth: 160,\n    isRowHeader: true,\n    fieldName: 'option',\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    minWidth: 100,\n    isRowHeader: false,\n    fieldName: 'value',\n  },\n];\n\nconst items = [\n  {\n    option: 'Server',\n    value: config.hostname,\n  },\n  {\n    option: 'Options',\n    value: 'Secure Connection',\n  },\n];\n\nexport const MailExchangeSettingsList: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible={false}\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Option',\n    minWidth: 100,\n    maxWidth: 160,\n    isRowHeader: true,\n    fieldName: 'option',\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    minWidth: 100,\n    isRowHeader: false,\n    fieldName: 'value',\n  },\n];\n\nconst items = [\n  {\n    option: 'Protocol/Method',\n    value: 'IMAP',\n  },\n  {\n    option: 'Mail server',\n    value: config.hostname,\n  },\n  {\n    option: 'IMAP Port',\n    value: '993',\n  },\n  {\n    option: 'IMAP Security',\n    value: 'SSL or TLS',\n  },\n  {\n    option: 'SMTP Port',\n    value: '587',\n  },\n  {\n    option: 'SMTP Security',\n    value: 'STARTTLS (\"always\" or \"required\", if prompted)',\n  },\n  {\n    option: 'Username',\n    value: 'Your whole email address.',\n  },\n  {\n    option: 'Password',\n    value: 'Your mail password.',\n  },\n];\n\nexport const MailSettingsList: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: -16,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  Link,\n  mergeStyles,\n  ScreenWidthMinXLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { config } from '../../../config';\nimport { BodyPanel } from '../BodyPanel/BodyPanel';\nimport { MailExchangeSettingsList } from '../MailExchangeSettingsList/MailExchangeSettingsList';\nimport { MailSettingsList } from '../MailSettingsList/MailSettingsList';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nexport const MailInstructions: React.FunctionComponent = () => {\n  const isMinXLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinXLarge,\n  });\n  return (\n    <Stack horizontal={isMinXLargeScreen} gap=\"l1\">\n      <Stack gap=\"m\" grow={4} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            Webmail\n          </Text>\n          <Text block>\n            Webmail lets you check your email from any web browser. Your webmail\n            site is:\n          </Text>\n          <Text block>\n            <Link href={`https://${config.hostname}/mail`}>\n              https://{config.hostname}/mail\n            </Link>\n          </Text>\n          <Text block>Your username is your whole email address.</Text>\n        </BodyPanel>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            Mobile/desktop apps\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Automatic configuration\n          </Text>\n          <Text block>\n            iOS and OS X only: Open{' '}\n            <Link href={`https://${config.hostname}/mailinabox.mobileconfig`}>\n              this configuration link\n            </Link>{' '}\n            on your iOS device or on your Mac desktop to easily set up mail\n            (IMAP/SMTP), Contacts, and Calendar. Your username is your whole\n            email address.\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Manual configuration\n          </Text>\n          <Text block>\n            Use the following settings when you set up your email on your phone,\n            desktop, or other device:\n          </Text>\n          <MailSettingsList />\n          <Text block>\n            In addition to setting up your email, you&rsquo;ll also need to set\n            up <Link>contacts and calendar synchronization</Link> separately.\n          </Text>\n          <Text block>\n            As an alternative to IMAP you can also use the POP protocol: choose\n            POP as the protocol, port 995, and SSL or TLS security in your mail\n            client. The SMTP settings and usernames and passwords remain the\n            same. However, we recommend you use IMAP instead.\n          </Text>\n\n          <Text block variant=\"mediumPlus\">\n            Exchange/ActiveSync settings\n          </Text>\n\n          <Text block>\n            On iOS devices, devices on this{' '}\n            <Link href=\"https://wiki.z-hub.io/display/ZP/Compatibility\">\n              compatibility list\n            </Link>\n            , or using Outlook 2007 or later on Windows 7 and later, you may set\n            up your mail as an Exchange or ActiveSync server. However,\n            we&rsquo;ve found this to be more buggy than using IMAP as described\n            above. If you encounter any problems, please use the manual settings\n            above.\n          </Text>\n          <MailExchangeSettingsList />\n          <Text block>\n            Your device should also provide a contacts list and calendar that\n            syncs to this box when you use this method.\n          </Text>\n        </BodyPanel>\n      </Stack>\n      <Stack grow={3} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            Other information about mail on your box\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Automatic configuration\n          </Text>\n          <Text block>\n            Your box uses a technique called greylisting to cut down on spam.\n            Greylisting works by initially rejecting mail from people you\n            havent received mail from before. Legitimate mail servers will\n            attempt redelivery shortly afterwards, but the vast majority of spam\n            gets tricked by this. If you are waiting for an email from someone\n            new, such as if you are registering on a new website and are waiting\n            for an email confirmation, please be aware there will be a minimum\n            of 3 minutes delay, depending how soon the remote server attempts\n            redelivery.\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            +tag addresses\n          </Text>\n          <Text block>\n            Every incoming email address also receives mail for{' '}\n            <code>+tag</code> addresses. If your email address is{' '}\n            <code>you@yourdomain.com</code>, you&rsquo;ll also automatically get\n            mail sent to <code>you+anythinghere@yourdomain.com</code>. Use this\n            as a fast way to segment incoming mail for your own filtering rules\n            without having to create aliases in this control panel.\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Use only this box to send as you\n          </Text>\n          <Text block>\n            Your box sets strict email sending policies for your domain names to\n            make it harder for spam and other fraudulent mail to claim to be\n            you. Only this machine is authorized to send email on behalf of your\n            domain names. If you use any other service to send email as you, it\n            will likely get spam filtered by recipients.\n          </Text>\n        </BodyPanel>\n      </Stack>\n    </Stack>\n  );\n};\n","import { DefaultButton, Stack, TooltipHost } from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport { ScreenWidthMinMedium } from 'office-ui-fabric-react/lib/Styling';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { MailInstructions } from '../../../../ui/MailInstructions/MailInstructions';\n\nexport const MailInstructionsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const isMinMediumScreen = useMediaQuery({\n    minWidth: ScreenWidthMinMedium,\n  });\n  const tooltipId = useId('tooltip');\n  return (\n    <Body>\n      <Stack\n        horizontal={isMinMediumScreen}\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n      >\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'mail',\n            },\n            {\n              text: 'Checking and Sending Mail',\n              key: 'checkingmail',\n              as: 'h1',\n            },\n          ]}\n        />\n        <TooltipHost\n          content=\"Download instructions in PDF format which you can use to send to users of this box.\"\n          id={tooltipId}\n        >\n          <DefaultButton iconProps={{ iconName: 'Download' }}>\n            Download Instructions\n          </DefaultButton>\n        </TooltipHost>\n      </Stack>\n      <MailInstructions />\n    </Body>\n  );\n};\n\nMailInstructionsRoute.path = '/mail/instructions';\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogType,\n  Dropdown,\n  getTheme,\n  IDialogContentProps,\n  IDropdownOption,\n  IModalProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { MailUserPrivilege } from 'mailinabox-api';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { getDump } from '../../../features/dnsSlice';\nimport { getSSLStatus } from '../../../features/sslSlice';\nimport {\n  addUser,\n  addUserReset,\n  addUserResetError,\n  getUsers,\n} from '../../../features/usersSlice';\nimport { useFormInputs } from '../../../forms/useFormInputs';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\nconst theme = getTheme();\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'User Added',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nconst privilegeOptions: IDropdownOption[] = [\n  {\n    key: MailUserPrivilege.Empty,\n    text: 'Normal User',\n  },\n  {\n    key: MailUserPrivilege.Admin,\n    text: 'Administrator',\n  },\n];\n\ntype FormState = {\n  email: string;\n  password: string;\n  privilege: IDropdownOption;\n};\n\nconst initialFormState: FormState = {\n  email: '',\n  password: '',\n  privilege: privilegeOptions[0],\n};\n\nexport const MailUserAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const { inputs, resetInputs, setInputs, onInputChange } = useFormInputs<\n    FormState\n  >(initialFormState);\n  const { isAddingUser, addUserResponse, addUserError } = useSelector(\n    (state: RootState) => state.users\n  );\n\n  const dispatch = useDispatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const nonMobileContainerProps = {\n    horizontal: isMinLargeScreen,\n    gap: isMinLargeScreen ? 'l2' : 'm',\n  };\n\n  const onDropdownChange = (name: string) => (\n    _event: React.FormEvent<HTMLDivElement>,\n    option?: IDropdownOption\n  ): void => {\n    if (option) {\n      setInputs({\n        ...inputs,\n        [name]: option,\n      });\n    }\n  };\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    dispatch(\n      addUser(\n        inputs.email,\n        inputs.password,\n        inputs.privilege.key as MailUserPrivilege\n      )\n    );\n  };\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  const onDialogDismissed = useConstCallback((): void => {\n    dispatch(addUserReset());\n    resetInputs();\n    setHasDialogOpened(false);\n  });\n\n  const onErrorMessageBarDismiss = useConstCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addUserResetError());\n    }\n  );\n\n  useEffect(() => {\n    if (addUserResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addUserResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    if (addUserResponse) {\n      dispatch(getUsers());\n      dispatch(getSSLStatus());\n      dispatch(getDump());\n    }\n  }, [addUserResponse, dispatch]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addUserReset());\n    };\n  }, [dispatch]);\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addUserResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack {...props} {...nonMobileContainerProps}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            Add an email address to this system. This will create a new login\n            username/password.\n          </Text>\n          <MessageBar\n            messageBarType={MessageBarType.warning}\n            isMultiline={isMinLargeScreen}\n            truncated={!isMinLargeScreen}\n          >\n            Passwords must be at least eight characters consisting of English\n            letters and numbers only. For best results,\n            <Link href=\"#\">generate a random password</Link>. Use\n            <Link href=\"#\">aliases</Link> to create email addresses that forward\n            to existing accounts. Administrators get access to this control\n            panel. User accounts cannot contain any international (non-ASCII)\n            characters, but<Link href=\"#\">aliases</Link> can.\n          </MessageBar>\n        </Stack>\n        <Stack\n          gap=\"m\"\n          as=\"form\"\n          grow={1}\n          className={columnClassName}\n          onSubmit={onFormSubmit}\n        >\n          {addUserError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              onDismiss={onErrorMessageBarDismiss}\n              dismissButtonAriaLabel=\"Close\"\n            >\n              {addUserError}\n            </MessageBar>\n          )}\n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            name=\"email\"\n            required\n            onChange={onInputChange}\n            value={inputs.email}\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            name=\"password\"\n            required\n            onChange={onInputChange}\n            value={inputs.password}\n            description=\"Passwords must be at least eight characters and may not contain spaces.\"\n            styles={{ description: { ...theme.fonts.small } }}\n          />\n          <Dropdown\n            label=\"Privilege\"\n            required\n            options={privilegeOptions}\n            selectedKey={inputs.privilege.key}\n            onChange={onDropdownChange('privilege')}\n          />\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isAddingUser}>\n              Add User\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  PrimaryButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUsers,\n  removeUser,\n  updateUserReset,\n  UserAction,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Archive User',\n};\n\ninterface MailUserArchiveDialogProps {\n  onDismiss: () => void;\n  hidden: boolean;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n}\n\nexport const MailUserArchiveDialog: React.FunctionComponent<MailUserArchiveDialogProps> = ({\n  hidden,\n  onDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const { username } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n  const [\n    archiveSelfErrorDialogHidden,\n    setArchiveSelfErrorDialogHidden,\n  ] = useState<boolean>(true);\n\n  const onModalDismissed = (): void => {\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  };\n\n  const onArchiveConfirm = (): void => {\n    if (userAction?.user) {\n      dispatch(removeUser(userAction.user));\n    }\n  };\n\n  const modalProps = {\n    isBlocking: true,\n    onDismissed: onModalDismissed,\n  };\n\n  const updateSelfError = !hidden && username === userAction?.user?.email;\n\n  useEffect(() => {\n    setArchiveSelfErrorDialogHidden(!updateSelfError);\n  }, [setArchiveSelfErrorDialogHidden, updateSelfError]);\n  return (\n    <>\n      <Dialog\n        hidden={archiveSelfErrorDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n      >\n        <Text>You cannot archive your own account.</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDismiss} />\n        </DialogFooter>\n      </Dialog>\n      <ActionConfirmDialog\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        onDismiss={onDismiss}\n        isLoading={isUpdatingUser}\n        error={updateUserError}\n        hidden={hidden || !archiveSelfErrorDialogHidden}\n        confirmButtonText=\"Archive\"\n        actionResponse={updateUserResponse}\n        onConfirm={onArchiveConfirm}\n      >\n        <Stack gap=\"m\">\n          <Text>\n            Are you sure you want to archive{' '}\n            <strong>{userAction?.user?.email}</strong>?\n          </Text>\n          <Text>\n            The user's mailboxes will not be deleted (you can do that later),\n            but the user will no longer be able to log into any services on this\n            machine.\n          </Text>\n        </Stack>\n      </ActionConfirmDialog>\n    </>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  DialogType,\n  getTheme,\n  IDialogContentProps,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUsers,\n  setUserPassword,\n  updateUserReset,\n  UserAction,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\ninterface MailUserSetPasswordDialogProps {\n  onDismiss: () => void;\n  hidden: boolean;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n}\n\nconst changePasswordDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Set Password',\n};\n\nexport const MailUserSetPasswordDialog: React.FunctionComponent<MailUserSetPasswordDialogProps> = ({\n  hidden,\n  onDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const { username } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n  const [password, setPassword] = useState<string>('');\n  const onModalDismissed = (): void => {\n    setPassword('');\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  };\n\n  const onPasswordChange = useConstCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPassword(newValue ?? '');\n    }\n  );\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    if (userAction?.user) {\n      dispatch(setUserPassword(userAction.user, password));\n    }\n  };\n\n  const updateSelf = username === userAction?.user?.email;\n  return (\n    <Dialog\n      hidden={hidden}\n      dialogContentProps={changePasswordDialogContentProps}\n      modalProps={{\n        isBlocking: true,\n        onDismissed: onModalDismissed,\n      }}\n      minWidth={480}\n      maxWidth={480}\n    >\n      {updateUserResponse && (\n        <>\n          <Pre>{updateUserResponse}</Pre>\n          <DialogFooter>\n            <PrimaryButton text=\"OK\" onClick={onDismiss} />\n          </DialogFooter>\n        </>\n      )}\n      {!updateUserResponse && (\n        <form onSubmit={onFormSubmit}>\n          <Stack gap=\"s1\">\n            {updateUserError && (\n              <MessageBar messageBarType={MessageBarType.error} isMultiline>\n                {updateUserError}\n              </MessageBar>\n            )}\n            <Text block>\n              Set a new password for <strong>{userAction?.user?.email}</strong>\n            </Text>\n            <TextField\n              label=\"New Password\"\n              type=\"password\"\n              value={password}\n              required\n              onChange={onPasswordChange}\n              description=\"Passwords must be at least eight characters and may not contain spaces.\"\n              styles={{ description: { ...getTheme().fonts.small } }}\n            />\n            {updateSelf && (\n              <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n                If you change your own password, you will be logged out of this\n                control panel and will need to log in again.\n              </MessageBar>\n            )}\n          </Stack>\n          <DialogFooter isLoading={isUpdatingUser}>\n            <PrimaryButton\n              text=\"Set Password\"\n              disabled={isUpdatingUser}\n              type=\"submit\"\n            />\n            <DefaultButton\n              text=\"Cancel\"\n              disabled={isUpdatingUser}\n              onClick={onDismiss}\n            />\n          </DialogFooter>\n        </form>\n      )}\n    </Dialog>\n  );\n};\n","import {\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  PrimaryButton,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addUserAdminPrivilege,\n  getUsers,\n  removeUserAdminPrivilege,\n  updateUserReset,\n  UserAction,\n  UserActionType,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nconst modifyPrivilegesDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Modify Privileges',\n};\n\ninterface MailUserUpdatePrivilegeProps {\n  onDialogDismiss: () => void;\n  userAction: UserAction | null;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n}\n\nexport const MailUserUpdatePrivilege: React.FunctionComponent<MailUserUpdatePrivilegeProps> = ({\n  onDialogDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const dispatch = useDispatch();\n\n  const { username } = useSelector((state: RootState) => state.auth);\n  const [\n    removeSelfErrorDialogHidden,\n    setRemoveSelfErrorDialogHidden,\n  ] = useState<boolean>(true);\n\n  const removeAdminDialogHidden =\n    userAction?.type !== UserActionType.removeAdminPrivilege;\n\n  const addAdminDialogHidden =\n    userAction?.type !== UserActionType.addAdminPrivilege;\n\n  const updateSelfError =\n    !removeAdminDialogHidden && username === userAction?.user?.email;\n\n  const onModalDismissed = (): void => {\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  };\n\n  const onRemoveAdminConfirm = (): void => {\n    if (userAction?.user) {\n      dispatch(removeUserAdminPrivilege(userAction.user));\n    }\n  };\n\n  const onAddAdminConfirm = (): void => {\n    if (userAction?.user) {\n      dispatch(addUserAdminPrivilege(userAction.user));\n    }\n  };\n\n  useEffect(() => {\n    setRemoveSelfErrorDialogHidden(!updateSelfError);\n  }, [updateSelfError]);\n\n  const modalProps = {\n    isBlocking: true,\n    onDismissed: onModalDismissed,\n  };\n  return (\n    <>\n      <Dialog\n        hidden={removeSelfErrorDialogHidden}\n        dialogContentProps={modifyPrivilegesDialogContentProps}\n        modalProps={modalProps}\n      >\n        <Text>You cannot remove the admin privilege from yourself.</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogDismiss} />\n        </DialogFooter>\n      </Dialog>\n      {!updateSelfError && (\n        <>\n          <ActionConfirmDialog\n            dialogContentProps={modifyPrivilegesDialogContentProps}\n            modalProps={modalProps}\n            onDismiss={onDialogDismiss}\n            isLoading={isUpdatingUser}\n            error={updateUserError}\n            hidden={removeAdminDialogHidden}\n            onConfirm={onRemoveAdminConfirm}\n            confirmButtonText=\"Remove\"\n            actionResponse={updateUserResponse}\n          >\n            <Text>\n              Are you sure you want to remove the admin privilege for{' '}\n              <strong>{userAction?.user?.email}?</strong>\n            </Text>\n          </ActionConfirmDialog>\n          <ActionConfirmDialog\n            dialogContentProps={modifyPrivilegesDialogContentProps}\n            modalProps={modalProps}\n            onDismiss={onDialogDismiss}\n            isLoading={isUpdatingUser}\n            error={updateUserError}\n            hidden={addAdminDialogHidden}\n            onConfirm={onAddAdminConfirm}\n            confirmButtonText=\"Add\"\n            actionResponse={updateUserResponse}\n          >\n            <Text>\n              Are you sure you want to add the admin privilege for{' '}\n              <strong>{userAction?.user?.email}?</strong>\n            </Text>\n          </ActionConfirmDialog>\n        </>\n      )}\n    </>\n  );\n};\n","import { useConstCallback } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { resetUserAction, UserActionType } from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { MailUserArchiveDialog } from './MailUserArchiveDialog';\nimport { MailUserSetPasswordDialog } from './MailUserSetPasswordDialog';\nimport { MailUserUpdatePrivilege } from './MailUserUpdatePrivilege';\n\nexport const MailUserActions: React.FunctionComponent = () => {\n  const {\n    isUpdatingUser,\n    updateUserError,\n    updateUserResponse,\n    userAction,\n  } = useSelector((state: RootState) => state.users);\n\n  const dispatch = useDispatch();\n\n  const onDialogDismiss = useConstCallback((): void => {\n    dispatch(resetUserAction());\n  });\n\n  return (\n    <>\n      <MailUserUpdatePrivilege\n        onDialogDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n      <MailUserSetPasswordDialog\n        hidden={userAction?.type !== UserActionType.setPassword}\n        onDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n      <MailUserArchiveDialog\n        hidden={userAction?.type !== UserActionType.archive}\n        onDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n    </>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { MailUser, MailUserPrivilege } from 'mailinabox-api';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setUserAction, UserActionType } from '../../../features/usersSlice';\n\ninterface MailUserActionsListProps {\n  user: MailUser;\n}\n\nexport const MailUserActionsList: React.FunctionComponent<MailUserActionsListProps> = React.memo(\n  ({ user }) => {\n    const dispatch = useDispatch();\n    const doAction = useConstCallback((type: UserActionType): void => {\n      dispatch(\n        setUserAction({\n          user,\n          type,\n        })\n      );\n    });\n    return (\n      <IconButton\n        menuIconProps={{\n          iconName: 'MoreVertical',\n        }}\n        styles={{\n          menuIcon: {\n            fontWeight: 'bold',\n          },\n        }}\n        role=\"button\"\n        aria-haspopup={true}\n        aria-label=\"Show actions\"\n        menuProps={{\n          directionalHint: DirectionalHint.bottomRightEdge,\n          items: [\n            user.privileges.includes(MailUserPrivilege.Admin)\n              ? {\n                  key: 'removeadmin',\n                  text: 'Remove Admin Privilege',\n                  onClick: (): void =>\n                    doAction(UserActionType.removeAdminPrivilege),\n                }\n              : {\n                  key: 'makeadmin',\n                  text: 'Make Admin',\n                  onClick: (): void =>\n                    doAction(UserActionType.addAdminPrivilege),\n                },\n            {\n              key: 'setpassword',\n              text: 'Set Password',\n              onClick: (): void => doAction(UserActionType.setPassword),\n            },\n            {\n              key: 'archiveaccount',\n              text: 'Archive Account',\n              onClick: (): void => doAction(UserActionType.archive),\n            },\n          ],\n        }}\n      />\n    );\n  }\n);\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { MailUser, MailUserStatus } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUsersWithGroups } from '../../../features/usersSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { MailUserActions } from './MailUserActions';\nimport { MailUserActionsList } from './MailUserActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Email Address',\n    minWidth: 220,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'email',\n    onRender: (item: MailUser): React.ReactNode => {\n      const styles =\n        item.status === MailUserStatus.Inactive\n          ? {\n              root: {\n                textDecoration: 'line-through',\n              },\n            }\n          : {};\n      return (\n        <>\n          <Text styles={styles}>{item.email}</Text>\n          {item.status === MailUserStatus.Inactive && item.mailbox ? (\n            <MessageBar\n              messageBarType={MessageBarType.info}\n              isMultiline\n              styles={{ root: { marginTop: 10 } }}\n            >\n              To restore account, create a new account with this email address.\n              Or to permanently delete the mailbox, delete the directory{' '}\n              <code>{item.mailbox}</code> on the machine.\n            </MessageBar>\n          ) : null}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: 'Privilege',\n    minWidth: 80,\n    maxWidth: 200,\n    isMultiline: false,\n    onRender: (user: MailUser): React.ReactNode => {\n      return user.status === MailUserStatus.Active ? (\n        <Text>\n          {user.privileges.length ? (\n            <strong>{user.privileges.join(', ')}</strong>\n          ) : (\n            'normal'\n          )}\n        </Text>\n      ) : null;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    minWidth: 50,\n    maxWidth: 60,\n    isMultiline: false,\n    onRender: (user: MailUser): React.ReactNode => {\n      return user.status === MailUserStatus.Active ? (\n        <MailUserActionsList user={user} />\n      ) : null;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface MailUsersListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const MailUsersList: React.FunctionComponent<\n  IStackProps & MailUsersListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [users, groups] = useSelector(selectUsersWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <MailUserActions />\n      <GroupedDetailsList\n        openedGroupsState={openedGroupsState}\n        items={users}\n        groups={groups}\n        columns={columns}\n      />\n    </Stack>\n  );\n};\n","import { MessageBar, MessageBarType } from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getUsers } from '../../../../../features/usersSlice';\nimport { RootState } from '../../../../../store';\nimport { LoadingOverlay } from '../../../../ui/LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../../../../ui/LoadingOverlay/LoadingOverlayContainer';\nimport { MailUserAdd } from '../../../../ui/MailUserAdd/MailUserAdd';\nimport { MailUsersList } from '../../../../ui/MailUsersList/MailUsersList';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nexport const MailUsersSections: React.FunctionComponent = () => {\n  const { isGettingUsers, users, getUsersError } = useSelector(\n    (state: RootState) => state.users\n  );\n  const openedGroupsState = useState<string[]>([]);\n  const { path, url } = useRouteMatch();\n\n  const dispatch = useDispatch();\n\n  const pivotItems = [\n    {\n      itemKey: url,\n      headerText: 'Mail Users',\n    },\n    {\n      itemKey: `${url}/add`,\n      headerText: 'Add a Mail User',\n    },\n  ];\n\n  useEffect(() => {\n    if (!users.length) {\n      dispatch(getUsers());\n    }\n  }, [dispatch, users.length]);\n  return (\n    <>\n      <PivotRoutes items={pivotItems} />\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {getUsersError && (\n              <MessageBar messageBarType={MessageBarType.error} isMultiline>\n                {getUsersError}\n              </MessageBar>\n            )}\n            {isGettingUsers && (\n              <LoadingOverlay\n                loadingLabel=\"Loading users...\"\n                hasLoaded={Boolean(users.length)}\n              />\n            )}\n            {!getUsersError && Boolean(users.length) && (\n              <MailUsersList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          <MailUserAdd />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Stack } from '@fluentui/react';\nimport React from 'react';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MailUsersSections } from './MailUsersSections';\n\nexport const MailUsersRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'system',\n            },\n            {\n              text: 'Users',\n              key: 'users',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <MailUsersSections />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nMailUsersRoute.path = '/mail/users';\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  getTheme,\n  IColumn,\n  Link,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\nconst theme = getTheme();\n\ninterface SyncBrowserItem {\n  option: string;\n  value: string;\n}\n\nconst items: Array<SyncBrowserItem> = [\n  {\n    option: 'Contacts',\n    value: `https://${config.hostname}/cloud/contacts`,\n  },\n  {\n    option: 'Calendar',\n    value: `https://${config.hostname}/cloud/calendar`,\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 80,\n    isRowHeader: true,\n    isMultiline: true,\n    onRender: (item: SyncBrowserItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    onRender: (item: SyncBrowserItem): React.ReactNode => {\n      return (\n        <Text>\n          <Link href={item.value}>{item.value}</Link>\n        </Text>\n      );\n    },\n  },\n];\n\nexport const SyncListBrowser: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: '-' + theme.spacing.m,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  getTheme,\n  IColumn,\n  Link,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\ninterface SyncListItem {\n  option: string;\n  value: React.ReactNode;\n}\n\nconst items: Array<SyncListItem> = [\n  {\n    option: 'Contacts and Calendar',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=at.bitfire.davdroid\">\n          DAVdroid\n        </Link>{' '}\n        ($3.69; free{' '}\n        <Link href=\"https://f-droid.org/packages/at.bitfire.davdroid/\">\n          here\n        </Link>\n        )\n      </Text>\n    ),\n  },\n  {\n    option: 'Only Contacts',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=org.dmfs.carddav.sync\">\n          CardDAV-Sync free beta\n        </Link>{' '}\n        (free)\n      </Text>\n    ),\n  },\n  {\n    option: 'Only Calendar',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=org.dmfs.caldav.lib\">\n          CalDAV-Sync\n        </Link>{' '}\n        ($2.89)\n      </Text>\n    ),\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 180,\n    isRowHeader: true,\n    isMultiline: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    fieldName: 'value',\n  },\n];\n\nexport const SyncListMobile: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: '-' + theme.spacing.m,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\ninterface SyncListItem {\n  option: string;\n  value: string;\n}\n\nconst items: Array<SyncListItem> = [\n  {\n    option: 'Account Type',\n    value: 'CardDAV or CalDAV',\n  },\n  {\n    option: 'Server Name',\n    value: config.hostname,\n  },\n  {\n    option: 'Use SSL',\n    value: 'Yes',\n  },\n  {\n    option: 'Username',\n    value: 'Your complete email address',\n  },\n  {\n    option: 'Password',\n    value: 'Your mail password',\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 180,\n    isRowHeader: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n];\n\nexport const SyncListMobileSettings: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      compact\n      items={items}\n      columns={columns}\n      isHeaderVisible={false}\n      layoutMode={DetailsListLayoutMode.justified}\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  Link,\n  mergeStyles,\n  ScreenWidthMinXLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { BodyPanel } from '../BodyPanel/BodyPanel';\nimport { SyncListBrowser } from '../SyncListBrowser/SyncListBrowser';\nimport { SyncListMobile } from '../SyncListMobile/SyncListMobile';\nimport { SyncListMobileSettings } from '../SyncListMobile/SyncListMobileSettings';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nexport const SyncGuide: React.FunctionComponent = () => {\n  const isMinXLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinXLarge,\n  });\n  return (\n    <Stack horizontal={isMinXLargeScreen} gap=\"l1\">\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            In your browser\n          </Text>\n          <Text block>\n            You can edit your contacts and calendar from your web browser.\n          </Text>\n          <SyncListBrowser />\n          <Text>\n            Log in settings are the same as with <Link href=\"#\">mail</Link>:\n            your complete email address and your mail password.\n          </Text>\n        </BodyPanel>\n      </Stack>\n      <Stack grow={1} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            On your mobile device\n          </Text>\n          <Text>\n            If you set up your <Link href=\"#\">mail</Link> using\n            Exchange/ActiveSync, your contacts and calendar may already appear\n            on your device.\n          </Text>\n          <Text>\n            Otherwise, here are some apps that can synchronize your contacts and\n            calendar to your Android phone.\n          </Text>\n          <SyncListMobile />\n          <Text>Use the following settings:</Text>\n          <SyncListMobileSettings />\n        </BodyPanel>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  DefaultButton,\n  ScreenWidthMinXLarge,\n  Stack,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { Body } from '../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { SyncGuide } from '../../../ui/SyncGuide/SyncGuide';\n\nexport const SyncGuideRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const tooltipId = useId('tooltip');\n  const isMinXLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinXLarge,\n  });\n  return (\n    <Body>\n      <Stack\n        horizontal={isMinXLargeScreen}\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n      >\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Contacts & Calendar Synchronization',\n              key: 'syncguide',\n              as: 'h1',\n            },\n          ]}\n        />\n        <TooltipHost\n          content=\"Download instructions in PDF format which you can use to send to users of this box.\"\n          id={tooltipId}\n        >\n          <DefaultButton iconProps={{ iconName: 'Download' }}>\n            Download Sync Guide\n          </DefaultButton>\n        </TooltipHost>\n      </Stack>\n      <SyncGuide />\n    </Body>\n  );\n};\n\nSyncGuideRoute.path = '/sync-guide';\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n  SystemBackupStatusResponse,\n} from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemBackupsState {\n  isGettingStatus: boolean;\n  isGettingConfig: boolean;\n  isUpdatingConfig: boolean;\n  status: SystemBackupStatusResponse;\n  config: SystemBackupConfigResponse;\n  updateConfigResponse: string | null;\n  getStatusError: string | null;\n  getConfigError: string | null;\n  updateConfigError: string | null;\n}\n\nconst initialState: SystemBackupsState = {\n  isGettingStatus: false,\n  isGettingConfig: false,\n  isUpdatingConfig: false,\n  status: {\n    backups: [],\n    unmatchedFileSize: 0,\n  },\n  config: {\n    encPwFile: '',\n    fileTargetDirectory: '',\n    minAgeInDays: 1,\n    sshPubKey: '',\n    target: '',\n  },\n  updateConfigResponse: null,\n  getStatusError: null,\n  getConfigError: null,\n  updateConfigError: null,\n};\n\nconst systemBackups = createSlice({\n  name: 'backups',\n  initialState,\n  reducers: {\n    getStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.status = action.payload;\n    },\n    getStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n    getConfigStart: (state): void => {\n      state.getConfigError = null;\n      state.isGettingConfig = true;\n    },\n    getConfigSuccess: (state, action): void => {\n      state.isGettingConfig = false;\n      state.config = action.payload;\n    },\n    getConfigError: (state, action): void => {\n      state.getConfigError = action.payload;\n      state.isGettingConfig = false;\n    },\n    updateConfigStart: (state): void => {\n      state.updateConfigError = null;\n      state.isUpdatingConfig = true;\n    },\n    updateConfigSuccess: (state, action): void => {\n      state.isUpdatingConfig = false;\n      state.updateConfigResponse = action.payload;\n    },\n    updateConfigError: (state, action): void => {\n      state.updateConfigError = action.payload;\n      state.isUpdatingConfig = false;\n    },\n    updateConfigResetError: (state): void => {\n      state.updateConfigError = null;\n    },\n    updateConfigReset: (state): void => {\n      state.updateConfigError = null;\n      state.isUpdatingConfig = false;\n      state.updateConfigResponse = null;\n    },\n  },\n});\n\nexport const {\n  getStatusSuccess,\n  getStatusStart,\n  getStatusError,\n  getConfigStart,\n  getConfigSuccess,\n  getConfigError,\n  updateConfigStart,\n  updateConfigSuccess,\n  updateConfigError,\n  updateConfigResetError,\n  updateConfigReset,\n} = systemBackups.actions;\n\nexport const { reducer: systemBackupsReducer } = systemBackups;\n\nexport const getStatus = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getStatusStart());\n  try {\n    const result = await systemApi.getSystemBackupStatus();\n    dispatch(getStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getStatusError);\n  }\n};\n\nexport const getConfig = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getConfigStart());\n  try {\n    const result = await systemApi.getSystemBackupConfig();\n    dispatch(getConfigSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getConfigError);\n  }\n};\n\nexport const updateConfig = (\n  config: SystemBackupConfigUpdateRequest\n): ThunkAction<void, RootState, unknown, Action<string>> => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateConfigStart());\n  try {\n    const result = await systemApi.updateSystemBackupConfig(config);\n    dispatch(updateConfigSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateConfigError);\n  }\n};\n","import {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n} from 'mailinabox-api';\n\nexport interface BackupConfigureProps {\n  backupConfig: SystemBackupConfigResponse;\n  isCurrentType: boolean;\n  daysDescription: string;\n  onConfigChange: (config: SystemBackupConfigUpdateRequest) => void;\n}\n\nexport enum BackupType {\n  off = 'off',\n  local = 'local',\n  rsync = 'rsync',\n  s3 = 's3',\n}\n","import { TextField } from '@fluentui/react';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps, BackupType } from '../types';\n\nexport const BackupConfigureLocal: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n\n  const onDaysChange = (\n    _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n    newValue?: string | undefined\n  ): void => {\n    setDays(newValue);\n  };\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: BackupType.local,\n      targetUser: '',\n      targetPass: '',\n      minAge: Number(days) || 1,\n    });\n  }, [days, onConfigChange]);\n\n  return (\n    <TextField\n      value={days}\n      label=\"Days\"\n      min={1}\n      step={1}\n      type=\"number\"\n      required\n      onRenderLabel={onDaysRenderLabel}\n      styles={textfieldWithLabelInfoStyles}\n      onChange={onDaysChange}\n    />\n  );\n};\n","import { MessageBarType, ScreenWidthMinLarge, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoLocalProps {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoLocal: React.FunctionComponent<BackupInfoLocalProps> = ({\n  config,\n}) => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <>\n      <Text>\n        Backups are stored on this machines own hard disk. You are responsible\n        for periodically using SFTP (FTP over SSH) to copy the backup files from\n        <code>{config.fileTargetDirectory}</code> to a safe location. These\n        files are encrypted, so they are safe to store anywhere.\n      </Text>\n      <MessageBar\n        messageBarType={MessageBarType.warning}\n        isMultiline={isMinLargeScreen}\n        truncated={!isMinLargeScreen}\n      >\n        Separately copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files.\n      </MessageBar>\n    </>\n  );\n};\n","import { TextField } from '@fluentui/react';\nimport React, { useEffect, useMemo } from 'react';\nimport { config } from '../../../../config';\nimport { useFormInputs } from '../../../../forms/useFormInputs';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps } from '../types';\n\ntype FormState = {\n  hostname: string;\n  path: string;\n  username: string;\n  days: string;\n};\n\nexport const BackupConfigureRsync: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  isCurrentType,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const targetPath = isCurrentType\n    ? backupConfig.target.substring(8).split('//')\n    : [];\n  const targetHostParts = isCurrentType\n    ? targetPath.shift()?.split('@') || []\n    : [];\n\n  const { inputs, onInputChange } = useFormInputs<FormState>({\n    hostname: isCurrentType ? targetHostParts[1] : '',\n    path: isCurrentType ? `/${targetPath[0]}` : '',\n    username: isCurrentType ? targetHostParts[0] : '',\n    days: String(backupConfig.minAgeInDays),\n  });\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  const onSSHKeyRenderLabel = useMemo(\n    () =>\n      onRenderTextFieldLabel(\n        <>\n          Copy the Public SSH Key above, and paste it within the{' '}\n          <code>~/.ssh/authorized_keys</code> of target user on the backup\n          server specified above. That way you'll enable secure and passwordless\n          authentication from your mail-in-a-box server and your backup server.\n        </>\n      ),\n    []\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: `rsync://${inputs.username}@${inputs.hostname}/${inputs.path}`,\n      targetUser: '',\n      targetPass: '',\n      minAge: Number(inputs.days) || 1,\n    });\n  }, [\n    inputs.days,\n    inputs.hostname,\n    inputs.path,\n    inputs.username,\n    onConfigChange,\n  ]);\n\n  return (\n    <>\n      <TextField\n        value={inputs.hostname}\n        label=\"Hostname\"\n        name=\"hostname\"\n        required\n        placeholder=\"hostname.local\"\n        onChange={onInputChange}\n      />\n      <TextField\n        value={inputs.path}\n        label=\"Path\"\n        name=\"path\"\n        required\n        placeholder={`/backups/${config.hostname}`}\n        onChange={onInputChange}\n      />\n      <TextField\n        value={inputs.username}\n        label=\"Username\"\n        name=\"username\"\n        required\n        onChange={onInputChange}\n      />\n      <TextField\n        value={backupConfig.sshPubKey}\n        label=\"Public SSH Key\"\n        required\n        readOnly\n        onRenderLabel={onSSHKeyRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n      />\n      <TextField\n        value={inputs.days}\n        label=\"Days\"\n        name=\"days\"\n        min={1}\n        step={1}\n        type=\"number\"\n        required\n        onRenderLabel={onDaysRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n        onChange={onInputChange}\n      />\n    </>\n  );\n};\n","import { MessageBarType, ScreenWidthMinLarge, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoRsyncProps {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoRsync: React.FunctionComponent<BackupInfoRsyncProps> = ({\n  config,\n}) => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <>\n      <Text>\n        Backups synced to a remote machine using rsync over SSH, with local\n        copies in <code>{config.fileTargetDirectory}</code>. These files are\n        encrypted, so they are safe to store anywhere.\n      </Text>\n      <MessageBar\n        messageBarType={MessageBarType.warning}\n        isMultiline={isMinLargeScreen}\n        truncated={!isMinLargeScreen}\n      >\n        Separately copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files.\n      </MessageBar>\n    </>\n  );\n};\n","import { IDropdownOption } from '@fluentui/react';\n\nexport const s3RegionOptions: IDropdownOption[] = [\n  { key: 's3-eu-west-1.amazonaws.com', text: 'eu-west-1' },\n  {\n    key: 's3-ap-southeast-1.amazonaws.com',\n    text: 'ap-southeast-1',\n  },\n  {\n    key: 's3-us-gov-west-1.amazonaws.com',\n    text: 'us-gov-west-1',\n  },\n  {\n    key: 's3.ap-south-1.amazonaws.com',\n    text: 'ap-south-1',\n  },\n  {\n    key: 's3.eu-west-2.amazonaws.com',\n    text: 'eu-west-2',\n  },\n  {\n    key: 's3.ca-central-1.amazonaws.com',\n    text: 'ca-central-1',\n  },\n  {\n    key: 's3-ap-southeast-2.amazonaws.com',\n    text: 'ap-southeast-2',\n  },\n  {\n    key: 's3-us-west-1.amazonaws.com',\n    text: 'us-west-1',\n  },\n  {\n    key: 's3-ap-northeast-1.amazonaws.com',\n    text: 'ap-northeast-1',\n  },\n  {\n    key: 's3.ap-northeast-2.amazonaws.com',\n    text: 'ap-northeast-2',\n  },\n  {\n    key: 's3-sa-east-1.amazonaws.com',\n    text: 'sa-east-1',\n  },\n  {\n    key: 's3.amazonaws.com',\n    text: 'us-east-1',\n  },\n  {\n    key: 's3.us-east-2.amazonaws.com',\n    text: 'us-east-2',\n  },\n  {\n    key: 's3-us-west-2.amazonaws.com',\n    text: 'us-west-2',\n  },\n  {\n    key: 's3.eu-central-1.amazonaws.com',\n    text: 'eu-central-1',\n  },\n  {\n    key: 's3.cn-north-1.amazonaws.com.cn',\n    text: 'cn-north-1',\n  },\n  {\n    key: 'other',\n    text: 'Other',\n  },\n];\n","import { Dropdown, IDropdownOption, TextField } from '@fluentui/react';\nimport React, { useEffect, useMemo } from 'react';\nimport { useFormInputs } from '../../../../forms/useFormInputs';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../../ui/TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps } from '../types';\nimport { s3RegionOptions } from './regionOptions';\n\ntype FormState = {\n  region: string;\n  host: string;\n  path: string;\n  accessKey: string;\n  secretAccessKey: string;\n  days: string;\n};\n\nexport const BackupConfigureS3: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  isCurrentType,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const path = isCurrentType ? backupConfig.target.substring(5).split('/') : [];\n  const host = isCurrentType ? path.shift() : '';\n  const region = s3RegionOptions.find(\n    (regionOption) => regionOption.key === host\n  );\n\n  const { inputs, setInputs, onInputChange } = useFormInputs<FormState>({\n    region: (region?.key || '') as string,\n    host: ((region?.key === 'other' ? '' : region?.key) || '') as string,\n    days: String(backupConfig.minAgeInDays),\n    path: path.join('/'),\n    accessKey: '',\n    secretAccessKey: '',\n  });\n\n  const onRegionChange = (\n    _event: React.FormEvent<HTMLDivElement>,\n    option?: IDropdownOption\n  ): void => {\n    if (option) {\n      setInputs({\n        ...inputs,\n        region: option.key as string,\n        host: ((option.key === 'other' ? '' : option?.key) || '') as string,\n      });\n    }\n  };\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: `s3://${inputs.host}/${inputs.path}`,\n      targetUser: inputs.accessKey || '',\n      targetPass: inputs.secretAccessKey || '',\n      minAge: Number(inputs.days) || 1,\n    });\n  }, [\n    inputs.accessKey,\n    inputs.days,\n    inputs.host,\n    inputs.path,\n    inputs.secretAccessKey,\n    onConfigChange,\n  ]);\n\n  return (\n    <>\n      <Dropdown\n        label=\"S3 Region\"\n        options={s3RegionOptions}\n        selectedKey={inputs.region}\n        required\n        onChange={onRegionChange}\n      />\n      <TextField\n        label=\"S3 Host / Endpoint\"\n        required\n        value={inputs.host}\n        onChange={onInputChange}\n        name=\"host\"\n        placeholder=\"Endpoint\"\n      />\n      <TextField\n        label=\"S3 Path\"\n        required\n        value={inputs.path}\n        name=\"path\"\n        placeholder=\"your-bucket-name/backup-directory\"\n        onChange={onInputChange}\n      />\n      <TextField\n        label=\"S3 Access Key\"\n        required\n        name=\"accessKey\"\n        value={inputs.accessKey}\n        onChange={onInputChange}\n      />\n      <TextField\n        label=\"S3 Secret Access Key\"\n        required\n        name=\"secretAccessKey\"\n        value={inputs.secretAccessKey}\n        onChange={onInputChange}\n      />\n      <TextField\n        value={inputs.days}\n        label=\"Days\"\n        min={1}\n        step={1}\n        type=\"number\"\n        name=\"days\"\n        required\n        onRenderLabel={onDaysRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n        onChange={onInputChange}\n      />\n    </>\n  );\n};\n","import { MessageBarType, ScreenWidthMinLarge, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoS3Props {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoS3: React.FunctionComponent<BackupInfoS3Props> = ({\n  config,\n}) => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <>\n      <Text>\n        Backups are stored in an Amazon Web Services S3 bucket. You must have an\n        AWS account already.\n      </Text>\n      <MessageBar\n        messageBarType={MessageBarType.warning}\n        isMultiline={isMinLargeScreen}\n        truncated={!isMinLargeScreen}\n      >\n        You MUST manually copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files. It is NOT stored in your Amazon\n        S3 bucket.\n      </MessageBar>\n    </>\n  );\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  Dropdown,\n  IDropdownOption,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n  SystemBackupStatusResponse,\n} from 'mailinabox-api';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { config } from '../../../config';\nimport {\n  getStatus,\n  updateConfig,\n  updateConfigReset,\n  updateConfigResetError,\n} from '../../../features/system/backupsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { BackupConfigureLocal } from './local/BackupConfigureLocal';\nimport { BackupInfoLocal } from './local/BackupInfoLocal';\nimport { BackupConfigureRsync } from './rsync/BackupConfigureRsync';\nimport { BackupInfoRsync } from './rsync/BackupInfoRsync';\nimport { BackupConfigureS3 } from './s3/BackupConfigureS3';\nimport { BackupInfoS3 } from './s3/BackupInfoS3';\nimport { BackupType } from './types';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst backupOptions: IDropdownOption[] = [\n  {\n    key: BackupType.off,\n    text: 'Nowhere (Disable Backups)',\n  },\n  {\n    key: BackupType.local,\n    text: config.hostname,\n  },\n  {\n    key: BackupType.rsync,\n    text: 'rsync',\n  },\n  {\n    key: BackupType.s3,\n    text: 'Amazon S3',\n  },\n];\n\nconst daysDescription =\n  'This is the minimum number of days backup data is kept for. The box makes an incremental backup, so backup data is often kept much longer. An incremental backup file that is less than this number of days old requires that all previous increments back to the most recent full backup, plus that full backup, remain available.';\n\nfunction getBackupType(\n  config: SystemBackupConfigResponse\n): BackupType | undefined {\n  if (config.target === 'file://' + config.fileTargetDirectory) {\n    return BackupType.local;\n  } else if (config.target === 'off') {\n    return BackupType.off;\n  } else if (config.target.substring(0, 8) === 'rsync://') {\n    return BackupType.rsync;\n  } else if (config.target.substring(0, 5) === 's3://') {\n    return BackupType.s3;\n  }\n}\n\nexport const BackupConfigure: React.FunctionComponent<\n  IStackProps & SystemBackupStatusResponse\n> = ({ backups, unmatchedFileSize, ...props }) => {\n  const {\n    updateConfigError,\n    updateConfigResponse,\n    isUpdatingConfig,\n    config: backupConfig,\n  } = useSelector((state: RootState) => state.system.backups);\n\n  const dispatch = useDispatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const backupType = getBackupType(backupConfig);\n  const selectedBackupOption = backupOptions.find(\n    (option) => option.key === backupType\n  );\n  const [backupOption, setBackupOption] = useState<IDropdownOption | undefined>(\n    selectedBackupOption\n  );\n  const [updateBackupConfig, setUpdateBackupConfig] = useState<\n    SystemBackupConfigUpdateRequest | undefined\n  >();\n\n  const onDialogDismissed = (): void => {\n    if (updateConfigResponse === 'OK') {\n      dispatch(getStatus());\n    }\n    dispatch(updateConfigReset());\n  };\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  const onBackupOptionChange = useConstCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      setBackupOption(option);\n    }\n  );\n\n  const onBackupConfigChange = useConstCallback(\n    (config: SystemBackupConfigUpdateRequest): void => {\n      setUpdateBackupConfig(config);\n    }\n  );\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    if (updateBackupConfig) {\n      dispatch(updateConfig(updateBackupConfig));\n    }\n  };\n\n  const onMessageBarDismiss = useConstCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(updateConfigResetError());\n    }\n  );\n\n  useEffect(() => {\n    if (updateConfigResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [updateConfigResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(updateConfigReset());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (backupOption?.key === BackupType.off) {\n      setUpdateBackupConfig({\n        target: BackupType.off,\n        targetUser: '',\n        targetPass: '',\n        minAge: backupConfig.minAgeInDays || 1,\n      });\n    }\n  }, [backupConfig.minAgeInDays, backupOption]);\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal={isMinLargeScreen} {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Backup configuration',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        {updateConfigResponse}\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Dropdown\n          label=\"Backup to\"\n          options={backupOptions}\n          selectedKey={backupOption?.key}\n          required\n          onChange={onBackupOptionChange}\n        />\n        {backupOption?.key === BackupType.local && (\n          <BackupInfoLocal config={backupConfig} />\n        )}\n        {backupOption?.key === BackupType.rsync && (\n          <BackupInfoRsync config={backupConfig} />\n        )}\n        {backupOption?.key === BackupType.s3 && (\n          <BackupInfoS3 config={backupConfig} />\n        )}\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={1}\n        className={columnClassName}\n        verticalAlign={backupOption?.key === BackupType.off ? 'end' : 'start'}\n        as=\"form\"\n        onSubmit={onFormSubmit}\n      >\n        {updateConfigError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            onDismiss={onMessageBarDismiss}\n          >\n            {updateConfigError}\n          </MessageBar>\n        )}\n        {backupOption?.key === BackupType.local && (\n          <BackupConfigureLocal\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.local}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        {backupOption?.key === BackupType.rsync && (\n          <BackupConfigureRsync\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.rsync}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        {backupOption?.key === BackupType.s3 && (\n          <BackupConfigureS3\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.s3}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        <Stack horizontal>\n          <PrimaryButton type=\"submit\" disabled={isUpdatingConfig}>\n            Save\n          </PrimaryButton>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  ScreenWidthMinLarge,\n  SelectionMode,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { SystemBackupStatus, SystemBackupStatusResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nfunction niceSize(bytes: number): string {\n  const powers = ['bytes', 'KB', 'MB', 'GB', 'TB'];\n  while (true) {\n    if (powers.length === 1) {\n      break;\n    }\n    if (bytes < 1000) {\n      break;\n    }\n    bytes /= 1024;\n    powers.shift();\n  }\n  // round to have three significant figures but at most one decimal place\n  if (bytes >= 100) {\n    bytes = Math.round(bytes);\n  } else {\n    bytes = Math.round(bytes * 10) / 10;\n  }\n  return bytes + ' ' + powers[0];\n}\n\nfunction getTotalBackupsSize(\n  items: Array<SystemBackupStatus>,\n  unmatchedFileSize: number\n): string {\n  const totalSize =\n    items.reduce((total, item) => total + item.size, 0) + unmatchedFileSize;\n  return niceSize(totalSize);\n}\n\nconst strongCellClassName = mergeStyles({\n  fontWeight: 'bold',\n});\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'When',\n    minWidth: 160,\n    maxWidth: 160,\n    isMultiline: true,\n    isRowHeader: true,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.dateStr}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '',\n    minWidth: 160,\n    isMultiline: true,\n    isRowHeader: true,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.dateDelta} ago\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Type',\n    isMultiline: false,\n    minWidth: 100,\n    fieldName: 'text',\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.full ? 'full' : 'increment'}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Size',\n    isMultiline: false,\n    minWidth: 80,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {niceSize(item.size)}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column5',\n    name: 'Deleted In',\n    isMultiline: false,\n    minWidth: 100,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.deletedIn ?? 'unknown'}\n        </Text>\n      );\n    },\n  },\n];\n\nexport const BackupsList: React.FunctionComponent<\n  IStackProps & SystemBackupStatusResponse\n> = ({ backups = [], unmatchedFileSize, ...props }) => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <Stack as=\"section\" {...props}>\n      {!backups.length && (\n        <MessageBar messageBarType={MessageBarType.warning}>\n          No backups have been made yet.\n        </MessageBar>\n      )}\n      {backups.length && (\n        <>\n          <MessageBar\n            isMultiline={isMinLargeScreen}\n            truncated={!isMinLargeScreen}\n          >\n            The backup location currently contains the backups listed below. The\n            total size of the backups is currently{' '}\n            <strong>{getTotalBackupsSize(backups, unmatchedFileSize)}</strong>.\n          </MessageBar>\n          <DetailsList\n            items={backups}\n            columns={columns}\n            layoutMode={DetailsListLayoutMode.justified}\n            isHeaderVisible\n            onShouldVirtualize={(): boolean => false}\n            selectionMode={SelectionMode.none}\n            constrainMode={ConstrainMode.horizontalConstrained}\n          />\n        </>\n      )}\n    </Stack>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  MessageBarType,\n  PrimaryButton,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport {\n  getConfig,\n  getStatus,\n} from '../../../../../features/system/backupsSlice';\nimport { RootState } from '../../../../../store';\nimport { BackupConfigure } from '../../../../ui/BackupConfigure/BackupConfigure';\nimport { BackupsList } from '../../../../ui/BackupsList/BackupsList';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MessageBar } from '../../../../ui/MessageBar/MessageBar';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst BackupSections: React.FunctionComponent = () => {\n  const { status } = useSelector((state: RootState) => state.system.backups);\n  const { path, url } = useRouteMatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const { backups, unmatchedFileSize, error } = status;\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  const pivotItems = [\n    {\n      itemKey: url,\n      headerText: 'Backup Status',\n    },\n    {\n      itemKey: `${url}/config`,\n      headerText: 'Backup Configuration',\n    },\n  ];\n\n  useEffect(() => {\n    if (error) {\n      setIsDialogHidden(false);\n    }\n  }, [error]);\n\n  return (\n    <>\n      {/*\n      TODO: when the dialog is shown it creates a whitespace gap due to the stacking and due\n      to the dialog rendering a layer element\n      */}\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Backup error',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n      >\n        {error}\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <PivotRoutes items={pivotItems} />\n      <Switch>\n        <Route exact path={path}>\n          {backups && backups.length > 0 && (\n            <BackupsList\n              backups={backups}\n              unmatchedFileSize={unmatchedFileSize}\n            />\n          )}\n          {!backups && (\n            <MessageBar messageBarType={MessageBarType.warning}>\n              Backups are turned off.\n            </MessageBar>\n          )}\n          {backups && !backups.length && (\n            <MessageBar messageBarType={MessageBarType.warning}>\n              No backups have been made yet.\n            </MessageBar>\n          )}\n        </Route>\n        <Route exact path={`${path}/config`}>\n          <BackupConfigure\n            backups={backups}\n            unmatchedFileSize={unmatchedFileSize}\n          />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const BackupsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const {\n    isGettingStatus,\n    isGettingConfig,\n    getStatusError,\n    getConfigError,\n  } = useSelector((state: RootState) => state.system.backups);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getStatus());\n    dispatch(getConfig());\n  }, [dispatch]);\n\n  const isLoading = isGettingStatus || isGettingConfig;\n  const error = getStatusError || getConfigError;\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Backup Status',\n              key: 'backupstatus',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <BodyPanel>\n          <Text>\n            The box makes an incremental backup each night. By default the\n            backup is stored on the machine itself, but you can also have it\n            stored on Amazon S3.\n          </Text>\n        </BodyPanel>\n        <BodyPanel>\n          {error && (\n            <MessageBar messageBarType={MessageBarType.error} isMultiline>\n              {error}\n            </MessageBar>\n          )}\n          {isLoading && <ProgressIndicator label=\"Checking backup status...\" />}\n          {!isLoading && !error && <BackupSections />}\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nBackupsRoute.path = '/system/backup';\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { SSLStatus, SSLStatusType } from 'mailinabox-api';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setSSLAction, SSLActionType } from '../../../features/sslSlice';\n\ninterface CertificateActionsListProps {\n  sslStatus: SSLStatus;\n}\n\nexport const CertificateActionsList: React.FunctionComponent<CertificateActionsListProps> = React.memo(\n  ({ sslStatus }) => {\n    const dispatch = useDispatch();\n    const doAction = useConstCallback((type: SSLActionType): void => {\n      dispatch(\n        setSSLAction({\n          sslStatus,\n          type,\n        })\n      );\n    });\n    return (\n      <IconButton\n        menuIconProps={{\n          iconName: 'MoreVertical',\n        }}\n        styles={{\n          menuIcon: {\n            fontWeight: 'bold',\n          },\n        }}\n        role=\"button\"\n        aria-haspopup={true}\n        aria-label=\"Show actions\"\n        menuProps={{\n          directionalHint: DirectionalHint.bottomRightEdge,\n          items: [\n            {\n              key: 'installCertificate' + sslStatus.domain,\n              text: `${\n                sslStatus.status === SSLStatusType.Success\n                  ? 'Replace'\n                  : 'Install'\n              } Certificate`,\n              onClick: (): void => doAction(SSLActionType.install),\n            },\n          ],\n        }}\n      />\n    );\n  }\n);\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  DetailsRow,\n  getTheme,\n  IColumn,\n  IDetailsRowProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  ScreenWidthMinLarge,\n  SelectionMode,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { SSLStatus, SSLStatusType } from 'mailinabox-api';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { CertificateActionsList } from './CertificateActionsList';\n\nconst theme = getTheme();\n\nfunction getTextColor(status: SSLStatusType): string {\n  switch (status) {\n    case SSLStatusType.Success:\n      return theme.palette.greenDark;\n    case SSLStatusType.Danger:\n      return theme.palette.redDark;\n    case SSLStatusType.NotApplicable:\n    default:\n      return theme.semanticColors.bodyText;\n  }\n}\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Domain',\n    minWidth: 300,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    isResizable: true,\n    fieldName: 'domain',\n    onRender: (item: SSLStatus): React.ReactElement => {\n      return <Link href={`https://${item.domain}`}>{item.domain}</Link>;\n    },\n  },\n  {\n    key: 'column2',\n    name: 'Certificate Status',\n    isMultiline: true,\n    isRowHeader: true,\n    minWidth: 300,\n    fieldName: 'text',\n    onRender: (item: SSLStatus): React.ReactNode => {\n      const textColor = getTextColor(item.status);\n      return <Text styles={{ root: { color: textColor } }}>{item.text}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (sslStatus: SSLStatus): React.ReactNode => {\n      return sslStatus.status === SSLStatusType.NotApplicable ? null : (\n        <CertificateActionsList sslStatus={sslStatus} />\n      );\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\nexport const CertificatesList: React.FunctionComponent<\n  IStackProps & {\n    items: Array<SSLStatus>;\n  }\n> = ({ items, ...props }) => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <Stack as=\"section\" {...props}>\n      <MessageBar truncated={!isMinLargeScreen} isMultiline={isMinLargeScreen}>\n        Certificates expire after a period of time. All certificates will be\n        automatically renewed through\n        <Link href=\"https://letsencrypt.org/\">Let's Encrypt</Link> 14 days prior\n        to expiration.\n      </MessageBar>\n      <DetailsList\n        items={items}\n        columns={columns}\n        layoutMode={DetailsListLayoutMode.justified}\n        isHeaderVisible\n        selectionMode={SelectionMode.none}\n        constrainMode={ConstrainMode.horizontalConstrained}\n        useReducedRowRenderer\n        onRenderRow={(props?: IDetailsRowProps): JSX.Element | null => {\n          if (props) {\n            return (\n              <DetailsRow\n                {...props}\n                styles={{\n                  root: {\n                    animation: 'none',\n                  },\n                }}\n              />\n            );\n          }\n          return null;\n        }}\n      />\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { config } from '../../../../../config';\nimport {\n  getSSLStatus,\n  resetSSLAction,\n  SSLActionType,\n} from '../../../../../features/sslSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { CertificatesList } from '../../../../ui/CertificatesList/CertificatesList';\nimport { InstallCertificate } from '../../../../ui/InstallCertificate/InstallCertificate';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nenum SectionKeys {\n  status = '',\n  install = '/install',\n}\n\nconst CertificateSections: React.FunctionComponent = () => {\n  const { sslStatus, sslAction } = useSelector((state: RootState) => state.ssl);\n  const { status: items } = sslStatus;\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { path, url } = useRouteMatch();\n\n  const pivotRoutes = [\n    {\n      itemKey: url,\n      headerText: 'Certificate Status',\n    },\n    {\n      itemKey: `${url}${SectionKeys.install}`,\n      headerText: 'Install Custom Certificate',\n    },\n  ];\n\n  useEffect(() => {\n    if (sslAction?.type === SSLActionType.install) {\n      history.push(`${url}${SectionKeys.install}`);\n    }\n  }, [history, sslAction, url]);\n\n  useEffect(() => {\n    if (location.pathname === url) {\n      dispatch(resetSSLAction());\n    }\n  }, [dispatch, location.pathname, url]);\n\n  return (\n    <>\n      <PivotRoutes items={pivotRoutes} />\n      <Switch>\n        <Route exact path={path}>\n          <CertificatesList items={items} />\n        </Route>\n        <Route exact path={`${path}${SectionKeys.install}`}>\n          <InstallCertificate items={items} />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const CertificatesRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingStatus, getStatusError, sslStatus } = useSelector(\n    (state: RootState) => state.ssl\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!sslStatus.status.length) {\n      dispatch(getSSLStatus());\n    }\n  }, [dispatch, sslStatus.status.length]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'TLS (SSL) Certificates',\n              key: 'certificates',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <BodyPanel>\n          <Text>\n            A TLS (formerly called SSL) certificate is a cryptographic file that\n            proves to anyone connecting to a web address that the connection is\n            secure between you and the owner of that address.\n          </Text>\n          <Text>\n            You need a TLS certificate for this boxs hostname (\n            {config.hostname}) (TODO) and every other domain name and subdomain\n            that this box is hosting a website for (see the list below).\n          </Text>\n        </BodyPanel>\n        <BodyPanel>\n          {getStatusError && (\n            <MessageBar messageBarType={MessageBarType.error} isMultiline>\n              {getStatusError}\n            </MessageBar>\n          )}\n          {isGettingStatus && (\n            <ProgressIndicator label=\"Checking certificate status...\" />\n          )}\n          {!isGettingStatus && !getStatusError && <CertificateSections />}\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nCertificatesRoute.path = '/system/ssl';\n","import {\n  Callout,\n  IconButton,\n  IOnRenderComboBoxLabelProps,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\nexport const InstallCertificateComboBoxLabel: React.FunctionComponent<\n  IOnRenderComboBoxLabelProps & {\n    defaultRender: (props?: IOnRenderComboBoxLabelProps) => JSX.Element | null;\n    calloutText: string;\n  }\n> = (props?): JSX.Element => {\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const descriptionId: string = useId('description');\n  const iconButtonId: string = useId('iconButton');\n\n  return (\n    <>\n      <Stack horizontal verticalAlign=\"center\">\n        {props?.defaultRender(props)}\n        <IconButton\n          id={iconButtonId}\n          title=\"Info\"\n          ariaLabel=\"Info\"\n          iconProps={{ iconName: 'Info' }}\n          onClick={toggleIsCalloutVisible}\n        />\n      </Stack>\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          setInitialFocus\n          onDismiss={toggleIsCalloutVisible}\n          ariaDescribedBy={descriptionId}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth: 320,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{props.calloutText}</Text>\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  IModalProps,\n  IStackProps,\n  MessageBar,\n  MessageBarType,\n  PrimaryButton,\n  ProgressIndicator,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { SSLCertificateInstallRequest } from 'mailinabox-api';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  generateCSR,\n  getSSLStatus,\n  installCertificate,\n  installCertificateReset,\n} from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { Pre } from '../Pre/Pre';\n\ninterface SSLCertificateInstallProps {\n  domain: string;\n  countryCode: string;\n}\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'TLS Certificate Installation',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nconst defaultInstallCertificateRequest: SSLCertificateInstallRequest = {\n  domain: '',\n  cert: '',\n  chain: '',\n};\n\nconst installOkRegEx = /^OK($|\\n)/;\n\nexport const InstallCertificateWithCSR: React.FunctionComponent<\n  IStackProps & SSLCertificateInstallProps\n> = ({ domain, countryCode, ...props }) => {\n  const {\n    isGeneratingCSR,\n    generateCSRError,\n    generateCSRResponse,\n    isInstallingCertificate,\n    installCertificateError,\n    installCertificateResponse,\n  } = useSelector((state: RootState) => state.ssl);\n  const dispatch = useDispatch();\n\n  const [installCertificateRequest, setInstallCertificateRequest] = useState<\n    SSLCertificateInstallRequest\n  >({\n    ...defaultInstallCertificateRequest,\n    domain,\n  });\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  const onDialogDismissed = (): void => {\n    const installCertificateSuccess = installOkRegEx.test(\n      installCertificateResponse || ''\n    );\n    if (installCertificateSuccess) {\n      setInstallCertificateRequest({\n        ...defaultInstallCertificateRequest,\n        domain,\n      });\n      dispatch(getSSLStatus());\n    }\n    dispatch(installCertificateReset());\n    setHasDialogOpened(false);\n  };\n\n  const onCertChange = (\n    _event: React.FormEvent<HTMLElement>,\n    newValue?: string\n  ): void => {\n    setInstallCertificateRequest({\n      ...installCertificateRequest,\n      cert: newValue ?? '',\n    });\n  };\n\n  const onChainChange = (\n    _event: React.FormEvent<HTMLElement>,\n    newValue?: string\n  ): void => {\n    setInstallCertificateRequest({\n      ...installCertificateRequest,\n      chain: newValue ?? '',\n    });\n  };\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    dispatch(installCertificate(installCertificateRequest));\n  };\n\n  useEffect(() => {\n    if (installCertificateResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [installCertificateResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    dispatch(generateCSR(domain, countryCode));\n  }, [countryCode, domain, dispatch]);\n\n  const error = generateCSRError || installCertificateError;\n\n  const dialogContent = installOkRegEx.test(installCertificateResponse || '')\n    ? 'Certificate has been installed. Check that you have no connection problems to the domain.'\n    : installCertificateResponse;\n\n  return (\n    <Stack {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Text>{dialogContent}</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      {error && (\n        <MessageBar messageBarType={MessageBarType.error} isMultiline>\n          {error}\n        </MessageBar>\n      )}\n      {isGeneratingCSR && <ProgressIndicator label=\"Generating CSR...\" />}\n      {!isGeneratingCSR && generateCSRResponse && (\n        <Stack gap=\"m\" as=\"form\" onSubmit={onFormSubmit}>\n          <Text>\n            You will need to provide the certificate provider this Certificate\n            Signing Request (CSR):\n          </Text>\n          <MessageBar messageBarType={MessageBarType.info} isMultiline>\n            The CSR is safe to share. It can only be used in combination with a\n            secret key stored on this machine.\n          </MessageBar>\n          <Pre>{generateCSRResponse}</Pre>\n          <Text>\n            The certificate provider will then provide you with a TLS/SSL\n            certificate. They may also provide you with an intermediate chain.\n            Paste each separately into the boxes below:\n          </Text>\n          <TextField\n            label=\"TLS/SSL certificate:\"\n            multiline\n            rows={6}\n            placeholder=\"-----BEGIN CERTIFICATE-----&#xA;stuff here&#xA;-----END CERTIFICATE-----\"\n            value={installCertificateRequest.cert}\n            onChange={onCertChange}\n            required\n          />\n          <TextField\n            label=\"TLS/SSL intermediate chain (if provided):\"\n            multiline\n            rows={6}\n            placeholder=\"-----BEGIN CERTIFICATE-----&#xA;stuff here&#xA;-----END CERTIFICATE-----&#xA;-----BEGIN CERTIFICATE-----&#xA;more stuff here&#xA;-----END CERTIFICATE-----\"\n            value={installCertificateRequest.chain}\n            onChange={onChainChange}\n          />\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isInstallingCertificate}>\n              Install Certificate\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      )}\n    </Stack>\n  );\n};\n","import {\n  ComboBox,\n  IComboBox,\n  IComboBoxOption,\n  IOnRenderComboBoxLabelProps,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  ScreenWidthMinLarge,\n  Stack,\n  VirtualizedComboBox,\n} from '@fluentui/react';\nimport { getCodeList } from 'country-list';\nimport { SSLStatus } from 'mailinabox-api';\nimport React, { useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { generateCSRReset } from '../../../features/sslSlice';\nimport { useFormInputs } from '../../../forms/useFormInputs';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { InstallCertificateComboBoxLabel } from './InstallCertificateComboBoxLabel';\nimport { InstallCertificateWithCSR } from './InstallCertificateWithCSR';\n\nconst countries = getCodeList();\n\nconst countriesList = Object.keys(countries)\n  .map((countryCode) => ({\n    key: countryCode.toUpperCase(),\n    text: countries[countryCode],\n  }))\n  .sort((a, b) => a.text.localeCompare(b.text));\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst comboBoxStyles = {\n  label: {\n    selectors: {\n      ':after': {\n        paddingRight: 0,\n      },\n    },\n  },\n};\n\nconst onRenderComboBoxLabel = (calloutText: string) => (\n  props?: IOnRenderComboBoxLabelProps,\n  defaultRender?: (props?: IOnRenderComboBoxLabelProps) => JSX.Element | null\n): React.ReactElement | null =>\n  props && defaultRender ? (\n    <InstallCertificateComboBoxLabel\n      {...props}\n      calloutText={calloutText}\n      defaultRender={defaultRender}\n    />\n  ) : null;\n\ntype FormState = {\n  domain: string;\n  country: string;\n};\n\nconst initialFormState: FormState = {\n  domain: '',\n  country: '',\n};\n\nexport const InstallCertificate: React.FunctionComponent<\n  IStackProps & {\n    items: Array<SSLStatus>;\n  }\n> = ({ items, ...props }) => {\n  const { sslAction } = useSelector((state: RootState) => state.ssl);\n  const { inputs, setInputs } = useFormInputs<FormState>({\n    ...initialFormState,\n    domain: sslAction?.sslStatus?.domain || '',\n  });\n  const dispatch = useDispatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const onComboboxChange = (key: keyof FormState) => (\n    _event: React.FormEvent<IComboBox>,\n    option?: IComboBoxOption\n  ): void => {\n    if (option) {\n      dispatch(generateCSRReset());\n      setInputs({\n        ...inputs,\n        [key]: option,\n      });\n    }\n  };\n\n  const onDomainRenderLabel = useMemo(\n    () =>\n      onRenderComboBoxLabel(\n        'A multi-domain or wildcard certificate will be automatically applied to any domains it is valid for besides the one you choose above.'\n      ),\n    []\n  );\n\n  const onCountryRenderLabel = useMemo(\n    () =>\n      onRenderComboBoxLabel(\n        \"This is required by some TLS certificate providers. You may leave this blank if you know your TLS certificate provider doesn't require it.\"\n      ),\n    []\n  );\n\n  return (\n    <Stack as=\"section\" gap=\"m\" {...props}>\n      <MessageBar\n        messageBarType={MessageBarType.info}\n        isMultiline={isMinLargeScreen}\n        truncated={!isMinLargeScreen}\n      >\n        If you don't want to use our automatic Let's Encrypt integration, you\n        can give any other certificate provider a try. You can generate the\n        needed CSR below.\n      </MessageBar>\n      <Stack horizontal={isMinLargeScreen} gap={isMinLargeScreen ? 'l2' : 'm'}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <ComboBox\n            placeholder=\"Select a domain\"\n            label=\"Which domain are you getting a certificate for?\"\n            options={items.map(({ domain }) => ({\n              key: domain,\n              text: domain,\n            }))}\n            required\n            allowFreeform\n            autoComplete=\"on\"\n            selectedKey={inputs.domain}\n            onRenderLabel={onDomainRenderLabel}\n            onChange={onComboboxChange('domain')}\n            styles={comboBoxStyles}\n          />\n          {inputs.domain && (\n            <VirtualizedComboBox\n              placeholder=\"Select a country\"\n              label=\"What country are you in?\"\n              options={countriesList}\n              onRenderLabel={onCountryRenderLabel}\n              allowFreeform\n              autoComplete=\"on\"\n              selectedKey={inputs.country}\n              onChange={onComboboxChange('country')}\n              styles={comboBoxStyles}\n              dropdownMaxWidth={300}\n              useComboBoxAsMenuWidth\n            />\n          )}\n        </Stack>\n        <Stack grow={2} className={columnClassName}>\n          {inputs.domain && inputs.country && (\n            <InstallCertificateWithCSR\n              domain={inputs.domain as string}\n              countryCode={inputs.country as string}\n            />\n          )}\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import { DNSRecordType } from 'mailinabox-api';\n\ntype RecordTypes = {\n  [key in DNSRecordType]: {\n    hint: string;\n    text: string;\n  };\n};\n\nexport const recordTypes: RecordTypes = {\n  [DNSRecordType.A]: {\n    hint:\n      \"Enter an IPv4 address (i.e. a dotted quad, such as 123.456.789.012).  The 'local' alias sets the record to this box's public IPv4 address.\",\n    text: 'A (IPv4 address)',\n  },\n  [DNSRecordType.AAAA]: {\n    hint:\n      \"Enter an IPv6 address.  The 'local' alias sets the record to this box's public IPv6 address.\",\n    text: 'AAAA (IPv6 address)',\n  },\n  [DNSRecordType.CAA]: {\n    hint:\n      'Enter a CA that can issue certificates for this domain in the form of FLAG TAG VALUE. (0 issuewild &quot;letsencrypt.org&quot;)',\n    text: 'CAA (Certificate Authority Authorization)',\n  },\n  [DNSRecordType.CNAME]: {\n    hint:\n      'Enter another domain name followed by a period at the end (e.g. mypage.github.io.).',\n    text: 'CNAME (DNS forwarding)',\n  },\n  [DNSRecordType.TXT]: {\n    hint: 'Enter arbitrary text.',\n    text: 'TXT (text record)',\n  },\n  [DNSRecordType.MX]: {\n    hint:\n      'Enter record in the form of PRIORITY DOMAIN., including trailing period (e.g. 20 mx.example.com.).',\n    text: 'MX (mail exchanger)',\n  },\n  [DNSRecordType.SRV]: {\n    hint:\n      'Enter record in the form of PRIORITY WEIGHT PORT TARGET., including trailing period (e.g. 10 10 5060 sip.example.com.).',\n    text: 'SRV (service record)',\n  },\n  [DNSRecordType.SSHFP]: {\n    hint: 'Enter record in the form of ALGORITHM TYPE FINGERPRINT.',\n    text: 'SSHFP (SSH fingerprint record)',\n  },\n  [DNSRecordType.NS]: {\n    hint: 'Enter a hostname to which this subdomain should be delegated to.',\n    text: 'NS (DNS subdomain delegation)',\n  },\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  Dropdown,\n  IDropdownOption,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { DNSRecordType } from 'mailinabox-api';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  addCustomRecord,\n  addCustomRecordReset,\n  addCustomRecordResetError,\n  getCustomRecords,\n} from '../../../features/dnsSlice';\nimport { useFormInputs } from '../../../forms/useFormInputs';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\nimport { recordTypes } from './recordTypes';\n\nconst recordTypeOptions = Object.keys(recordTypes).map((key) => ({\n  key,\n  text: recordTypes[key as DNSRecordType].text,\n}));\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\ntype FormState = {\n  type: IDropdownOption;\n  zone: IDropdownOption;\n  name: string;\n  value: string;\n};\n\nexport const CustomDnsAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const {\n    isAddingCustomRecord,\n    addCustomRecordResponse,\n    addCustomRecordError,\n    zones,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const zoneOptions = zones.map((zone) => ({\n    key: zone,\n    text: zone,\n  }));\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const { inputs, setInputs, resetInputs, onInputChange } = useFormInputs<\n    FormState\n  >({\n    type: recordTypeOptions[0],\n    zone: zoneOptions[0],\n    name: '',\n    value: '',\n  });\n\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = (): void => {\n    if (addCustomRecordResponse) {\n      dispatch(getCustomRecords());\n    }\n    dispatch(addCustomRecordReset());\n    setHasDialogOpened(false);\n    resetInputs();\n  };\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  const onDropdownChange = (name: string) => (\n    _event: React.FormEvent<HTMLDivElement>,\n    option?: IDropdownOption\n  ): void => {\n    if (option) {\n      setInputs({\n        ...inputs,\n        [name]: option,\n      });\n    }\n  };\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    const qname = inputs.name\n      ? `${inputs.name}.${inputs.zone.key as string}`\n      : (inputs.zone.key as string);\n    dispatch(\n      addCustomRecord({\n        qname,\n        rtype: inputs.type.key as DNSRecordType,\n        body: inputs.value,\n      })\n    );\n  };\n\n  const onMessageBarDismiss = useConstCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addCustomRecordResetError());\n    }\n  );\n\n  useEffect(() => {\n    if (addCustomRecordResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addCustomRecordResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addCustomRecordReset());\n    };\n  }, [dispatch]);\n\n  console.log('addCustomRecordError', addCustomRecordError);\n\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Custom DNS',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addCustomRecordResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack as=\"section\" gap=\"l2\" horizontal={isMinLargeScreen} {...props}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            You can set additional DNS records, such as if you have a website\n            running on another server, to add DKIM records for external mail\n            providers, or for various confirmation-of-ownership tests.\n          </Text>\n        </Stack>\n        <Stack\n          gap=\"m\"\n          grow={1}\n          className={columnClassName}\n          as=\"form\"\n          onSubmit={onFormSubmit}\n        >\n          {addCustomRecordError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              isMultiline={false}\n              onDismiss={onMessageBarDismiss}\n              dismissButtonAriaLabel=\"Close\"\n            >\n              {addCustomRecordError}\n            </MessageBar>\n          )}\n          <Dropdown\n            label=\"Domain\"\n            required\n            options={zoneOptions}\n            selectedKey={inputs.zone.key}\n            onChange={onDropdownChange('zone')}\n          />\n          <TextField\n            label=\"Name\"\n            placeholder=\"subdomain\"\n            value={inputs.name}\n            name=\"name\"\n            onChange={onInputChange}\n          />\n          <Dropdown\n            label=\"Type\"\n            required\n            options={recordTypeOptions}\n            selectedKey={inputs.type.key}\n            onChange={onDropdownChange('type')}\n          />\n          <TextField\n            label=\"Value\"\n            required\n            value={inputs.value}\n            name=\"value\"\n            onChange={onInputChange}\n          />\n          <MessageBar>\n            {recordTypes[inputs.type.key as DNSRecordType].hint}\n          </MessageBar>\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isAddingCustomRecord}>\n              Save Record\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import { DialogType, Text } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  DNSActionType,\n  getCustomRecords,\n  removeCustomRecord,\n  removeCustomRecordReset,\n  resetDNSAction,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\nimport { Pre } from '../Pre/Pre';\n\nexport const CustomDnsRecordActions: React.FunctionComponent = () => {\n  const {\n    isRemovingCustomRecord,\n    dnsAction,\n    removeCustomRecordError,\n    removeCustomRecordResponse,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useConstCallback((): void => {\n    dispatch(resetDNSAction());\n  });\n\n  const onActionDialogDismissed = (): void => {\n    if (removeCustomRecordResponse) {\n      dispatch(getCustomRecords());\n    }\n    dispatch(removeCustomRecordReset());\n  };\n\n  const onRemoveAliasConfirm = (): void => {\n    if (dnsAction?.dnsRecord) {\n      const { qname, rtype, value: body } = dnsAction.dnsRecord;\n      dispatch(\n        removeCustomRecord({\n          qname,\n          rtype,\n          body,\n        })\n      );\n    }\n  };\n\n  return (\n    <ActionConfirmDialog\n      hidden={dnsAction?.type !== DNSActionType.remove}\n      isLoading={isRemovingCustomRecord}\n      onDismiss={onActionDialogDismiss}\n      onDismissed={onActionDialogDismissed}\n      onConfirm={onRemoveAliasConfirm}\n      error={removeCustomRecordError}\n      actionResponse={removeCustomRecordResponse}\n      confirmButtonText=\"Remove Record\"\n      dialogContentProps={{\n        type: DialogType.largeHeader,\n        title: 'Remove DNS Record',\n      }}\n      modalProps={{\n        isBlocking: true,\n      }}\n      minWidth={480}\n    >\n      <Text>Are you sure you want to remove the custom record:</Text>\n      <Pre>\n        {dnsAction?.dnsRecord?.qname}&nbsp;({dnsAction?.dnsRecord?.rtype})\n      </Pre>\n    </ActionConfirmDialog>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { DNSCustomRecord } from 'mailinabox-api';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { DNSActionType, setDNSAction } from '../../../features/dnsSlice';\n\ninterface CustomDnsRecordsActionsListProps {\n  dnsRecord: DNSCustomRecord;\n}\n\nexport const CustomDnsRecordsActionsList: React.FunctionComponent<CustomDnsRecordsActionsListProps> = React.memo(\n  ({ dnsRecord }) => {\n    const dispatch = useDispatch();\n    const doAction = useConstCallback((type: DNSActionType): void => {\n      dispatch(\n        setDNSAction({\n          dnsRecord,\n          type,\n        })\n      );\n    });\n    return (\n      <IconButton\n        menuIconProps={{\n          iconName: 'MoreVertical',\n        }}\n        styles={{\n          menuIcon: {\n            fontWeight: 'bold',\n          },\n        }}\n        role=\"button\"\n        aria-haspopup={true}\n        aria-label=\"Show actions\"\n        menuProps={{\n          directionalHint: DirectionalHint.bottomRightEdge,\n          items: [\n            {\n              key: 'removeDnsRecord' + dnsRecord.qname + dnsRecord.rtype,\n              text: 'Remove',\n              onClick: (): void => doAction(DNSActionType.remove),\n            },\n          ],\n        }}\n      />\n    );\n  }\n);\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { DNSCustomRecord } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectCustomRecordsWithGroups } from '../../../features/dnsSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { CustomDnsRecordActions } from './CustomDnsRecordActions';\nimport { CustomDnsRecordsActionsList } from './CustomDnsRecordsActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Domain Name',\n    minWidth: 200,\n    maxWidth: 300,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'qname',\n  },\n  {\n    key: 'column2',\n    name: 'Record Type',\n    minWidth: 100,\n    maxWidth: 100,\n    isMultiline: false,\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.rtype}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Value',\n    minWidth: 180,\n    isMultiline: true,\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (dnsRecord: DNSCustomRecord): React.ReactNode => {\n      return <CustomDnsRecordsActionsList dnsRecord={dnsRecord} />;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface CustomDnsRecordsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const CustomDnsRecordsList: React.FunctionComponent<\n  IStackProps & CustomDnsRecordsListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [records, groups] = useSelector(selectCustomRecordsWithGroups);\n\n  return (\n    <Stack as=\"section\" {...props}>\n      <CustomDnsRecordActions />\n      <GroupedDetailsList\n        items={records}\n        columns={columns}\n        groups={groups}\n        openedGroupsState={openedGroupsState}\n      />\n    </Stack>\n  );\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  addSecondaryNameserver,\n  addSecondaryNameserverReset,\n  addSecondaryNameserverResetError,\n  getSecondaryNameserver,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const CustomDnsSecondaryNameserver: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const {\n    isAddingSecondaryNameserver,\n    addSecondaryNameserverError,\n    addSecondaryNameserverResponse,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const [hostname, setHostname] = useState<string>('');\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = (): void => {\n    if (addSecondaryNameserverResponse) {\n      dispatch(getSecondaryNameserver());\n    }\n    dispatch(addSecondaryNameserverReset());\n  };\n\n  const onDialogClose = useConstCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    }\n  );\n\n  const onErrorMessageBarDismiss = useConstCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addSecondaryNameserverResetError());\n    }\n  );\n\n  const onHostnameChange = useConstCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setHostname(newValue || '');\n    }\n  );\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    dispatch(\n      addSecondaryNameserver({\n        hostnames: hostname,\n      })\n    );\n  };\n\n  useEffect(() => {\n    if (addSecondaryNameserverResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addSecondaryNameserverResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addSecondaryNameserverReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal={isMinLargeScreen} {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Custom DNS',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addSecondaryNameserverResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Text>\n          If your TLD requires you to have two separate nameservers, you can\n          either set up external DNS and ignore the DNS server on this box\n          entirely, or use the DNS server on this box but add a secondary (aka\n          slave) nameserver.\n        </Text>\n        <Text>\n          If you choose to use a secondary nameserver, you must find a secondary\n          nameserver service provider. Your domain name registrar or virtual\n          cloud provider may provide this service for you. Once you set up the\n          secondary nameserver service, enter the hostname (not the IP address)\n          of their secondary nameserver in field.\n        </Text>\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={1}\n        className={columnClassName}\n        as=\"form\"\n        onSubmit={onFormSubmit}\n      >\n        {addSecondaryNameserverError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            isMultiline={false}\n            onDismiss={onErrorMessageBarDismiss}\n            dismissButtonAriaLabel=\"Close\"\n          >\n            {addSecondaryNameserverError}\n          </MessageBar>\n        )}\n        <MessageBar>\n          Multiple secondary servers can be separated with commas or spaces\n          (i.e., ns2.hostingcompany.com ns3.hostingcompany.com).\n        </MessageBar>\n        <MessageBar>\n          To enable zone transfers to additional servers without listing them as\n          secondary nameservers, add an IP address or subnet using\n          xfr:10.20.30.40 or xfr:10.20.30.40/24.\n        </MessageBar>\n        <TextField\n          label=\"Hostname\"\n          required\n          placeholder=\"ns1.cloudprovider.com\"\n          value={hostname}\n          onChange={onHostnameChange}\n        />\n        <Stack horizontal>\n          <PrimaryButton type=\"submit\" disabled={isAddingSecondaryNameserver}>\n            Update\n          </PrimaryButton>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport {\n  getCustomRecords,\n  getSecondaryNameserver,\n  getZones,\n} from '../../../../../features/dnsSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { CustomDnsAdd } from '../../../../ui/CustomDnsAdd/CustomDnsAdd';\nimport { CustomDnsRecordsList } from '../../../../ui/CustomDnsRecordsList/CustomDnsRecordsList';\nimport { CustomDnsSecondaryNameserver } from '../../../../ui/CustomDnsSecondaryNameserver/CustomDnsSecondaryNameserver';\nimport { LoadingOverlay } from '../../../../ui/LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../../../../ui/LoadingOverlay/LoadingOverlayContainer';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst CustomDnsSections: React.FunctionComponent = () => {\n  const {\n    isGettingSecondaryNameserver,\n    isGettingZones,\n    isGettingCustomRecords,\n    getSecondaryNameserverError,\n    getZonesError,\n    getCustomRecordsError,\n    zones,\n    customRecords,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n\n  const pivotItems = [\n    {\n      itemKey: url,\n      headerText: 'DNS Records',\n    },\n    {\n      itemKey: `${url}/add`,\n      headerText: 'Add Custom Record',\n    },\n    {\n      itemKey: `${url}/nameserver`,\n      headerText: 'Secondary Nameserver',\n    },\n  ];\n\n  useEffect(() => {\n    if (!zones.length) {\n      dispatch(getZones());\n    }\n  }, [dispatch, zones]);\n\n  useEffect(() => {\n    if (!customRecords.length) {\n      dispatch(getCustomRecords());\n    }\n  }, [customRecords, dispatch]);\n\n  useEffect(() => {\n    dispatch(getSecondaryNameserver());\n  }, [dispatch]);\n  return (\n    <>\n      <PivotRoutes items={pivotItems} />\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {isGettingCustomRecords && (\n              <LoadingOverlay\n                loadingLabel=\"Checking DNS status...\"\n                hasLoaded={Boolean(customRecords.length)}\n              />\n            )}\n            {Boolean(getCustomRecordsError) && (\n              <MessageBar messageBarType={MessageBarType.error}>\n                {getCustomRecordsError}\n              </MessageBar>\n            )}\n            {!getCustomRecordsError && Boolean(customRecords.length) && (\n              <CustomDnsRecordsList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          {isGettingZones && <ProgressIndicator label=\"Checking Zones...\" />}\n          {Boolean(getZonesError) && (\n            <MessageBar messageBarType={MessageBarType.error}>\n              {getZonesError}\n            </MessageBar>\n          )}\n          {!getZonesError && Boolean(zones.length) && <CustomDnsAdd />}\n        </Route>\n        <Route exact path={`${path}/nameserver`}>\n          {isGettingSecondaryNameserver && (\n            <ProgressIndicator label=\"Checking Secondary Nameserver...\" />\n          )}\n          {Boolean(getSecondaryNameserverError) && (\n            <MessageBar messageBarType={MessageBarType.error}>\n              {getSecondaryNameserverError}\n            </MessageBar>\n          )}\n          {!getSecondaryNameserverError && !isGettingSecondaryNameserver && (\n            <CustomDnsSecondaryNameserver />\n          )}\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const CustomDnsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Custom DNS',\n              key: 'customdns',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n          This is an advanced configuration page.\n        </MessageBar>\n        <BodyPanel>\n          <Text>\n            It is possible to set custom DNS records on domains hosted here.\n          </Text>\n        </BodyPanel>\n        <BodyPanel>\n          <CustomDnsSections />\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nCustomDnsRoute.path = '/dns/custom';\n","import {\n  Callout,\n  DefaultButton,\n  IButtonStyles,\n  IconButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\ninterface Props {\n  maxWidth?: number;\n  iconButtonClassName?: string;\n  iconButtonStyles: IButtonStyles;\n  text: string;\n  showCloseButton?: boolean;\n}\n\nexport const InfoButton: React.FunctionComponent<Props> = ({\n  text,\n  maxWidth = 320,\n  showCloseButton = true,\n  iconButtonClassName,\n  iconButtonStyles,\n}) => {\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const iconButtonId: string = useId('iconButton');\n  return (\n    <>\n      <IconButton\n        id={iconButtonId}\n        title=\"Info\"\n        text=\"Info\"\n        ariaLabel=\"Info\"\n        iconProps={{\n          iconName: 'Info',\n        }}\n        onClick={toggleIsCalloutVisible}\n        className={iconButtonClassName}\n        styles={iconButtonStyles}\n      />\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          setInitialFocus\n          onDismiss={toggleIsCalloutVisible}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{text}</Text>\n            {showCloseButton && (\n              <DefaultButton onClick={toggleIsCalloutVisible}>\n                Close\n              </DefaultButton>\n            )}\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n","import {\n  FontSizes,\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { DNSCustomRecord, DNSDumpDomainRecord } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectDumpWithGroups } from '../../../features/dnsSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { InfoButton } from '../InfoButton/InfoButton';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Qname',\n    minWidth: 260,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    isPadded: false,\n    fieldName: 'qname',\n  },\n  {\n    key: 'column2',\n    name: 'Record Type',\n    minWidth: 80,\n    maxWidth: 100,\n    isPadded: false,\n    isMultiline: false,\n    fieldName: 'rtype',\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.rtype}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Value',\n    isMultiline: true,\n    minWidth: 280,\n    isPadded: true,\n    fieldName: 'value',\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Info',\n    isMultiline: false,\n    minWidth: 40,\n    isIconOnly: true,\n    isPadded: false,\n    onRender: (item: DNSDumpDomainRecord): React.ReactNode => {\n      return (\n        <InfoButton\n          text={item.explanation}\n          showCloseButton={false}\n          iconButtonStyles={{\n            root: {\n              height: 'auto',\n            },\n            icon: {\n              fontSize: FontSizes.xLarge,\n            },\n          }}\n        />\n      );\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface DnsDumpListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const DnsDumpList: React.FunctionComponent<\n  IStackProps & DnsDumpListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [records, groups] = useSelector(selectDumpWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <GroupedDetailsList\n        items={records}\n        groups={groups}\n        columns={columns}\n        openedGroupsState={openedGroupsState}\n      />\n    </Stack>\n  );\n};\n","import {\n  Checkbox,\n  CommandBar,\n  Dropdown,\n  IStackProps,\n  Label,\n  mergeStyles,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst text = `$ORIGIN example.com.\n$TTL 1800\n\n@ IN SOA ns1.box.example.com. hostmaster.box.example.com. (\n           2020062800\n           7200\n           1800\n           1209600\n           1800\n           )\n\tIN\tNS\tns1.box.example.com.\n\tIN\tNS\tns2.box.example.com.\n\tIN\tA\t111.222.333.444\n\tIN\tAAAA\t1111:4f8:1c1c:e08a::2\n\tIN\tMX\t10 box.example.com.\n\tIN\tTXT\t\"v=spf1 mx -all\"\n_dmarc\tIN\tTXT\t\"v=DMARC1; p=quarantine\"\nmail._domainkey\tIN\tTXT\t\"v=DKIM1; k=rsa; s=email; p=1234+56789\"\n_caldavs._tcp\tIN\tSRV\t0 0 443 box.example.com.\n_carddavs._tcp\tIN\tSRV\t0 0 443 box.example.com.\nautoconfig\tIN\tA\t111.222.333.444\nautoconfig\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautodiscover\tIN\tA\t111.222.333.444\nautodiscover\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nbox\tIN\tA\t111.222.333.444\nbox\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nbox\tIN\tSSHFP\t3 2 ( 123456789 )\nbox\tIN\tSSHFP\t4 2 ( 123456789 )\nbox\tIN\tSSHFP\t1 2 ( 123456789 )\nbox\tIN\tMX\t10 box.example.com.\nbox\tIN\tTXT\t\"v=spf1 mx -all\"\n_dmarc.box\tIN\tTXT\t\"v=DMARC1; p=quarantine\"\nmail._domainkey.box\tIN\tTXT\t\"v=DKIM1; k=rsa; s=email; p=1234+56789\"\n_25._tcp.box\tIN\tTLSA\t3 1 1 123456789\n_443._tcp.box\tIN\tTLSA\t3 1 1 123456789\nautoconfig.box\tIN\tA\t111.222.333.444\nautoconfig.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautoconfig.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.autoconfig.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nautodiscover.box\tIN\tA\t111.222.333.444\nautodiscover.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautodiscover.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.autodiscover.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nns1.box\tIN\tA\t111.222.333.444\nns1.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nns1.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.ns1.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nns2.box\tIN\tA\t111.222.333.444\nns2.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nns2.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.ns2.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nwww\tIN\tA\t111.222.333.444\nwww\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nwww\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.www\tIN\tTXT\t\"v=DMARC1; p=reject\"`;\n\nexport const DnsZoneFileGenerator: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal={isMinLargeScreen} {...props}>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Text>Use this tool to generate zone files.</Text>\n        <Dropdown\n          label=\"Domain\"\n          required\n          placeholder=\"Select a domain\"\n          options={[\n            {\n              key: 'foo',\n              text: 'box.proxima-mail',\n            },\n          ]}\n        />\n        <TextField label=\"SOA Records\" required multiline rows={5} />\n        <TextField label=\"Nameservers\" required />\n        <Stack gap=\"s2\">\n          <Label>Generation Options</Label>\n          <Checkbox label=\"Split long TXT entries\" checked={false} />\n        </Stack>\n        <Stack horizontal>\n          <PrimaryButton>Generate</PrimaryButton>\n        </Stack>\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={2}\n        className={columnClassName}\n        style={{ minWidth: 0 }}\n      >\n        <CommandBar\n          styles={{\n            root: {\n              paddingLeft: 0,\n            },\n          }}\n          items={[\n            {\n              key: 'copy',\n              text: 'Copy',\n              iconProps: { iconName: 'Copy' },\n            },\n            {\n              key: 'download',\n              text: 'Download',\n              iconProps: { iconName: 'Download' },\n            },\n          ]}\n          ariaLabel=\"Use left and right arrow keys to navigate between commands\"\n        />\n        <Pre>{text}</Pre>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  Link,\n  MessageBar,\n  MessageBarType,\n  ProgressIndicator,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getDump } from '../../../../../features/dnsSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { DnsDumpList } from '../../../../ui/DnsDumpList/DnsDumpList';\nimport { DnsZoneFileGenerator } from '../../../../ui/DnsZoneFileGenerator/DnsZoneFileGenerator';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst ExternalDnsSections: React.FunctionComponent = () => {\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n  const pivotItems = [\n    {\n      itemKey: url,\n      headerText: 'DNS Records',\n    },\n    {\n      itemKey: `${url}/zone-file`,\n      headerText: 'Zone File Generator',\n    },\n  ];\n  return (\n    <>\n      <PivotRoutes items={pivotItems} />\n      <Switch>\n        <Route exact path={path}>\n          <DnsDumpList openedGroupsState={openedGroupsState} />\n        </Route>\n        <Route exact path={`${path}/zone-file`}>\n          <DnsZoneFileGenerator />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const ExternalDnsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingDump, getDumpError, dump } = useSelector(\n    (state: RootState) => state.dns\n  );\n  const dispatch = useDispatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  useEffect(() => {\n    if (!dump.length) {\n      dispatch(getDump());\n    }\n  }, [dispatch, dump.length]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'External DNS',\n              key: 'externaldns',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n          This is an advanced configuration page.\n        </MessageBar>\n        <BodyPanel>\n          <Text>\n            Although your box is configured to serve its own DNS, it is possible\n            to host your DNS elsewhere  such as in the DNS control panel\n            provided by your domain name registrar or virtual cloud provider \n            by copying the DNS zone information shown in the table below into\n            your external DNS servers control panel.\n          </Text>\n          <Text>\n            If you do so, you are responsible for keeping your DNS entries up to\n            date! If you previously enabled DNSSEC on your domain name by\n            setting a DS record at your registrar, you will likely have to turn\n            it off before changing nameservers.\n          </Text>\n          <MessageBar\n            messageBarType={MessageBarType.info}\n            isMultiline={isMinLargeScreen}\n            truncated={!isMinLargeScreen}\n          >\n            You may encounter zone file errors when attempting to create a TXT\n            record with a long string.\n            <Link href=\"http://tools.ietf.org/html/rfc4408#section-3.1.3\">\n              RFC 4408\n            </Link>{' '}\n            states a TXT record is allowed to contain multiple strings, and this\n            technique can be used to construct records that would exceed the\n            255-byte maximum length. You may need to adopt this technique when\n            adding DomainKeys. Use a tool like\n            <Link href=\"http://manpages.ubuntu.com/manpages/bionic/man8/named-checkzone.8.html\">\n              <code>named-checkzone</code>\n            </Link>{' '}\n            to validate your zone file.\n          </MessageBar>\n        </BodyPanel>\n        <BodyPanel>\n          {getDumpError && (\n            <MessageBar messageBarType={MessageBarType.error} isMultiline>\n              {getDumpError}\n            </MessageBar>\n          )}\n          {isGettingDump && <ProgressIndicator label=\"Getting DNS dump...\" />}\n          {!isGettingDump && !getDumpError && <ExternalDnsSections />}\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nExternalDnsRoute.path = '/dns/external';\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport { SystemPrivacyStatus } from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemPrivacyState {\n  isGettingPrivacy: boolean;\n  isUpdatingPrivacy: boolean;\n  status: boolean;\n  getPrivacyError: string | null;\n  updatePrivacyError: string | null;\n}\n\nconst initialState: SystemPrivacyState = {\n  isGettingPrivacy: false,\n  isUpdatingPrivacy: false,\n  status: false,\n  getPrivacyError: null,\n  updatePrivacyError: null,\n};\n\nconst systemPrivacy = createSlice({\n  name: 'privacy',\n  initialState,\n  reducers: {\n    getPrivacyStart: (state): void => {\n      state.getPrivacyError = null;\n      state.isGettingPrivacy = true;\n    },\n    getPrivacySuccess: (state, action): void => {\n      state.isGettingPrivacy = false;\n      state.status = action.payload;\n    },\n    getPrivacyError: (state, action): void => {\n      state.isGettingPrivacy = false;\n      state.getPrivacyError = action.payload;\n    },\n    updatePrivacyStart: (state): void => {\n      state.getPrivacyError = null;\n      state.isUpdatingPrivacy = true;\n    },\n    updatePrivacySuccess: (state, action): void => {\n      state.isUpdatingPrivacy = false;\n      const { result, privacy } = action.payload;\n      if (result === 'OK') {\n        state.status = privacy;\n      }\n    },\n    updatePrivacyError: (state, action): void => {\n      state.isUpdatingPrivacy = false;\n      state.updatePrivacyError = action.payload;\n    },\n  },\n});\n\nexport const {\n  getPrivacySuccess,\n  getPrivacyStart,\n  getPrivacyError,\n  updatePrivacyStart,\n  updatePrivacySuccess,\n  updatePrivacyError,\n} = systemPrivacy.actions;\n\nexport const { reducer: systemPrivacyReducer } = systemPrivacy;\n\nexport const systemPrivacyCheck = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  Action<string>\n> => async (dispatch): Promise<void> => {\n  dispatch(getPrivacyStart());\n  try {\n    const result = await systemApi.getSystemPrivacyStatus();\n    dispatch(getPrivacySuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getPrivacyError);\n  }\n};\n\nexport const updatePrivacy = (privacy: boolean): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updatePrivacyStart());\n  try {\n    const result = await systemApi.updateSystemPrivacy({\n      value: privacy ? SystemPrivacyStatus.Private : SystemPrivacyStatus.Off,\n    });\n    dispatch(\n      updatePrivacySuccess({\n        result,\n        privacy,\n      })\n    );\n  } catch (err) {\n    await handleRequestError(err, dispatch, updatePrivacyError);\n  }\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk } from '../../store';\n\nexport interface SystemRebootState {\n  isGettingRebootStatus: boolean;\n  status: boolean;\n  getRebootStatusError: string | null;\n}\n\nconst initialState: SystemRebootState = {\n  isGettingRebootStatus: false,\n  status: false,\n  getRebootStatusError: null,\n};\n\nconst systemReboot = createSlice({\n  name: 'reboot',\n  initialState,\n  reducers: {\n    getRebootStatusStart: (state): void => {\n      state.getRebootStatusError = null;\n      state.isGettingRebootStatus = true;\n    },\n    getRebootStatusSuccess: (state, action): void => {\n      state.isGettingRebootStatus = false;\n      state.status = action.payload;\n    },\n    getRebootStatusError: (state, action): void => {\n      state.getRebootStatusError = action.payload;\n      state.isGettingRebootStatus = false;\n    },\n  },\n});\n\nexport const {\n  getRebootStatusSuccess,\n  getRebootStatusStart,\n  getRebootStatusError,\n} = systemReboot.actions;\n\nexport const { reducer: systemRebootReducer } = systemReboot;\n\nexport const systemRebootCheck = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getRebootStatusStart());\n  try {\n    const result = await systemApi.getSystemRebootStatus();\n    dispatch(getRebootStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getRebootStatusError);\n  }\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { StatusEntry, StatusEntryType } from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemStatusState {\n  isGettingStatus: boolean;\n  status: Array<StatusEntry>;\n  getStatusError: string | null;\n}\n\nconst initialState: SystemStatusState = {\n  isGettingStatus: false,\n  status: [],\n  getStatusError: null,\n};\n\nconst systemStatus = createSlice({\n  name: 'status',\n  initialState,\n  reducers: {\n    getStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.status = action.payload;\n    },\n    getStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n  },\n});\n\nexport const {\n  getStatusSuccess,\n  getStatusStart,\n  getStatusError,\n} = systemStatus.actions;\n\nexport const { reducer: systemStatusReducer } = systemStatus;\n\nexport const systemStatusCheck = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getStatusStart());\n  try {\n    const result = await systemApi.getSystemStatus();\n    dispatch(getStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getStatusError);\n  }\n};\n\ntype StatusGroup = IGroup;\n\ntype StatusItem = StatusEntry & {\n  key: string;\n};\n\nexport const selectSystemStatusItemsAndGroups = (\n  state: RootState\n): [Array<StatusItem>, Array<StatusGroup>] => {\n  const groups: Array<StatusGroup> = [];\n  const items: Array<StatusItem> = [];\n  let group: StatusGroup | undefined = undefined;\n  const { status: entries } = state.system.status;\n  entries.forEach((statusEntry, i) => {\n    const isHeadingEntry = statusEntry.type === StatusEntryType.Heading;\n    if (!isHeadingEntry) {\n      items.push({\n        key: 'item' + items.length,\n        ...statusEntry,\n      });\n    }\n    if ((isHeadingEntry || i === entries.length - 1) && group) {\n      groups.push({\n        ...group,\n        count: items.length - group.startIndex,\n      });\n    }\n    if (isHeadingEntry) {\n      group = {\n        key: 'group' + groups.length,\n        name: statusEntry.text,\n        startIndex: items.length,\n        isCollapsed: false,\n        level: 0,\n        count: 0,\n      };\n    }\n  });\n\n  return [items, groups];\n};\n\ninterface SummarisedChecks {\n  [StatusEntryType.Ok]: number;\n  [StatusEntryType.Warning]: number;\n  [StatusEntryType.Error]: number;\n  total: number;\n}\n\nexport const selectSummarisedChecks = createSelector(\n  [selectSystemStatusItemsAndGroups],\n  ([items]): SummarisedChecks => {\n    const summary = {\n      [StatusEntryType.Ok]: 0,\n      [StatusEntryType.Warning]: 0,\n      [StatusEntryType.Error]: 0,\n      total: 0,\n    };\n    items.forEach((item) => {\n      if (item.type !== StatusEntryType.Heading) {\n        summary.total += 1;\n      }\n      switch (item.type) {\n        case StatusEntryType.Ok:\n          summary[StatusEntryType.Ok] += 1;\n          break;\n        case StatusEntryType.Error:\n          summary[StatusEntryType.Error] += 1;\n          break;\n        case StatusEntryType.Warning:\n          summary[StatusEntryType.Warning] += 1;\n          break;\n      }\n    });\n    return summary;\n  }\n);\n","import { FontSizes, getTheme, Icon } from '@fluentui/react';\nimport { StatusEntryType } from 'mailinabox-api';\nimport React from 'react';\n\nconst theme = getTheme();\n\nfunction getIconName(type: string): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return 'Accept';\n    case StatusEntryType.Error:\n      return 'Error';\n    case StatusEntryType.Warning:\n    default:\n      return 'Warning';\n  }\n}\n\nfunction getIconColor(type: string): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return theme.palette.green;\n    case StatusEntryType.Error:\n      return theme.palette.red;\n    case StatusEntryType.Warning:\n    default:\n      return theme.palette.yellowDark;\n  }\n}\n\ninterface SystemCheckIconProps {\n  type: StatusEntryType;\n}\n\nexport const SystemCheckIcon: React.FunctionComponent<SystemCheckIconProps> = ({\n  type,\n}) => {\n  return (\n    <Icon\n      iconName={getIconName(type)}\n      styles={{\n        root: {\n          color: getIconColor(type),\n          fontSize: FontSizes.medium,\n          verticalAlign: 'middle',\n        },\n      }}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  getTheme,\n  Link,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport { StatusEntry, StatusEntryType } from 'mailinabox-api';\nimport React, { useState } from 'react';\n\nconst theme = getTheme();\n\ninterface SystemChecksDetailsListItemProps {\n  item: StatusEntry;\n}\n\nfunction getTextColor(type: StatusEntryType): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return theme.palette.greenDark;\n    case StatusEntryType.Error:\n      return theme.palette.redDark;\n    case StatusEntryType.Warning:\n    default:\n      return theme.palette.yellowDark;\n  }\n}\n\nconst extrasClassName = mergeStyles({\n  ...AnimationStyles.fadeIn500,\n});\n\nexport const SystemChecksDetailsListItem: React.FunctionComponent<SystemChecksDetailsListItemProps> = ({\n  item,\n}) => {\n  const { text, extra, type } = item;\n  const [isCollapsed, setIsCollapsed] = useState(true);\n  const onLinkClick = useConstCallback((): void => setIsCollapsed(false));\n  const textColor = getTextColor(type);\n  return (\n    <>\n      <Text styles={{ root: { color: textColor } }}>{text}</Text>\n      {!!(extra && extra.length) && (\n        <>\n          {isCollapsed && (\n            <>\n              <br />\n              <Link onClick={onLinkClick}>Show more</Link>\n            </>\n          )}\n          {!isCollapsed && (\n            <Stack padding=\"m 0\" className={extrasClassName}>\n              {extra.map((extraItem) => {\n                return (\n                  <>\n                    {extraItem.monospace ? (\n                      <Text\n                        block\n                        styles={{\n                          root: {\n                            padding: theme.spacing.m,\n                            fontFamily: 'monospace',\n                          },\n                        }}\n                      >\n                        {extraItem.text}\n                      </Text>\n                    ) : (\n                      <Text block>{extraItem.text}</Text>\n                    )}\n                  </>\n                );\n              })}\n            </Stack>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { WebDomain } from 'mailinabox-api';\nimport psl from 'psl';\nimport { handleRequestError, webApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport type WebDomainWithDomainInfo = WebDomain & {\n  domainWithoutSubDomain: string;\n  subDomain: string;\n};\n\nexport enum WebDomainActionType {\n  update,\n}\n\nexport interface WebDomainAction {\n  webDomain?: WebDomainWithDomainInfo;\n  action?: WebDomainActionType;\n}\n\nexport interface WebState {\n  isGettingDomains: boolean;\n  domains: Array<WebDomain>;\n  getDomainsError: string | null;\n  domainAction: WebDomainAction | null;\n  isUpdatingWeb: boolean;\n  updateWebError: string | null;\n  updateWebResponse: string | null;\n}\n\nconst initialState: WebState = {\n  isGettingDomains: false,\n  domains: [],\n  getDomainsError: null,\n  domainAction: null,\n  isUpdatingWeb: false,\n  updateWebError: null,\n  updateWebResponse: null,\n};\n\nexport const web = createSlice({\n  name: 'web',\n  initialState,\n  reducers: {\n    getDomainsStart: (state): void => {\n      state.getDomainsError = null;\n      state.isGettingDomains = true;\n    },\n    getDomainsSuccess: (state, action): void => {\n      state.isGettingDomains = false;\n      state.domains = action.payload;\n    },\n    getDomainsError: (state, action): void => {\n      state.isGettingDomains = false;\n      state.getDomainsError = action.payload;\n    },\n    updateWebStart: (state): void => {\n      state.updateWebError = null;\n      state.isUpdatingWeb = true;\n    },\n    updateWebSuccess: (state, action): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebResponse = action.payload;\n    },\n    updateWebError: (state, action): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebError = action.payload;\n    },\n    updateWebReset: (state): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebError = null;\n      state.updateWebResponse = null;\n    },\n    resetDomainAction: (state): void => {\n      state.domainAction = {\n        ...state.domainAction,\n        action: undefined,\n      };\n    },\n    setDomainAction: (state, action: PayloadAction<WebDomainAction>): void => {\n      state.domainAction = action.payload;\n    },\n  },\n});\n\nexport const { reducer: webReducer } = web;\n\nexport const {\n  getDomainsStart,\n  getDomainsSuccess,\n  getDomainsError,\n  resetDomainAction,\n  setDomainAction,\n  updateWebStart,\n  updateWebSuccess,\n  updateWebError,\n  updateWebReset,\n} = web.actions;\n\nfunction sortByFqdn(\n  a: WebDomainWithDomainInfo,\n  b: WebDomainWithDomainInfo\n): number {\n  if (a.domainWithoutSubDomain === b.domainWithoutSubDomain) {\n    return a.subDomain.localeCompare(b.subDomain);\n  }\n  return a.domainWithoutSubDomain.localeCompare(b.domainWithoutSubDomain);\n}\n\nexport const selectOrderedAndGroupedStaticEnabledDomains = (\n  state: RootState\n): [Array<WebDomainWithDomainInfo>, Array<IGroup>] => {\n  const domains = state.web.domains\n    .filter((webDomain) => webDomain.staticEnabled)\n    .map((webDomain) => {\n      const parsed = psl.parse(webDomain.domain);\n      return {\n        ...webDomain,\n        domainWithoutSubDomain: (!parsed.error && parsed.domain) || '',\n        subDomain: (!parsed.error && parsed.subdomain) || '',\n      };\n    })\n    .sort(sortByFqdn);\n\n  let groups: Array<IGroup> = [];\n\n  domains.forEach((webDomain: WebDomainWithDomainInfo, index) => {\n    const { domainWithoutSubDomain } = webDomain;\n    if (groups[groups.length - 1]?.name !== domainWithoutSubDomain) {\n      groups.push({\n        key: 'group' + groups.length,\n        name: domainWithoutSubDomain,\n        startIndex: index,\n        level: 0,\n        count: 0,\n        isCollapsed: true,\n      });\n    }\n  });\n\n  groups = groups.map((group, index) => {\n    return {\n      ...group,\n      count:\n        (groups[index + 1]?.startIndex || domains.length) - group.startIndex,\n    };\n  });\n\n  return [domains, groups];\n};\n\nexport const selectGetDomainsError = (state: RootState): string | null =>\n  state.web.getDomainsError;\n\nexport const getDomains = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getDomainsStart());\n  try {\n    const result = await webApi.getWebDomains();\n    dispatch(getDomainsSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getDomainsError);\n  }\n};\n\nexport const updateWeb = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(updateWebStart());\n  try {\n    const result = await webApi.updateWeb();\n    dispatch(updateWebSuccess(result || 'Nothing changed.'));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateWebError);\n  }\n};\n","import {\n  CollapseAllVisibility,\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  IDetailsGroupDividerProps,\n  IGroup,\n  IGroupHeaderProps,\n  IRenderFunction,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { SystemCheckIcon } from '../SystemCheckIcon/SystemCheckIcon';\nimport { SystemChecksDetailsListItem } from './SystemChecksDetailsListItem';\n\ninterface SystemChecksDetailsListProps {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  items: any[];\n  groups: IGroup[];\n}\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Status',\n    minWidth: 16,\n    maxWidth: 16,\n    onRender: (item): React.ReactNode => <SystemCheckIcon type={item.type} />,\n  },\n  {\n    key: 'column2',\n    name: 'Text',\n    isRowHeader: true,\n    isMultiline: true,\n    minWidth: 100,\n    onRender: (item): React.ReactNode => (\n      <SystemChecksDetailsListItem item={item} />\n    ),\n  },\n];\n\nexport const SystemChecksDetailsList: React.FunctionComponent<SystemChecksDetailsListProps> = ({\n  items,\n  groups,\n}) => {\n  return (\n    <DetailsList\n      items={items}\n      columns={columns}\n      groups={groups}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible={false}\n      onShouldVirtualize={(): boolean => false}\n      groupProps={{\n        onRenderHeader: (\n          headerProps?: IDetailsGroupDividerProps,\n          defaultRender?: IRenderFunction<IGroupHeaderProps>\n        ): JSX.Element | null => {\n          if (defaultRender) {\n            return defaultRender({\n              ...headerProps,\n              styles: {\n                headerCount: { display: 'none' },\n              },\n            });\n          }\n          return null;\n        },\n        isAllGroupsCollapsed: false,\n        collapseAllVisibility: CollapseAllVisibility.hidden,\n      }}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  CommandBarButton,\n  DirectionalHint,\n  getTheme,\n  IOverflowSetItemProps,\n  OverflowSet,\n  TooltipDelay,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updatePrivacy } from '../../../features/system/privacySlice';\nimport { RootState } from '../../../store';\n\nconst theme = getTheme();\n\nconst calloutProps = { gapSpace: 0 };\nconst actionButtonContainerStyles = {\n  root: { width: '100%' },\n};\n\nconst onRenderItem = (item: IOverflowSetItemProps): JSX.Element => {\n  const button = (\n    <CommandBarButton\n      role=\"menuitem\"\n      aria-label={item.name}\n      styles={{\n        root: {\n          padding: theme.spacing.m,\n          textAlign: 'left',\n          ...actionButtonContainerStyles.root,\n        },\n      }}\n      disabled={item.disabled}\n      iconProps={{ iconName: item.icon }}\n      text={item.name}\n      onClick={item.onClick}\n    />\n  );\n  return item.tooltip ? (\n    <TooltipHost\n      content={item.tooltip}\n      id={item.tooltipId}\n      calloutProps={calloutProps}\n      styles={actionButtonContainerStyles}\n      delay={TooltipDelay.zero}\n      directionalHint={DirectionalHint.topCenter}\n    >\n      {button}\n    </TooltipHost>\n  ) : (\n    button\n  );\n};\n\nconst onRenderOverflowButton = (): null => null;\n\nexport const SystemStatusActionsMenu: React.FunctionComponent = () => {\n  const { isUpdatingPrivacy, status: privacyStatus } = useSelector(\n    (state: RootState) => state.system.privacy\n  );\n  const { status: rebootStatus } = useSelector(\n    (state: RootState) => state.system.reboot\n  );\n\n  const dispatch = useDispatch();\n  const onPrivacyButtonClick = (): void => {\n    dispatch(updatePrivacy(!privacyStatus));\n  };\n  return (\n    <OverflowSet\n      role=\"menubar\"\n      vertical\n      styles={{\n        root: {\n          width: '100%',\n          boxShadow: theme.effects.elevation4,\n          backgroundColor: theme.palette.white,\n        },\n      }}\n      items={[\n        {\n          key: 'item1',\n          icon: 'DisableUpdates',\n          name: `${privacyStatus ? 'Enable' : 'Disable'} New-Version Check`,\n          tooltip: privacyStatus\n            ? 'When enabled, status checks phone-home to check for a new release of Mail-in-a-Box.'\n            : null,\n          tooltipId: useId('tooltip'),\n          disabled: isUpdatingPrivacy,\n          onClick: onPrivacyButtonClick,\n        },\n        {\n          key: 'item2',\n          icon: 'Sync',\n          name: 'Reboot Server',\n          disabled: !rebootStatus,\n        },\n      ]}\n      onRenderOverflowButton={onRenderOverflowButton}\n      onRenderItem={onRenderItem}\n    />\n  );\n};\n","import { MessageBar, MessageBarType } from '@fluentui/react';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { SystemStatusActionsMenu } from '../SystemStatusActionsMenu/SystemStatusActionsMenu';\n\nexport const SystemStatusActions: React.FunctionComponent = () => {\n  const { status: rebootStatus } = useSelector(\n    (state: RootState) => state.system.reboot\n  );\n  return (\n    <>\n      {!rebootStatus && (\n        <MessageBar messageBarType={MessageBarType.success}>\n          No reboot is necessary.\n        </MessageBar>\n      )}\n      {rebootStatus && (\n        <MessageBar messageBarType={MessageBarType.warning}>\n          A reboot is required.\n        </MessageBar>\n      )}\n      {/* TODO: SHOW ERRORS FOR UPDATING PRIVACY AND REBOOTING */}\n      <SystemStatusActionsMenu />\n    </>\n  );\n};\n","import { getTheme } from '@fluentui/react';\nimport { DonutChart, IChartDataPoint, IChartProps } from '@uifabric/charting';\nimport { StatusEntryType } from 'mailinabox-api';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectSummarisedChecks } from '../../../features/system/statusSlice';\n\nexport const SystemStatusChart: React.FunctionComponent = () => {\n  const summarisedChecks = useSelector(selectSummarisedChecks);\n\n  const chartData: IChartDataPoint[] = [\n    {\n      legend: 'Passed',\n      data: summarisedChecks[StatusEntryType.Ok],\n      color: getTheme().palette.green,\n      xAxisCalloutData: 'Passed checks',\n    },\n    {\n      legend: 'Failed',\n      data: summarisedChecks[StatusEntryType.Error],\n      color: getTheme().palette.red,\n      xAxisCalloutData: 'Failed checks',\n    },\n    {\n      legend: 'Warning',\n      data: summarisedChecks[StatusEntryType.Warning],\n      color: getTheme().palette.yellow,\n      xAxisCalloutData: 'Warning checks',\n    },\n  ];\n  const data: IChartProps = {\n    chartTitle: 'Status Checks',\n    chartData,\n  };\n  return (\n    <DonutChart\n      data={data}\n      innerRadius={30}\n      legendsOverflowText={'overflow checks'}\n      legendsOverflowProps={{ vertical: false, overflowSide: 'start' }}\n      hideLegend={false}\n      height={116}\n      width={230}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  mergeStyles,\n  MessageBar,\n  MessageBarType,\n  ProgressIndicator,\n  ScreenWidthMinLarge,\n  Stack,\n} from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { systemPrivacyCheck } from '../../../../../features/system/privacySlice';\nimport { systemRebootCheck } from '../../../../../features/system/rebootSlice';\nimport {\n  selectSystemStatusItemsAndGroups,\n  systemStatusCheck,\n} from '../../../../../features/system/statusSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { SystemChecksDetailsList } from '../../../../ui/SystemChecksDetailsList/SystemChecksDetailsList';\nimport { SystemStatusActions } from '../../../../ui/SystemStatusActions/SystemStatusActions';\nimport { SystemStatusChart } from '../../../../ui/SystemStatusChart/SystemStatusChart';\n\nconst messageBarClassName = mergeStyles({\n  ...AnimationStyles.fadeIn500,\n});\n\nexport const StatusChecksRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingStatus, getStatusError } = useSelector(\n    (state: RootState) => state.system.status\n  );\n\n  const dispatch = useDispatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const [items, groups] = useSelector(selectSystemStatusItemsAndGroups);\n\n  useEffect(() => {\n    dispatch(systemStatusCheck());\n    dispatch(systemRebootCheck());\n    dispatch(systemPrivacyCheck());\n  }, [dispatch]);\n\n  return (\n    <Body>\n      <Stack\n        horizontal={isMinLargeScreen}\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n      >\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Status Checks',\n              key: 'statuschecks',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        {!isGettingStatus && !getStatusError && (\n          <Stack horizontal={isMinLargeScreen} gap=\"l1\">\n            <BodyPanel grow={1} styles={{ root: { flexBasis: 0 } }}>\n              <SystemStatusChart />\n            </BodyPanel>\n            <BodyPanel\n              grow={1}\n              styles={{ root: { flexBasis: 0 } }}\n              horizontalAlign=\"start\"\n            >\n              <SystemStatusActions />\n            </BodyPanel>\n          </Stack>\n        )}\n        <BodyPanel>\n          {getStatusError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              isMultiline\n              className={messageBarClassName}\n            >\n              {getStatusError}\n            </MessageBar>\n          )}\n          {isGettingStatus && (\n            <ProgressIndicator label=\"Checking system status...\" />\n          )}\n          {!isGettingStatus && !getStatusError && (\n            <SystemChecksDetailsList items={items} groups={groups} />\n          )}\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nStatusChecksRoute.path = '/system/status';\n","import { DialogType, Text } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  resetDomainAction,\n  updateWeb,\n  updateWebReset,\n  WebDomainActionType,\n} from '../../../features/webSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nexport const WebDomainActions: React.FunctionComponent = () => {\n  const {\n    domainAction,\n    updateWebError,\n    updateWebResponse,\n    isUpdatingWeb,\n  } = useSelector((state: RootState) => state.web);\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useConstCallback((): void => {\n    dispatch(resetDomainAction());\n  });\n\n  const onActionDialogDismissed = useConstCallback((): void => {\n    dispatch(updateWebReset());\n  });\n\n  const update = (): void => {\n    if (domainAction?.webDomain) {\n      dispatch(updateWeb());\n    }\n  };\n\n  const dialogWidth = updateWebResponse ? 420 : 580;\n\n  return (\n    <ActionConfirmDialog\n      hidden={domainAction?.action !== WebDomainActionType.update}\n      isLoading={isUpdatingWeb}\n      minWidth={dialogWidth}\n      maxWidth={dialogWidth}\n      onDismiss={onActionDialogDismiss}\n      onDismissed={onActionDialogDismissed}\n      onConfirm={update}\n      error={updateWebError}\n      actionResponse={updateWebResponse}\n      confirmButtonText=\"Update\"\n      dialogContentProps={{\n        type: DialogType.largeHeader,\n        title: 'Change Root Directory',\n      }}\n      modalProps={{\n        isBlocking: true,\n      }}\n    >\n      <Text>\n        You can change the static directory for{' '}\n        <strong>{domainAction?.webDomain?.domain}</strong> to:\n      </Text>\n      <Text>\n        <code>{domainAction?.webDomain?.customRoot}</code>\n      </Text>\n      <Text>\n        First create this directory on the server. Then click Update to scan for\n        the directory and update web settings.\n      </Text>\n    </ActionConfirmDialog>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { useConstCallback } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  setDomainAction,\n  WebDomainActionType,\n  WebDomainWithDomainInfo,\n} from '../../../features/webSlice';\n\ninterface WebDomainsActionsListProps {\n  webDomain: WebDomainWithDomainInfo;\n}\n\nexport const WebDomainsActionsList: React.FunctionComponent<WebDomainsActionsListProps> = React.memo(\n  ({ webDomain }) => {\n    const dispatch = useDispatch();\n    const doAction = useConstCallback((action: WebDomainActionType): void => {\n      dispatch(\n        setDomainAction({\n          webDomain,\n          action,\n        })\n      );\n    });\n    return (\n      <IconButton\n        menuIconProps={{\n          iconName: 'MoreVertical',\n        }}\n        styles={{\n          menuIcon: {\n            fontWeight: 'bold',\n          },\n        }}\n        role=\"button\"\n        aria-haspopup={true}\n        aria-label=\"Show actions\"\n        menuProps={{\n          directionalHint: DirectionalHint.bottomRightEdge,\n          items: [\n            {\n              key: 'changeroot',\n              text: 'Change Root Directory',\n              onClick: (): void => doAction(WebDomainActionType.update),\n            },\n          ],\n        }}\n      />\n    );\n  }\n);\n","import {\n  IColumn,\n  IStackProps,\n  Link,\n  mergeStyles,\n  MessageBarType,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { WebDomain } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  getDomains,\n  selectOrderedAndGroupedStaticEnabledDomains,\n  WebDomainWithDomainInfo,\n} from '../../../features/webSlice';\nimport { RootState } from '../../../store';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { LoadingOverlay } from '../LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../LoadingOverlay/LoadingOverlayContainer';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { WebDomainActions } from './WebDomainActions';\nimport { WebDomainsActionsList } from './WebDomainsActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Site',\n    minWidth: 300,\n    isRowHeader: true,\n    onRender: (webDomain: WebDomain): React.ReactElement => (\n      <Link href={`https://${webDomain.domain}`}>\n        https://{webDomain.domain}\n      </Link>\n    ),\n  },\n  {\n    key: 'column2',\n    name: 'Directory for Files',\n    minWidth: 300,\n    isRowHeader: false,\n    onRender: (webDomain: WebDomain): React.ReactElement => (\n      <Text>{webDomain.root}</Text>\n    ),\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (webDomain: WebDomainWithDomainInfo): React.ReactNode => (\n      <WebDomainsActionsList webDomain={webDomain} />\n    ),\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface WebDomainsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const WebDomainsList: React.FunctionComponent<\n  IStackProps & WebDomainsListProps\n> = ({ openedGroupsState, ...props }) => {\n  const { isGettingDomains, getDomainsError } = useSelector(\n    (state: RootState) => state.web\n  );\n  const dispatch = useDispatch();\n  const [domains, groups] = useSelector(\n    selectOrderedAndGroupedStaticEnabledDomains\n  );\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  useEffect(() => {\n    if (!domains.length && !isGettingDomains && !getDomainsError) {\n      dispatch(getDomains());\n    }\n  }, [dispatch, domains, getDomainsError, isGettingDomains]);\n  return (\n    <Stack {...props}>\n      <WebDomainActions />\n      {getDomainsError && (\n        <MessageBar messageBarType={MessageBarType.error}>\n          {getDomainsError}\n        </MessageBar>\n      )}\n      <LoadingOverlayContainer>\n        {isGettingDomains && (\n          <LoadingOverlay\n            loadingLabel=\"Loading domains...\"\n            hasLoaded={Boolean(domains.length)}\n          />\n        )}\n        {!isGettingDomains && !getDomainsError && (\n          <Stack gap=\"m\">\n            <MessageBar\n              isMultiline={isMinLargeScreen}\n              truncated={!isMinLargeScreen}\n            >\n              To add a domain to this table, create a dummy\n              <Link href=\"#users\">mail user</Link> or\n              <Link href=\"#aliases\">alias</Link> on the domain first and see the\n              <Link href=\"https://mailinabox.email/guide.html#domain-name-configuration\">\n                setup guide\n              </Link>{' '}\n              for adding nameserver records to the new domain at your registrar\n              (but <i>not</i> glue records).\n            </MessageBar>\n            <GroupedDetailsList\n              items={domains}\n              columns={columns}\n              groups={groups}\n              openedGroupsState={openedGroupsState}\n            />\n          </Stack>\n        )}\n      </LoadingOverlayContainer>\n    </Stack>\n  );\n};\n","import { Link, ScreenWidthMinLarge, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { config } from '../../../config';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nexport const WebInstructions: React.FunctionComponent = () => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <Stack gap=\"m\">\n      <MessageBar isMultiline={isMinLargeScreen} truncated={!isMinLargeScreen}>\n        You can replace the default website with your own HTML pages and other\n        static files. This control panel wont help you design a website, but\n        once you have <code>.html</code> files you can upload them following\n        these instructions:\n      </MessageBar>\n      <Text as=\"ol\">\n        <li>\n          Ensure that any domains you are publishing a website for have no\n          problems on the <Link href=\"#system_status\">Status Checks</Link> page.\n        </li>\n        <li>\n          On your personal computer, install an SSH file transfer program such\n          as <Link href=\"https://filezilla-project.org/\">FileZilla</Link> or{' '}\n          <Link href=\"http://linuxcommand.org/man_pages/scp1.html\">scp</Link>.\n        </li>\n        <li>\n          Log in to this machine with the file transfer program. The server is{' '}\n          <strong>{config.hostname}</strong>, the protocol is SSH or SFTP, and\n          use the <strong>SSH login credentials</strong> that you used when you\n          originally created this machine at your cloud host provider. This is{' '}\n          <strong>not</strong> what you use to log in either for email or this\n          control panel. Your SSH credentials probably involves a private key\n          file.\n        </li>\n        <li>\n          Upload your <code>.html</code> or other files to the directory{' '}\n          <code>/home/user-data/www/default</code> on this machine. They will\n          appear directly and immediately on the web.\n        </li>\n        <li>\n          The websites set up on this machine are listed in the{' '}\n          <Link href=\"#\">Domains List</Link> with where to put the files for\n          each website.\n        </li>\n      </Text>\n    </Stack>\n  );\n};\n","import React, { useState } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { PivotRoutes } from '../../../ui/PivotRoutes/PivotRoutes';\nimport { WebDomainsList } from '../../../ui/WebDomainsList/WebDomainsList';\nimport { WebInstructions } from '../../../ui/WebInstructions/WebInstructions';\n\nexport const WebSections: React.FunctionComponent = () => {\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n  const pivotItems = [\n    {\n      itemKey: url,\n      headerText: 'Domains',\n    },\n    {\n      itemKey: `${url}/instructions`,\n      headerText: 'Uploading Instructions',\n    },\n  ];\n  return (\n    <>\n      <PivotRoutes items={pivotItems} />\n      <Switch>\n        <Route exact path={path}>\n          <WebDomainsList openedGroupsState={openedGroupsState} />\n        </Route>\n        <Route exact path={`${path}/instructions`}>\n          <WebInstructions />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Link, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../../config';\nimport { Body } from '../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../ui/BodyPanel/BodyPanel';\nimport { WebSections } from './WebSections';\n\nexport const WebRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Static Web Hosting',\n              key: 'web',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <BodyPanel>\n          <Text>\n            This machine is serving a simple, static website at{' '}\n            <Link\n              href={`https://${config.hostname}`}\n            >{`https://${config.hostname}`}</Link>{' '}\n            and at all domain names that you set up an email user or alias for.\n          </Text>\n        </BodyPanel>\n        <BodyPanel>\n          <WebSections />\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nWebRoute.path = '/web';\n","import { CommandBar, ContextualMenuItemType, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { LogoutRoute } from '../../routes/LogoutRoute/LogoutRoute';\nimport { MailAliasesRoute } from '../../routes/MainRoute/mail/MailAliasesRoute/MailAliasesRoute';\nimport { MailInstructionsRoute } from '../../routes/MainRoute/mail/MailInstructionsRoute/MailInstructionsRoute';\nimport { MailUsersRoute } from '../../routes/MainRoute/mail/MailUsersRoute/MailUsersRoute';\nimport { SyncGuideRoute } from '../../routes/MainRoute/SyncGuideRoute/SyncGuideRoute';\nimport { BackupsRoute } from '../../routes/MainRoute/system/BackupsRoute/BackupsRoute';\nimport { CertificatesRoute } from '../../routes/MainRoute/system/CertificatesRoute/CertificatesRoute';\nimport { CustomDnsRoute } from '../../routes/MainRoute/system/CustomDnsRoute/CustomDnsRoute';\nimport { ExternalDnsRoute } from '../../routes/MainRoute/system/ExternalDnsRoute/ExternalDnsRoute';\nimport { StatusChecksRoute } from '../../routes/MainRoute/system/StatusChecksRoute/StatusChecksRoute';\nimport { WebRoute } from '../../routes/MainRoute/WebRoute/WebRoute';\n\nexport const PrimaryNav: React.FunctionComponent = () => {\n  const history = useHistory();\n  return (\n    <Stack\n      styles={{\n        root: {\n          width: '100%',\n        },\n      }}\n      as=\"nav\"\n    >\n      <CommandBar\n        styles={{\n          root: {\n            padding: 0,\n          },\n        }}\n        farItems={[\n          {\n            key: 'navLogout',\n            text: 'Log out',\n            iconProps: { iconName: 'SignOut' },\n            onClick: (): void => {\n              history.push(LogoutRoute.path);\n            },\n          },\n        ]}\n        items={[\n          {\n            key: 'system',\n            text: 'System',\n            iconProps: { iconName: 'System' },\n            subMenuProps: {\n              items: [\n                {\n                  key: 'navStatusChecks',\n                  text: 'Status Checks',\n                  onClick: (): void => history.push(StatusChecksRoute.path),\n                },\n                {\n                  key: 'navCertificates',\n                  text: 'TLS (SSL) Certificates',\n                  onClick: (): void => history.push(CertificatesRoute.path),\n                },\n                {\n                  key: 'navBackupStatus',\n                  text: 'Backup Status',\n                  onClick: (): void => history.push(BackupsRoute.path),\n                },\n                {\n                  key: 'navAdvanced',\n                  text: 'Advanced',\n                  itemType: ContextualMenuItemType.Section,\n                  sectionProps: {\n                    topDivider: true,\n                    bottomDivider: true,\n                    title: 'Advanced',\n                    items: [\n                      {\n                        key: 'navCustomDns',\n                        text: 'Custom DNS',\n                        onClick: (): void => history.push(CustomDnsRoute.path),\n                      },\n                      {\n                        key: 'navExternalDnsRoute',\n                        text: 'External DNS',\n                        onClick: (): void =>\n                          history.push(ExternalDnsRoute.path),\n                      },\n                      {\n                        key: 'navMonitoring',\n                        text: 'Munin Monitoring',\n                      },\n                    ],\n                  },\n                },\n              ],\n            },\n          },\n          {\n            key: 'navMail',\n            text: 'Mail',\n            iconProps: { iconName: 'Mail' },\n            subMenuProps: {\n              items: [\n                {\n                  key: 'navInstructions',\n                  text: 'Instructions',\n                  onClick: (): void => history.push(MailInstructionsRoute.path),\n                },\n                {\n                  key: 'navUsers',\n                  text: 'Users',\n                  onClick: (): void => history.push(MailUsersRoute.path),\n                },\n                {\n                  key: 'navAliases',\n                  text: 'Aliases',\n                  onClick: (): void => history.push(MailAliasesRoute.path),\n                },\n              ],\n            },\n          },\n          {\n            key: 'navContacts',\n            text: 'Contacts/Calendar',\n            iconProps: { iconName: 'Calendar' },\n            onClick: (): void => history.push(SyncGuideRoute.path),\n          },\n          {\n            key: 'navWeb',\n            text: 'Web',\n            iconProps: { iconName: 'SiteScan' },\n            onClick: (): void => history.push(WebRoute.path),\n          },\n        ]}\n      />\n    </Stack>\n  );\n};\n","import { getTheme, Image, mergeStyles, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport logo from '../../../images/logo.png';\nimport { PrimaryNav } from '../PrimaryNav/PrimaryNav';\n\nconst className = mergeStyles({\n  alignSelf: 'stretch',\n  backgroundColor: getTheme().semanticColors.bodyBackground,\n});\n\nexport const Header: React.FunctionComponent = () => {\n  return (\n    <Stack\n      as=\"header\"\n      className={className}\n      horizontal\n      horizontalAlign=\"center\"\n    >\n      <Stack\n        as=\"section\"\n        gap=\"s1\"\n        styles={{\n          root: {\n            maxWidth: 1170,\n            width: '100%',\n          },\n        }}\n        padding=\"0 m 0 m\"\n        horizontal\n        verticalAlign=\"center\"\n      >\n        {/* <Stack.Item disableShrink>\n          <Text nowrap variant=\"large\">\n            box.example.com\n          </Text>\n        </Stack.Item> */}\n        <Stack.Item>\n          <Image src={logo} alt=\"mailinabox login\" width={34} />\n        </Stack.Item>\n        <Stack.Item disableShrink>\n          <Text nowrap variant=\"large\">\n            Mail-in-a-Box\n          </Text>\n        </Stack.Item>\n        <PrimaryNav />\n      </Stack>\n    </Stack>\n  );\n};\n","import { ScreenWidthMinMedium, Stack } from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { RootState } from '../../../store';\nimport { Header } from '../../ui/Header/Header';\nimport { LoginRoute } from '../LoginRoute/LoginRoute';\nimport { LogoutRoute } from '../LogoutRoute/LogoutRoute';\nimport { MailAliasesRoute } from './mail/MailAliasesRoute/MailAliasesRoute';\nimport { MailInstructionsRoute } from './mail/MailInstructionsRoute/MailInstructionsRoute';\nimport { MailUsersRoute } from './mail/MailUsersRoute/MailUsersRoute';\nimport { SyncGuideRoute } from './SyncGuideRoute/SyncGuideRoute';\nimport { BackupsRoute } from './system/BackupsRoute/BackupsRoute';\nimport { CertificatesRoute } from './system/CertificatesRoute/CertificatesRoute';\nimport { CustomDnsRoute } from './system/CustomDnsRoute/CustomDnsRoute';\nimport { ExternalDnsRoute } from './system/ExternalDnsRoute/ExternalDnsRoute';\nimport { StatusChecksRoute } from './system/StatusChecksRoute/StatusChecksRoute';\nimport { WebRoute } from './WebRoute/WebRoute';\n\nexport const MainRoute: React.FunctionComponent & { path: string } = () => {\n  const { isAuthenticated } = useSelector((state: RootState) => state.auth);\n  const location = useLocation();\n  const history = useHistory();\n\n  const isMinMediumScreen = useMediaQuery({\n    minWidth: ScreenWidthMinMedium,\n  });\n\n  const nonMobileContainerProps = {\n    ...(isMinMediumScreen && {\n      gap: 'l1',\n      horizontalAlign: 'center',\n    }),\n  };\n\n  useEffect(() => {\n    if (!isAuthenticated && location.pathname !== LoginRoute.path) {\n      history.push(LoginRoute.path);\n    }\n  }, [history, isAuthenticated, location.pathname]);\n\n  return (\n    <Stack {...nonMobileContainerProps}>\n      <Header />\n      <Switch>\n        <Route exact path={[MainRoute.path, StatusChecksRoute.path]}>\n          <StatusChecksRoute />\n        </Route>\n        <Route path={CertificatesRoute.path}>\n          <CertificatesRoute />\n        </Route>\n        <Route path={BackupsRoute.path}>\n          <BackupsRoute />\n        </Route>\n        <Route path={CustomDnsRoute.path}>\n          <CustomDnsRoute />\n        </Route>\n        <Route path={ExternalDnsRoute.path}>\n          <ExternalDnsRoute />\n        </Route>\n        <Route exact path={MailInstructionsRoute.path}>\n          <MailInstructionsRoute />\n        </Route>\n        <Route path={MailUsersRoute.path}>\n          <MailUsersRoute />\n        </Route>\n        <Route path={MailAliasesRoute.path}>\n          <MailAliasesRoute />\n        </Route>\n        <Route exact path={SyncGuideRoute.path}>\n          <SyncGuideRoute />\n        </Route>\n        <Route path={WebRoute.path}>\n          <WebRoute />\n        </Route>\n        <Route exact path={LogoutRoute.path}>\n          <LogoutRoute />\n        </Route>\n        <Redirect to=\"/404\" />\n      </Switch>\n    </Stack>\n  );\n};\n\nMainRoute.path = '/';\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport {\n  BaseButton,\n  Button,\n  Checkbox,\n  MessageBarType,\n  PrimaryButton,\n  Spinner,\n  SpinnerSize,\n  Stack,\n  TextField,\n} from '@fluentui/react';\nimport { MeAuthStatus, MeResponse } from 'mailinabox-api';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { userApi } from '../../../api';\nimport { useRequest } from '../../../api/useRequest';\nimport { config } from '../../../config';\nimport { updateAuth } from '../../../features/authSlice';\nimport { useFormInputs } from '../../../forms/useFormInputs';\nimport { RootState } from '../../../store';\nimport { MainRoute } from '../../routes/MainRoute/MainRoute';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\ntype FormState = {\n  email: string;\n  password: string;\n  remember: boolean;\n};\n\nconst initialFormState: FormState = {\n  email: config.mockApi ? 'demo@example.com' : '',\n  password: config.mockApi ? 'mailinabox' + Math.random().toString(16) : '',\n  remember: true,\n};\n\nexport const LoginForm: React.FunctionComponent = () => {\n  const [\n    checkLogin,\n    { isLoading, response, error: requestError, setError, setResponse },\n  ] = useRequest<MeResponse>(\n    () => userApi.getMe(),\n    (response: MeResponse) => {\n      if (response.status !== MeAuthStatus.Ok) {\n        setError(response.reason || 'Unknown authentication error');\n      } else if (!response.apiKey) {\n        setError('You are not an administrator on this system.');\n      } else {\n        setResponse(response);\n      }\n    }\n  );\n  const { inputs, setInputs, onInputChange } = useFormInputs<FormState>(\n    initialFormState\n  );\n  const { isAuthenticated, error: authError } = useSelector(\n    (state: RootState) => state.auth\n  );\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const onRememberChange = (\n    _event?: React.FormEvent<HTMLElement>,\n    checked?: boolean\n  ): void => {\n    setInputs({\n      ...inputs,\n      remember: !!checked,\n    });\n  };\n\n  const onMessageBarDismiss = (\n    _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n  ): void => {\n    setError(null);\n    dispatch(\n      updateAuth({\n        username: inputs.email,\n        password: inputs.password,\n        error: null,\n      })\n    );\n  };\n\n  const onFormSubmit = (event: React.FormEvent<HTMLElement>): void => {\n    event.preventDefault();\n    setError(null);\n    checkLogin();\n  };\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push(MainRoute.path);\n    } else {\n      dispatch(\n        updateAuth({\n          username: inputs.email,\n          password: inputs.password,\n          isAuthenticated: false,\n          error: authError,\n        })\n      );\n    }\n  }, [\n    authError,\n    dispatch,\n    history,\n    inputs.email,\n    inputs.password,\n    isAuthenticated,\n  ]);\n\n  useEffect(() => {\n    if (response) {\n      dispatch(\n        updateAuth({\n          username: response.email,\n          password: response.apiKey,\n          isAuthenticated: true,\n          authError: null,\n          remember: inputs.remember,\n        })\n      );\n    }\n  }, [dispatch, inputs.remember, response]);\n\n  const error = requestError || authError;\n\n  return (\n    <Stack as=\"form\" gap=\"m\" onSubmit={onFormSubmit}>\n      {error && (\n        <MessageBar\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          onDismiss={onMessageBarDismiss}\n          dismissButtonAriaLabel=\"Close\"\n        >\n          {error}\n        </MessageBar>\n      )}\n      <Stack gap=\"m\">\n        <TextField\n          label=\"Email\"\n          value={inputs.email}\n          required\n          type=\"email\"\n          name=\"email\"\n          autoFocus\n          onChange={onInputChange}\n        />\n        <TextField\n          label=\"Password\"\n          value={inputs.password}\n          name=\"password\"\n          required\n          type=\"password\"\n          onChange={onInputChange}\n        />\n        <Checkbox\n          label=\"Remember me\"\n          checked={inputs.remember}\n          onChange={onRememberChange}\n        />\n      </Stack>\n      <Stack horizontalAlign=\"end\" verticalAlign=\"center\" horizontal gap=\"s1\">\n        {isLoading && <Spinner size={SpinnerSize.medium} />}\n        <PrimaryButton type=\"submit\" text=\"Sign in\" disabled={isLoading} />\n      </Stack>\n    </Stack>\n  );\n};\n","import { Dispatch, SetStateAction, useState } from 'react';\nimport { getRequestFailMessage } from '.';\n\ntype PerformRequest = () => void;\n\ntype Request<T> = [\n  PerformRequest,\n  {\n    response: T | null;\n    error: string | null;\n    isLoading: boolean;\n    setResponse: Dispatch<SetStateAction<T | null>>;\n    setError: Dispatch<SetStateAction<string | null>>;\n    reset: () => void;\n  }\n];\n\nexport function useRequest<T>(\n  queryFunc: () => Promise<T>,\n  responseHandler?: (response: T) => void | null\n): Request<T> {\n  const [response, setResponse] = useState<T | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  function performRequest(): void {\n    setIsLoading(true);\n    queryFunc()\n      .then(\n        (response) => {\n          if (responseHandler) {\n            responseHandler(response);\n          } else {\n            setResponse(response);\n          }\n        },\n        async (err) => {\n          setError(await getRequestFailMessage(err));\n        }\n      )\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function reset(): void {\n    setResponse(null);\n    setError(null);\n    setIsLoading(false);\n  }\n\n  return [\n    performRequest,\n    { response, setResponse, error, setError, isLoading, reset },\n  ];\n}\n","import { Image, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport logo from '../../../images/logo.png';\n\nexport const LoginHeader: React.FunctionComponent = () => {\n  return (\n    <Stack horizontal horizontalAlign=\"start\" gap=\"m\">\n      <Image src={logo} alt=\"mailinabox login\" width={34} />\n      <Text block variant=\"xLarge\">\n        Mail-in-a-Box Login\n      </Text>\n    </Stack>\n  );\n};\n","import { AnimationStyles, getTheme, mergeStyles, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { LoginForm } from '../../ui/LoginForm/LoginForm';\nimport { LoginHeader } from '../../ui/LoginHeader/LoginHeader';\n\nconst className = mergeStyles({\n  maxWidth: 420,\n  boxShadow: getTheme().effects.elevation8,\n  backgroundColor: getTheme().palette.white,\n  ...AnimationStyles.slideUpIn20,\n  animationDuration: '1s',\n});\n\nexport const LoginRoute: React.FunctionComponent & { path: string } = () => {\n  return (\n    <Stack\n      horizontalAlign=\"center\"\n      verticalAlign=\"center\"\n      verticalFill\n      horizontal\n      padding=\"l1\"\n    >\n      <Stack\n        grow={1}\n        className={className}\n        verticalAlign=\"center\"\n        gap=\"m\"\n        padding=\"l1\"\n      >\n        <LoginHeader />\n        <LoginForm />\n      </Stack>\n    </Stack>\n  );\n};\n\nLoginRoute.path = '/login';\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\nimport { RootState } from '../../../store';\nimport { LoginRoute } from '../LoginRoute/LoginRoute';\n\nexport const PrivateRoute: React.FunctionComponent<RouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const { isAuthenticated } = useSelector((state: RootState) => state.auth);\n  return (\n    <Route\n      {...rest}\n      render={({ location }): React.ReactNode =>\n        isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: LoginRoute.path,\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n","import React from 'react';\nimport { Route, Router, Switch } from 'react-router-dom';\nimport { history } from '../../../router';\nimport { LoginRoute } from '../../routes/LoginRoute/LoginRoute';\nimport { MainRoute } from '../../routes/MainRoute/MainRoute';\nimport { PrivateRoute } from '../../routes/PrivateRoute/PrivateRoute';\n\nexport const App: React.FunctionComponent = () => {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route exact path={LoginRoute.path}>\n          <LoginRoute />\n        </Route>\n        <Route exact path=\"/404\">\n          Not Found\n        </Route>\n        <PrivateRoute path={MainRoute.path}>\n          <MainRoute />\n        </PrivateRoute>\n      </Switch>\n    </Router>\n  );\n};\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { aliasesReducer } from '../features/aliasesSlice';\nimport { authReducer } from '../features/authSlice';\nimport { dnsReducer } from '../features/dnsSlice';\nimport { sslReducer } from '../features/sslSlice';\nimport { systemBackupsReducer } from '../features/system/backupsSlice';\nimport { systemPrivacyReducer } from '../features/system/privacySlice';\nimport { systemRebootReducer } from '../features/system/rebootSlice';\nimport { systemStatusReducer } from '../features/system/statusSlice';\nimport { usersReducer } from '../features/usersSlice';\nimport { webReducer } from '../features/webSlice';\n\nexport const rootReducer = combineReducers({\n  auth: authReducer,\n  system: combineReducers({\n    status: systemStatusReducer,\n    reboot: systemRebootReducer,\n    privacy: systemPrivacyReducer,\n    backups: systemBackupsReducer,\n  }),\n  dns: dnsReducer,\n  ssl: sslReducer,\n  users: usersReducer,\n  aliases: aliasesReducer,\n  web: webReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import {\n  Action,\n  configureStore,\n  getDefaultMiddleware,\n  ThunkAction,\n} from '@reduxjs/toolkit';\nimport { authMiddleware } from '../middleware/auth';\nimport { rootReducer, RootState } from './rootReducer';\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware().concat(authMiddleware),\n});\n\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>;\n\nexport type { RootState } from './rootReducer';\nexport type AppDispatch = typeof store.dispatch;\n","import { Dispatch, Middleware, MiddlewareAPI } from '@reduxjs/toolkit';\nimport { updateApiConfig } from '../api';\nimport { storageAuth } from '../auth';\nimport { updateAuth } from '../features/authSlice';\n\nexport const authMiddleware: Middleware = ({ getState }: MiddlewareAPI) => (\n  next: Dispatch\n) => (action): void => {\n  const prevState = getState();\n  const returnValue = next(action);\n  if (action.type === updateAuth.type) {\n    const { username, password, isAuthenticated, remember } = action.payload;\n    if (username && password) {\n      updateApiConfig({\n        username,\n        password,\n      });\n    }\n    if (prevState.auth.isAuthenticated !== isAuthenticated) {\n      storageAuth.setUsername(username);\n      storageAuth.setPassword(password);\n      storageAuth.persistToStorage(remember);\n    }\n  }\n  return returnValue;\n};\n","import { getTheme, initializeIcons, mergeStyles } from '@fluentui/react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { App } from './components/ui/App/App';\nimport { config } from './config';\nimport { store } from './store';\n\ninitializeIcons(/* optional base url */);\n\nmergeStyles({\n  selectors: {\n    ':global(body)': {\n      background: getTheme().palette.neutralLighter,\n    },\n    ':global(body), :global(html), :global(#app)': {\n      margin: 0,\n      padding: 0,\n      height: '100%',\n    },\n    // Even though we can define cell styles as part of column definitions, the default cell styles\n    // still take priority. This is a hack to override the default cell styles using a parent selector.\n    ':global(.ms-DetailsRow [class^=\"DetailsRow-actions-cell\"])': {\n      padding: '0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  },\n});\n\nfunction renderApp(): void {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('app')\n  );\n}\n\nif (config.mockApi) {\n  import('./api/mockApi').then(\n    () => renderApp(),\n    () => {\n      console.error('There was an error loading the mock api');\n    }\n  );\n} else {\n  renderApp();\n}\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}