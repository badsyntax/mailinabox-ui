{"version":3,"sources":["router/index.ts","auth/StorageAuth.ts","auth/index.ts","features/authSlice.ts","api/index.ts","components/routes/LogoutRoute/LogoutRoute.tsx","components/ui/Body/Body.tsx","features/aliasesSlice.ts","components/ui/BodyBreadcrumb/BodyBreadcrumb.tsx","components/ui/BodyPanel/BodyPanel.tsx","features/dnsSlice.ts","components/ui/LoadingOverlay/LoadingOverlay.tsx","components/ui/LoadingOverlay/LoadingOverlayContainer.tsx","features/sslSlice.ts","components/ui/MailAliasUpsert/formData.ts","components/ui/MessageBar/MessageBar.tsx","components/ui/TextFieldWithInfo/TextFieldWithInfo.tsx","components/ui/MailAliasUpsert/MailAliasUpsert.tsx","components/ui/Pre/Pre.tsx","components/ui/MailAliasAdd/MailAliasAdd.tsx","components/ui/GroupedDetailsList/GroupedDetailsList.tsx","components/ui/DialogFooter/DialogFooter.tsx","components/ui/ActionConfirmDialog/ActionConfirmDialog.tsx","components/ui/MailAliasesList/MailAliasUpdateDialog.tsx","components/ui/MailAliasesList/MailAliasActions.tsx","components/ui/MailAliasesList/MailAliasActionsList.tsx","components/ui/MailAliasesList/MailAliasesList.tsx","components/ui/PivotRoutes/PivotRoutes.tsx","components/ui/MailAliases/MailAliases.tsx","components/routes/MainRoute/mail/MailAliasesRoute/MailAliasesRoute.tsx","features/usersSlice.ts","config/index.ts","components/ui/MailExchangeSettingsList/MailExchangeSettingsList.tsx","components/ui/MailSettingsList/MailSettingsList.tsx","components/ui/MailInstructions/MailInstructions.tsx","components/routes/MainRoute/mail/MailInstructionsRoute/MailInstructionsRoute.tsx","components/ui/MailUserAdd/MailUserAdd.tsx","components/ui/MailUsersList/MailUserArchiveDialog.tsx","components/ui/MailUsersList/MailUserSetPasswordDialog.tsx","components/ui/MailUsersList/MailUserUpdatePrivilege.tsx","components/ui/MailUsersList/MailUserActions.tsx","components/ui/MailUsersList/MailUserActionsList.tsx","components/ui/MailUsersList/MailUsersList.tsx","components/routes/MainRoute/mail/MailUsersRoute/MailUsersSections.tsx","components/routes/MainRoute/mail/MailUsersRoute/MailUsersRoute.tsx","components/ui/SyncListBrowser/SyncListBrowser.tsx","components/ui/SyncListMobile/SyncListMobile.tsx","components/ui/SyncListMobile/SyncListMobileSettings.tsx","components/ui/SyncGuide/SyncGuide.tsx","components/routes/MainRoute/SyncGuideRoute/SyncGuideRoute.tsx","features/system/backupsSlice.ts","components/ui/BackupConfigure/types.ts","components/ui/BackupConfigure/local/BackupConfigureLocal.tsx","components/ui/BackupConfigure/local/BackupInfoLocal.tsx","components/ui/BackupConfigure/rsync/BackupConfigureRsync.tsx","components/ui/BackupConfigure/rsync/BackupInfoRsync.tsx","components/ui/BackupConfigure/s3/BackupConfigureS3.tsx","components/ui/BackupConfigure/s3/BackupInfoS3.tsx","components/ui/BackupConfigure/BackupConfigure.tsx","components/ui/BackupsList/BackupsList.tsx","components/routes/MainRoute/system/BackupsRoute/BackupsRoute.tsx","components/ui/CertificatesList/CertificateActionsList.tsx","components/ui/CertificatesList/CertificatesList.tsx","components/routes/MainRoute/system/CertificatesRoute/CertificatesRoute.tsx","components/ui/InstallCertificate/InstallCertificateComboBoxLabel.tsx","components/ui/InstallCertificate/InstallCertificateWithCSR.tsx","components/ui/InstallCertificate/InstallCertificate.tsx","components/ui/CustomDnsAdd/recordTypes.ts","components/ui/CustomDnsAdd/CustomDnsAdd.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordActions.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordsActionsList.tsx","components/ui/CustomDnsRecordsList/CustomDnsRecordsList.tsx","components/ui/CustomDnsSecondaryNameserver/CustomDnsSecondaryNameserver.tsx","components/routes/MainRoute/system/CustomDnsRoute/CustomDnsRoute.tsx","components/ui/InfoButton/InfoButton.tsx","components/ui/DnsDumpList/DnsDumpList.tsx","components/ui/DnsZoneFileGenerator/DnsZoneFileGenerator.tsx","components/routes/MainRoute/system/ExternalDnsRoute/ExternalDnsRoute.tsx","features/system/privacySlice.ts","features/system/rebootSlice.ts","features/system/statusSlice.ts","components/ui/SystemCheckIcon/SystemCheckIcon.tsx","components/ui/SystemChecksDetailsList/SystemChecksDetailsListItem.tsx","features/webSlice.ts","components/ui/SystemChecksDetailsList/SystemChecksDetailsList.tsx","components/ui/SystemStatusActionsMenu/SystemStatusActionsMenu.tsx","components/ui/SystemStatusActions/SystemStatusActions.tsx","components/ui/SystemStatusChart/SystemStatusChart.tsx","components/routes/MainRoute/system/StatusChecksRoute/StatusChecksRoute.tsx","components/ui/WebDomainsList/WebDomainActions.tsx","components/ui/WebDomainsList/WebDomainsActionsList.tsx","components/ui/WebDomainsList/WebDomainsList.tsx","components/ui/WebInstructions/WebInstructions.tsx","components/routes/MainRoute/WebRoute/WebSections.tsx","components/routes/MainRoute/WebRoute/WebRoute.tsx","components/ui/PrimaryNav/PrimaryNav.tsx","components/ui/Header/Header.tsx","components/routes/MainRoute/MainRoute.tsx","components/ui/LoginForm/LoginForm.tsx","api/useRequest.ts","components/ui/LoginHeader/LoginHeader.tsx","components/routes/LoginRoute/LoginRoute.tsx","components/routes/PrivateRoute/PrivateRoute.tsx","components/ui/App/App.tsx","store/rootReducer.ts","store/index.ts","middleware/auth.ts","index.tsx","images/logo.png"],"names":["history","createHashHistory","STORAGE_KEY","storageAuth","credentials","username","password","isAuthenticated","this","split","Boolean","remember","localStorage","setItem","sessionStorage","removeItem","getItem","initialState","getUsername","getPassword","getIsAuthenticated","error","authSlice","createSlice","name","reducers","updateAuth","state","action","payload","actions","authReducer","reducer","apiConfigParams","basePath","middleware","apiConfig","Configuration","userApi","UserApi","systemApi","SystemApi","sslApi","SSLApi","dnsApi","DNSApi","mailApi","MailApi","webApi","WebApi","getResponseText","response","a","status","text","getRequestFailMessage","Error","message","statusText","responseText","handleRequestError","dispatch","onErrorAction","LogoutRoute","useDispatch","useEffect","clear","path","AliasActionType","Body","children","isMinMediumScreen","useMediaQuery","minWidth","ScreenWidthMinMedium","nonMobileContainerProps","gap","undefined","padding","Stack","as","styles","root","maxWidth","width","BodyBreadcrumb","props","Breadcrumb","onReduceData","marginTop","className","mergeStyles","boxShadow","getTheme","effects","elevation8","backgroundColor","palette","white","AnimationStyles","fadeIn200","BodyPanel","DNSActionType","aliases","isGettingAliases","getAliasesError","isUpsertingAlias","isRemovingAlias","upsertAliasError","upsertAliasResponse","removeAliasError","removeAliasResponse","aliasAction","getAliasesStart","getAliasesSuccess","upsertAliasStart","upsertAliasSuccess","upsertAliasReset","upsertAliasResetError","resetAliasAction","type","setAliasAction","removeAliasStart","removeAliasSuccess","removeAliasReset","aliasesReducer","selectAliasesWithGroups","groups","forEach","aliasDomain","domain","aliasesByDomain","push","key","startIndex","length","level","count","getAliases","showProgress","getMailAliases","format","MailAliasesResponseFormat","Json","result","LoadingOverlay","loadingLabel","hasLoaded","Overlay","zIndex","display","alignItems","justifyContent","ProgressIndicator","label","LoadingOverlayContainer","style","position","dns","isGettingSecondaryNameserver","isGettingZones","isGettingCustomRecords","isGettingDump","isAddingCustomRecord","isAddingSecondaryNameserver","isRemovingCustomRecord","secondaryNameserver","hostnames","dump","zones","customRecords","addCustomRecordResponse","addSecondaryNameserverResponse","removeCustomRecordResponse","getSecondaryNameserverError","getZonesError","getCustomRecordsError","getDumpError","addCustomRecordError","addSecondaryNameserverError","removeCustomRecordError","dnsAction","getDumpStart","getDumpSuccess","getSecondaryNameserverStart","getSecondaryNameserverSuccess","getZonesStart","getZonesSuccess","getCustomRecordsStart","getCustomRecordsSuccess","addCustomRecordStart","addCustomRecordSuccess","addCustomRecordResetError","addCustomRecordReset","removeCustomRecordStart","removeCustomRecordSuccess","removeCustomRecordResetError","removeCustomRecordReset","addSecondaryNameserverStart","addSecondaryNameserverSuccess","addSecondaryNameserverResetError","addSecondaryNameserverReset","resetDNSAction","setDNSAction","dnsReducer","sort","b","qname","rtype","value","localeCompare","reverseFqdn","record","reverse","join","SSLActionType","selectCustomRecordsWithGroups","records","slice","map","selectCustomRecordsSorted","i","parsed","psl","parse","isCollapsed","group","index","selectDumpWithGroups","dnsDomains","domainName","dnsRecords","getSecondaryNameserver","getDnsSecondaryNameserver","getCustomRecords","getDnsCustomRecords","getDump","getDnsDump","AliasType","SenderType","ssl","isGettingStatus","isGeneratingCSR","isInstallingCertificate","sslStatus","canProvision","generateCSRResponse","installCertificateResponse","getStatusError","generateCSRError","installCertificateError","sslAction","getSSLStatusStart","getSSLStatusSuccess","getSSLStatusError","generateCSRStart","generateCSRSuccess","generateCSRReset","installCertificateStart","installCertificateSuccess","installCertificateReset","resetSSLAction","setSSLAction","sslReducer","getSSLStatus","messageBarClassName","fadeIn400","MessageBar","animate","rest","propsWithAnimation","dismissButtonAriaLabel","theme","iconButtonClassName","marginBottom","TextFieldWithInfo","defaultRender","useBoolean","isCalloutVisible","toggleIsCalloutVisible","toggle","iconButtonId","useId","horizontal","verticalAlign","IconButton","id","title","ariaLabel","iconProps","iconName","onClick","Callout","target","onDismiss","role","horizontalAlign","Text","calloutText","onRenderTextFieldLabel","textfieldWithLabelInfoStyles","subComponentStyles","selectors","paddingRight","spacing","s2","formData","regular","alias","placeholder","info","forwardsTo","permittedSenders","any","manual","catchAll","domainAlias","columnClassName","flexBasis","defaultAlias","address","updateIfExists","MailAliasUpsert","updateAlias","useSelector","useState","charAt","getInitialAliasType","aliasType","setAliasType","senderType","setSenderType","setAlias","senderTypeOptions","onSenderTypeChange","useCallback","_event","option","onPivotLinkClick","item","ev","itemKey","onFieldChange","event","newValue","onErrorMessageBarDismiss","onFormSubmit","preventDefault","upsertMailAlias","upsertAlias","onForwardsToRenderLabel","useMemo","grow","onSubmit","messageBarType","MessageBarType","isMultiline","Pivot","linkSize","PivotLinkSize","normal","linkFormat","PivotLinkFormat","tabs","onLinkClick","selectedKey","Object","keys","PivotItem","headerText","headerButtonProps","disabled","s1","TextField","required","description","fonts","small","onChange","autoFocus","multiline","rows","onRenderLabel","ChoiceGroup","options","m","fontFamily","neutralLighterAlt","borderColor","semanticColors","variantBorder","borderRadius","roundedCorner2","borderWidth","borderStyle","overflow","textOverflow","margin","Pre","block","dialogContentProps","DialogType","largeHeader","modalProps","isBlocking","MailAliasAdd","isDialogHidden","setIsDialogHidden","hasDialogOpened","setHasDialogOpened","isMinLargeScreen","ScreenWidthMinLarge","onDialogDismissed","onDialogClose","Dialog","hidden","onDismissed","PrimaryButton","Link","href","onRenderRow","DetailsRow","GroupedDetailsList","openedGroupsState","openedGroups","setOpenedGroups","hasExpandedAllGroups","setHasExpandedAllGroups","onToggleGroupCollapse","groupKey","collapse","splice","indexOf","onToggleGroupCollapseAll","onRenderDetailsHeader","detailsHeaderProps","onToggleCollapseAll","paddingTop","onRenderGroupHeader","toggleCollapse","onToggleCollapse","groupsWithCollapsedState","DetailsList","layoutMode","DetailsListLayoutMode","justified","selectionMode","SelectionMode","none","constrainMode","ConstrainMode","horizontalConstrained","isHeaderVisible","onShouldVirtualize","items","groupProps","isAllGroupsCollapsed","onRenderHeader","DialogFooter","isLoading","Spinner","size","SpinnerSize","medium","ActionConfirmDialog","onConfirm","confirmButtonText","actionResponse","onConfirmButtonClick","onCancelButtonClick","DefaultButton","updateAliasDialogContentProps","MailAliasUpdateDialog","dialogProps","onDialogCloseButtonClick","dialogWidth","MailAliasActions","onActionDialogDismiss","onConfirmDialogDismissed","onUpdateAliasDialogDismissed","onRemoveAliasConfirm","removeMailAlias","remove","addressDisplay","update","MailAliasActionsList","doAction","menuIconProps","menuIcon","fontWeight","aria-haspopup","aria-label","menuProps","directionalHint","DirectionalHint","bottomRightEdge","columns","isRowHeader","fieldName","onRender","console","log","forwardToAddress","permittedSender","isPadded","displayName","MailAliasesList","PivotRoutes","useHistory","location","useLocation","large","pathname","MailAliases","useRouteMatch","url","pivotProps","exact","MailAliasesRoute","UserActionType","config","hostname","MailExchangeSettingsList","compact","MailSettingsList","MailInstructions","isMinXLargeScreen","ScreenWidthMinXLarge","variant","MailInstructionsRoute","tooltipId","TooltipHost","content","users","isGettingUsers","getUsersError","isUpdatingUser","isAddingUser","updateUserError","updateUserResponse","userAction","addUserResponse","addUserError","getUsersStart","getUsersSuccess","updateUserStart","updateUserSuccess","updateUserReset","setUserAction","resetUserAction","addUserStart","addUserSuccess","addUserReset","addUserResetError","usersReducer","selectUsersWithGroups","mailUsers","userDomain","usersByDomain","getUsers","getMailUsers","MailUsersResponseFormat","privilegeOptions","MailUserPrivilege","Empty","Admin","initialFormState","email","privilege","MailUserAdd","user","setUser","onEmailChange","onPasswordChange","onPrivilegeChange","addMailUser","privileges","warning","truncated","Dropdown","MailUserArchiveDialog","auth","archiveSelfErrorDialogHidden","setArchiveSelfErrorDialogHidden","onModalDismissed","onArchiveConfirm","removeMailUser","updateSelfError","changePasswordDialogContentProps","MailUserSetPasswordDialog","setPassword","setMailUserPassword","setUserPassword","updateSelf","modifyPrivilegesDialogContentProps","MailUserUpdatePrivilege","onDialogDismiss","removeSelfErrorDialogHidden","setRemoveSelfErrorDialogHidden","removeAdminDialogHidden","removeAdminPrivilege","addAdminDialogHidden","addAdminPrivilege","onRemoveAdminConfirm","removeMailUserPrivilege","onAddAdminConfirm","addMailUserPrivilege","MailUserActions","archive","MailUserActionsList","includes","MailUserStatus","Inactive","textDecoration","mailbox","Active","MailUsersList","MailUsersSections","MailUsersRoute","SyncListBrowser","SyncListMobile","SyncListMobileSettings","SyncGuide","SyncGuideRoute","BackupType","systemBackups","isGettingConfig","isUpdatingConfig","backups","unmatchedFileSize","encPwFile","fileTargetDirectory","minAgeInDays","sshPubKey","updateConfigResponse","getConfigError","updateConfigError","getStatusStart","getStatusSuccess","getConfigStart","getConfigSuccess","updateConfigStart","updateConfigSuccess","updateConfigResetError","updateConfigReset","systemBackupsReducer","getStatus","getSystemBackupStatus","BackupConfigureLocal","backupConfig","daysDescription","onConfigChange","String","days","setDays","onDaysChange","onDaysRenderLabel","local","targetUser","targetPass","minAge","Number","min","step","BackupInfoLocal","BackupConfigureRsync","isCurrentType","targetPath","substring","targetHostParts","shift","initialUsername","initialHostName","initialPath","setHostname","setPath","setUsername","onHostnameChange","onPathChange","onUsernameChange","onSSHKeyRenderLabel","readOnly","BackupInfoRsync","s3RegionOptions","BackupConfigureS3","initialS3HostPath","initialS3Host","initialRegion","find","regionOption","host","setHost","region","setRegion","accessKey","setAccessKey","secretAccessKey","setSecretAccessKey","onRegionChange","onAccessKeyChange","onSecretAccessKeyChange","onHostChange","BackupInfoS3","backupOptions","off","rsync","s3","BackupConfigure","system","backupType","selectedBackupOption","backupOption","setBackupOption","updateBackupConfig","setUpdateBackupConfig","onBackupOptionChange","onBackupConfigChange","updateSystemBackupConfig","updateConfig","onMessageBarDismiss","niceSize","bytes","powers","Math","round","strongCellClassName","full","dateStr","dateDelta","deletedIn","BackupsList","reduce","total","getTotalBackupsSize","BackupSections","BackupsRoute","getSystemBackupConfig","CertificateActionsList","SSLStatusType","Success","install","SectionKeys","isResizable","textColor","greenDark","Danger","redDark","NotApplicable","bodyText","getTextColor","color","CertificatesList","useReducedRowRenderer","animation","InstallCertificateComboBoxLabel","descriptionId","setInitialFocus","ariaDescribedBy","defaultInstallCertificateRequest","cert","chain","installOkRegEx","InstallCertificateWithCSR","countryCode","installCertificateRequest","setInstallCertificateRequest","test","onCertChange","onChainChange","request","installSSLCertificate","countrycode","generateSSLCSR","generateCSR","dialogContent","countries","getCodeList","countriesList","toUpperCase","comboBoxStyles","onRenderComboBoxLabel","InstallCertificate","selectedDomain","setSelectedDomain","selectedCountry","setSelectedCountry","onDomainChange","onCountryChange","onDomainRenderLabel","onCountryRenderLabel","ComboBox","allowFreeform","autoComplete","VirtualizedComboBox","dropdownMaxWidth","useComboBoxAsMenuWidth","CertificateSections","CertificatesRoute","recordTypes","DNSRecordType","A","hint","AAAA","CAA","CNAME","TXT","MX","SRV","SSHFP","NS","recordTypeOptions","CustomDnsAdd","zoneOptions","zone","setType","setZone","setName","setValue","onTypeChange","onZoneChange","onNameChange","onValueChange","customRecordRequest","body","addDnsCustomRecord","CustomDnsRecordActions","onActionDialogDismissed","dnsRecord","removeDnsCustomRecord","CustomDnsRecordsActionsList","CustomDnsRecordsList","CustomDnsSecondaryNameserver","secondaryNameserverRequest","addDnsSecondaryNameserver","CustomDnsSections","getDnsZones","CustomDnsRoute","InfoButton","showCloseButton","iconButtonStyles","isIconOnly","explanation","height","icon","fontSize","FontSizes","xLarge","DnsDumpList","DnsZoneFileGenerator","Label","Checkbox","checked","CommandBar","paddingLeft","ExternalDnsSections","ExternalDnsRoute","systemPrivacy","isGettingPrivacy","isUpdatingPrivacy","getPrivacyError","updatePrivacyError","getPrivacyStart","getPrivacySuccess","updatePrivacyStart","updatePrivacySuccess","privacy","systemPrivacyReducer","systemReboot","isGettingRebootStatus","getRebootStatusError","getRebootStatusStart","getRebootStatusSuccess","systemRebootReducer","systemStatus","systemStatusReducer","selectSystemStatusItemsAndGroups","entries","statusEntry","isHeadingEntry","StatusEntryType","Heading","selectSummarisedChecks","createSelector","summary","Ok","Warning","getIconName","getIconColor","green","red","yellowDark","SystemCheckIcon","Icon","WebDomainActionType","extrasClassName","fadeIn500","SystemChecksDetailsListItem","extra","setIsCollapsed","extraItem","monospace","SystemChecksDetailsList","headerProps","headerCount","collapseAllVisibility","CollapseAllVisibility","calloutProps","gapSpace","actionButtonContainerStyles","onRenderItem","button","CommandBarButton","textAlign","tooltip","delay","TooltipDelay","zero","topCenter","onRenderOverflowButton","SystemStatusActionsMenu","privacyStatus","rebootStatus","reboot","onPrivacyButtonClick","updateSystemPrivacy","SystemPrivacyStatus","Private","Off","OverflowSet","vertical","elevation4","SystemStatusActions","success","SystemStatusChart","summarisedChecks","data","chartTitle","chartData","legend","xAxisCalloutData","yellow","DonutChart","innerRadius","legendsOverflowText","legendsOverflowProps","overflowSide","hideLegend","StatusChecksRoute","getSystemStatus","getSystemRebootStatus","getSystemPrivacyStatus","web","isGettingDomains","domains","getDomainsError","domainAction","isUpdatingWeb","updateWebError","updateWebResponse","getDomainsStart","getDomainsSuccess","updateWebStart","updateWebSuccess","updateWebReset","resetDomainAction","setDomainAction","webReducer","sortByFqdn","domainWithoutSubDomain","subDomain","selectOrderedAndGroupedStaticEnabledDomains","filter","webDomain","staticEnabled","subdomain","WebDomainActions","updateWeb","customRoot","WebDomainsActionsList","WebDomainsList","getWebDomains","WebInstructions","WebSections","WebRoute","PrimaryNav","farItems","subMenuProps","itemType","ContextualMenuItemType","Section","sectionProps","topDivider","bottomDivider","alignSelf","bodyBackground","Header","Item","Image","src","logo","alt","disableShrink","nowrap","MainRoute","LoginRoute","to","LoginForm","queryFunc","responseHandler","setResponse","setError","setIsLoading","then","err","finally","reset","useRequest","getMe","MeAuthStatus","reason","apiKey","checkLogin","requestError","authError","setRemember","setEmail","onRememberChange","LoginHeader","slideUpIn20","animationDuration","verticalFill","PrivateRoute","render","from","App","rootReducer","combineReducers","store","configureStore","getDefaultMiddleware","concat","getState","next","prevState","returnValue","assign","persistToStorage","renderApp","ReactDOM","StrictMode","document","getElementById","initializeIcons","background","neutralLighter","mockApi","module","exports"],"mappings":"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","file":"static/js/main.94b73daa.chunk.js","sourcesContent":["import { createHashHistory } from 'history';\nexport const history = createHashHistory();\n","export const STORAGE_KEY = 'miab-cp-credentials';\nexport const CREDENTIALS_SEPERATOR = ':';\n\nfunction buildStorageCredentials(username: string, password: string): string {\n  return `${username}${CREDENTIALS_SEPERATOR}${password}`;\n}\n\nexport class StorageAuth {\n  private username: string;\n  private password: string;\n  private isAuthenticated = false;\n  constructor(private readonly credentials: string) {\n    const [username = '', password = ''] = this.credentials.split(\n      CREDENTIALS_SEPERATOR\n    );\n    this.username = username;\n    this.password = password;\n    this.isAuthenticated = Boolean(username && password);\n  }\n\n  getUsername(): string {\n    return this.username;\n  }\n\n  getPassword(): string {\n    return this.password;\n  }\n\n  setUsername(username: string): void {\n    this.username = username;\n  }\n\n  setPassword(password: string): void {\n    this.password = password;\n  }\n\n  getIsAuthenticated(): boolean {\n    return this.isAuthenticated;\n  }\n\n  persistToStorage(remember: boolean): void {\n    const credentials = buildStorageCredentials(this.username, this.password);\n    if (remember) {\n      localStorage.setItem(STORAGE_KEY, credentials);\n      sessionStorage.removeItem(STORAGE_KEY);\n    } else {\n      localStorage.removeItem(STORAGE_KEY);\n      sessionStorage.setItem(STORAGE_KEY, credentials);\n    }\n  }\n\n  clear(): void {\n    localStorage.removeItem(STORAGE_KEY);\n    sessionStorage.removeItem(STORAGE_KEY);\n  }\n}\n","import { CREDENTIALS_SEPERATOR, StorageAuth, STORAGE_KEY } from './StorageAuth';\n\nexport const storageAuth = new StorageAuth(\n  sessionStorage.getItem(STORAGE_KEY) ||\n    localStorage.getItem(STORAGE_KEY) ||\n    CREDENTIALS_SEPERATOR\n);\n","import { createSlice } from '@reduxjs/toolkit';\nimport { storageAuth } from '../auth';\n\nexport interface AuthState {\n  username: string;\n  password: string;\n  isAuthenticated: boolean;\n  error: string | null;\n}\n\nconst initialState: AuthState = {\n  username: storageAuth.getUsername(),\n  password: storageAuth.getPassword(),\n  isAuthenticated: storageAuth.getIsAuthenticated(),\n  error: '',\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    updateAuth: (state, action): void => {\n      const {\n        username,\n        password,\n        isAuthenticated,\n        error = null,\n      } = action.payload;\n      state.username = username;\n      state.password = password;\n      state.isAuthenticated = !!isAuthenticated;\n      state.error = error;\n    },\n  },\n});\n\nexport const { updateAuth } = authSlice.actions;\n\nexport const { reducer: authReducer } = authSlice;\n","import { ActionCreatorWithPayload } from '@reduxjs/toolkit';\nimport {\n  Configuration,\n  ConfigurationParameters,\n  DNSApi,\n  MailApi,\n  SSLApi,\n  SystemApi,\n  UserApi,\n  WebApi,\n} from 'mailinabox-api';\nimport { storageAuth } from '../auth';\nimport { updateAuth } from '../features/authSlice';\nimport { AppDispatch } from '../store';\n\nconst apiConfigParams: ConfigurationParameters = {\n  basePath: '/admin',\n  username: storageAuth.getUsername(),\n  password: storageAuth.getPassword(),\n  middleware: [],\n};\n\nconst apiConfig = new Configuration(apiConfigParams);\n\nexport const userApi = new UserApi(apiConfig);\nexport const systemApi = new SystemApi(apiConfig);\nexport const sslApi = new SSLApi(apiConfig);\nexport const dnsApi = new DNSApi(apiConfig);\nexport const mailApi = new MailApi(apiConfig);\nexport const webApi = new WebApi(apiConfig);\n\nexport function updateApiConfig(config: ConfigurationParameters): void {\n  Object.assign(apiConfigParams, config);\n}\n\nasync function getResponseText(response: Response): Promise<string | null> {\n  const { status } = response;\n  // Prevent returning the generic web server response for server errors\n  // as it might contain large chunks of unwanted HTML\n  if (status >= 500 && status <= 599) {\n    return null;\n  }\n  return await response.text();\n}\n\nexport async function getRequestFailMessage(\n  response: Response | Error\n): Promise<string> {\n  if (response instanceof Error) {\n    return response.message;\n  }\n  const { statusText, status } = response;\n  const responseText = await getResponseText(response);\n  return (\n    responseText ||\n    `Request error: ${statusText}${status ? ' (' + status + ')' : ''}`\n  );\n}\n\nexport async function handleRequestError(\n  response: Response | Error,\n  dispatch: AppDispatch,\n  onErrorAction: ActionCreatorWithPayload<unknown>\n): Promise<void> {\n  if (!(response instanceof Error)) {\n    const { status } = response;\n    if (status === 403) {\n      dispatch(\n        updateAuth({\n          username: '',\n          password: '',\n          isAuthenticated: false,\n          error: 'Your token is no longer valid.',\n        })\n      );\n    }\n  } else {\n    dispatch(onErrorAction(await getRequestFailMessage(response)));\n  }\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { storageAuth } from '../../../auth';\nimport { updateAuth } from '../../../features/authSlice';\n\nexport const LogoutRoute: React.FunctionComponent & { path: string } = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    storageAuth.clear();\n    dispatch(\n      updateAuth({ username: '', password: '', isAuthenticated: false })\n    );\n  });\n  return null;\n};\n\nLogoutRoute.path = '/logout';\n","import { ScreenWidthMinMedium, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nexport const Body: React.FunctionComponent = ({ children }) => {\n  const isMinMediumScreen = useMediaQuery({\n    minWidth: ScreenWidthMinMedium,\n  });\n\n  const nonMobileContainerProps = {\n    gap: isMinMediumScreen ? 'l1' : undefined,\n    padding: isMinMediumScreen ? '0 m l2 m' : '0 m m m ',\n  };\n  return (\n    <Stack\n      as=\"main\"\n      styles={{\n        root: {\n          maxWidth: 1170,\n          width: '100%',\n        },\n      }}\n      {...nonMobileContainerProps}\n    >\n      {children}\n    </Stack>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  MailAlias,\n  MailAliasByDomain,\n  MailAliasesResponseFormat,\n  UpsertMailAliasRequest,\n} from 'mailinabox-api';\nimport { handleRequestError, mailApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum AliasActionType {\n  remove,\n  update,\n}\n\nexport interface AliasAction {\n  alias?: MailAlias;\n  type?: AliasActionType;\n}\n\nexport interface AliasesState {\n  isGettingAliases: boolean;\n  aliases: Array<MailAliasByDomain>;\n  getAliasesError: string | null;\n  isUpsertingAlias: boolean;\n  isRemovingAlias: boolean;\n  upsertAliasError: string | null;\n  upsertAliasResponse: string | null;\n  removeAliasError: string | null;\n  removeAliasResponse: string | null;\n  aliasAction: AliasAction | null;\n}\n\nconst initialState: AliasesState = {\n  isGettingAliases: false,\n  aliases: [],\n  getAliasesError: null,\n  isUpsertingAlias: false,\n  isRemovingAlias: false,\n  upsertAliasError: null,\n  upsertAliasResponse: null,\n  removeAliasError: null,\n  removeAliasResponse: null,\n  aliasAction: null,\n};\n\nexport const aliases = createSlice({\n  name: 'aliases',\n  initialState,\n  reducers: {\n    getAliasesStart: (state): void => {\n      state.getAliasesError = null;\n      state.isGettingAliases = true;\n    },\n    getAliasesSuccess: (state, action): void => {\n      state.isGettingAliases = false;\n      state.aliases = action.payload;\n    },\n    getAliasesError: (state, action): void => {\n      state.getAliasesError = action.payload;\n      state.isGettingAliases = false;\n    },\n    upsertAliasStart: (state): void => {\n      state.isUpsertingAlias = true;\n      state.upsertAliasError = null;\n    },\n    upsertAliasSuccess: (state, action): void => {\n      state.isUpsertingAlias = false;\n      state.upsertAliasResponse = action.payload;\n    },\n    upsertAliasError: (state, action): void => {\n      state.upsertAliasError = action.payload;\n      state.isUpsertingAlias = false;\n    },\n    upsertAliasReset: (state): void => {\n      state.isUpsertingAlias = false;\n      state.upsertAliasError = null;\n      state.upsertAliasResponse = null;\n    },\n    upsertAliasResetError: (state): void => {\n      state.upsertAliasError = null;\n    },\n    resetAliasAction: (state): void => {\n      state.aliasAction = {\n        ...state.aliasAction,\n        type: undefined,\n      };\n    },\n    setAliasAction: (state, action): void => {\n      state.aliasAction = action.payload;\n    },\n    removeAliasStart: (state): void => {\n      state.isRemovingAlias = true;\n      state.removeAliasError = null;\n    },\n    removeAliasSuccess: (state, action): void => {\n      state.isRemovingAlias = false;\n      state.removeAliasResponse = action.payload;\n    },\n    removeAliasError: (state, action): void => {\n      state.removeAliasError = action.payload;\n      state.isRemovingAlias = false;\n    },\n    removeAliasReset: (state): void => {\n      state.removeAliasError = null;\n      state.isRemovingAlias = false;\n      state.removeAliasResponse = null;\n    },\n  },\n});\n\nexport const {\n  getAliasesSuccess,\n  getAliasesStart,\n  getAliasesError,\n  upsertAliasStart,\n  upsertAliasSuccess,\n  upsertAliasError,\n  upsertAliasReset,\n  upsertAliasResetError,\n  resetAliasAction,\n  setAliasAction,\n  removeAliasStart,\n  removeAliasSuccess,\n  removeAliasError,\n  removeAliasReset,\n} = aliases.actions;\n\nexport const { reducer: aliasesReducer } = aliases;\n\nexport const selectAliasesWithGroups = (\n  state: RootState\n): [Array<MailAlias>, Array<IGroup>] => {\n  const aliases: Array<MailAlias> = [];\n  const groups: Array<IGroup> = [];\n  state.aliases.aliases.forEach((aliasDomain: MailAliasByDomain) => {\n    const { domain, aliases: aliasesByDomain } = aliasDomain;\n    groups.push({\n      key: 'group' + domain,\n      name: domain,\n      startIndex: aliases.length,\n      level: 0,\n      count: aliasesByDomain.length,\n    });\n    aliases.push(...aliasesByDomain);\n  });\n  return [aliases, groups];\n};\n\nexport const getAliases = (showProgress = true): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  if (showProgress) {\n    dispatch(getAliasesStart());\n  }\n  try {\n    const result = await mailApi.getMailAliases({\n      format: MailAliasesResponseFormat.Json,\n    });\n    dispatch(getAliasesSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getAliasesError);\n  }\n};\n\nexport const upsertAlias = (alias: UpsertMailAliasRequest): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(upsertAliasStart());\n  try {\n    const result = await mailApi.upsertMailAlias(alias);\n    dispatch(upsertAliasSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, upsertAliasError);\n  }\n};\n\nexport const removeAlias = (address: string): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(removeAliasStart());\n  try {\n    const result = await mailApi.removeMailAlias({\n      address,\n    });\n    dispatch(removeAliasSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, removeAliasError);\n  }\n};\n","import { Breadcrumb, IBreadcrumbProps } from '@fluentui/react';\nimport React from 'react';\n\nexport const BodyBreadcrumb: React.FunctionComponent<IBreadcrumbProps> = (\n  props\n) => {\n  return (\n    <Breadcrumb\n      onReduceData={(): undefined => undefined}\n      styles={{\n        root: {\n          marginTop: 0,\n          width: '100%',\n        },\n      }}\n      {...props}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  getTheme,\n  IStackProps,\n  mergeStyles,\n  Stack,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst className = mergeStyles({\n  boxShadow: getTheme().effects.elevation8,\n  backgroundColor: getTheme().palette.white,\n  ...AnimationStyles.fadeIn200,\n});\n\nexport const BodyPanel: React.FunctionComponent<IStackProps> = ({\n  children,\n  ...props\n}) => {\n  return (\n    <Stack as=\"section\" padding=\"m\" gap=\"m\" className={className} {...props}>\n      {children}\n    </Stack>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  AddDnsCustomRecordRequest,\n  AddDnsSecondaryNameserverRequest,\n  DNSCustomRecord,\n  DNSDumpDomainRecord,\n  DNSDumpDomains,\n  DNSDumpResponse,\n  DNSSecondaryNameserverResponse,\n  RemoveDnsCustomRecordRequest,\n} from 'mailinabox-api';\nimport psl from 'psl';\nimport { dnsApi, handleRequestError } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum DNSActionType {\n  remove,\n}\n\nexport interface DNSAction {\n  dnsRecord?: DNSCustomRecord;\n  type?: DNSActionType;\n}\n\nexport interface SSLState {\n  isGettingSecondaryNameserver: boolean;\n  isGettingZones: boolean;\n  isGettingCustomRecords: boolean;\n  isGettingDump: boolean;\n  isAddingCustomRecord: boolean;\n  isAddingSecondaryNameserver: boolean;\n  isRemovingCustomRecord: boolean;\n  secondaryNameserver: DNSSecondaryNameserverResponse;\n  zones: Array<string>;\n  customRecords: Array<DNSCustomRecord>;\n  dump: DNSDumpResponse;\n  addCustomRecordResponse: string | null;\n  addSecondaryNameserverResponse: string | null;\n  removeCustomRecordResponse: string | null;\n  getSecondaryNameserverError: string | null;\n  getZonesError: string | null;\n  getCustomRecordsError: string | null;\n  getDumpError: string | null;\n  addCustomRecordError: string | null;\n  addSecondaryNameserverError: string | null;\n  removeCustomRecordError: string | null;\n  dnsAction: DNSAction | null;\n}\n\nconst initialState: SSLState = {\n  isGettingSecondaryNameserver: false,\n  isGettingZones: false,\n  isGettingCustomRecords: false,\n  isGettingDump: false,\n  isAddingCustomRecord: false,\n  isAddingSecondaryNameserver: false,\n  isRemovingCustomRecord: false,\n  secondaryNameserver: {\n    hostnames: [],\n  },\n  dump: [],\n  zones: [],\n  customRecords: [],\n  addCustomRecordResponse: null,\n  addSecondaryNameserverResponse: null,\n  removeCustomRecordResponse: null,\n  getSecondaryNameserverError: null,\n  getZonesError: null,\n  getCustomRecordsError: null,\n  getDumpError: null,\n  addCustomRecordError: null,\n  addSecondaryNameserverError: null,\n  removeCustomRecordError: null,\n  dnsAction: null,\n};\n\nexport const dns = createSlice({\n  name: 'dns',\n  initialState,\n  reducers: {\n    getDumpStart: (state): void => {\n      state.getDumpError = null;\n      state.isGettingDump = true;\n    },\n    getDumpSuccess: (state, action): void => {\n      state.isGettingDump = false;\n      state.dump = action.payload;\n    },\n    getDumpError: (state, action): void => {\n      state.isGettingDump = false;\n      state.getDumpError = action.payload;\n    },\n    getSecondaryNameserverStart: (state): void => {\n      state.getSecondaryNameserverError = null;\n      state.isGettingSecondaryNameserver = true;\n    },\n    getSecondaryNameserverSuccess: (state, action): void => {\n      state.isGettingSecondaryNameserver = false;\n      state.secondaryNameserver = action.payload;\n    },\n    getSecondaryNameserverError: (state, action): void => {\n      state.isGettingSecondaryNameserver = false;\n      state.getSecondaryNameserverError = action.payload;\n    },\n    getZonesStart: (state): void => {\n      state.getZonesError = null;\n      state.isGettingZones = true;\n    },\n    getZonesSuccess: (state, action): void => {\n      state.isGettingZones = false;\n      state.zones = action.payload;\n    },\n    getZonesError: (state, action): void => {\n      state.isGettingZones = false;\n      state.getZonesError = action.payload;\n    },\n    getCustomRecordsStart: (state): void => {\n      state.getCustomRecordsError = null;\n      state.isGettingCustomRecords = true;\n    },\n    getCustomRecordsSuccess: (state, action): void => {\n      state.isGettingCustomRecords = false;\n      state.customRecords = action.payload;\n    },\n    getCustomRecordsError: (state, action): void => {\n      state.isGettingCustomRecords = false;\n      state.getCustomRecordsError = action.payload;\n    },\n    addCustomRecordStart: (state): void => {\n      state.addCustomRecordError = null;\n      state.isAddingCustomRecord = true;\n    },\n    addCustomRecordSuccess: (state, action): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordResponse = action.payload;\n    },\n    addCustomRecordError: (state, action): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordError = action.payload;\n    },\n    addCustomRecordResetError: (state): void => {\n      state.addCustomRecordError = null;\n    },\n    addCustomRecordReset: (state): void => {\n      state.isAddingCustomRecord = false;\n      state.addCustomRecordError = null;\n      state.addCustomRecordResponse = null;\n    },\n    removeCustomRecordStart: (state): void => {\n      state.removeCustomRecordError = null;\n      state.isRemovingCustomRecord = true;\n    },\n    removeCustomRecordSuccess: (state, action): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordResponse = action.payload;\n    },\n    removeCustomRecordError: (state, action): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordError = action.payload;\n    },\n    removeCustomRecordResetError: (state): void => {\n      state.removeCustomRecordError = null;\n    },\n    removeCustomRecordReset: (state): void => {\n      state.isRemovingCustomRecord = false;\n      state.removeCustomRecordError = null;\n      state.removeCustomRecordResponse = null;\n    },\n    addSecondaryNameserverStart: (state): void => {\n      state.addSecondaryNameserverError = null;\n      state.isAddingSecondaryNameserver = true;\n    },\n    addSecondaryNameserverSuccess: (state, action): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverResponse = action.payload;\n    },\n    addSecondaryNameserverError: (state, action): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverError = action.payload;\n    },\n    addSecondaryNameserverResetError: (state): void => {\n      state.addSecondaryNameserverError = null;\n    },\n    addSecondaryNameserverReset: (state): void => {\n      state.isAddingSecondaryNameserver = false;\n      state.addSecondaryNameserverError = null;\n      state.addSecondaryNameserverResponse = null;\n    },\n    resetDNSAction: (state): void => {\n      state.dnsAction = {\n        ...state.dnsAction,\n        type: undefined,\n      };\n    },\n    setDNSAction: (state, action): void => {\n      state.dnsAction = action.payload;\n    },\n  },\n});\n\nexport const {\n  getSecondaryNameserverStart,\n  getSecondaryNameserverSuccess,\n  getSecondaryNameserverError,\n  getZonesStart,\n  getZonesSuccess,\n  getZonesError,\n  getCustomRecordsStart,\n  getCustomRecordsSuccess,\n  getCustomRecordsError,\n  getDumpStart,\n  getDumpSuccess,\n  getDumpError,\n  addCustomRecordStart,\n  addCustomRecordSuccess,\n  addCustomRecordError,\n  addCustomRecordResetError,\n  addCustomRecordReset,\n  addSecondaryNameserverStart,\n  addSecondaryNameserverSuccess,\n  addSecondaryNameserverError,\n  addSecondaryNameserverResetError,\n  addSecondaryNameserverReset,\n  removeCustomRecordStart,\n  removeCustomRecordSuccess,\n  removeCustomRecordError,\n  removeCustomRecordResetError,\n  removeCustomRecordReset,\n  resetDNSAction,\n  setDNSAction,\n} = dns.actions;\n\nexport const { reducer: dnsReducer } = dns;\n\nfunction sort(a: DNSCustomRecord, b: DNSCustomRecord): number {\n  if (a.qname === b.qname) {\n    if (a.rtype === b.rtype) {\n      return a.value.localeCompare(b.value);\n    }\n    return a.rtype.localeCompare(b.rtype);\n  }\n  return a.qname.localeCompare(b.qname);\n}\n\nfunction reverseFqdn(record: DNSCustomRecord): DNSCustomRecord {\n  return {\n    ...record,\n    qname: record.qname.split('.').reverse().join('.'),\n  };\n}\n\nexport const selectCustomRecordsSorted = (\n  state: RootState\n): Array<DNSCustomRecord> => {\n  return state.dns.customRecords\n    .slice()\n    .map(reverseFqdn)\n    .sort(sort)\n    .map(reverseFqdn);\n};\n\nexport const selectCustomRecordsWithGroups = (\n  state: RootState\n): [Array<DNSCustomRecord>, Array<IGroup>] => {\n  const records = selectCustomRecordsSorted(state);\n  let groups: Array<IGroup> = [];\n\n  records.forEach((record: DNSCustomRecord, i: number) => {\n    const parsed = psl.parse(record.qname);\n    if (parsed.error || !parsed.domain) {\n      return;\n    }\n    const { domain } = parsed;\n    if (groups[groups.length - 1]?.name !== domain) {\n      groups.push({\n        key: 'customDnsGroup' + domain,\n        name: domain,\n        startIndex: i,\n        isCollapsed: false,\n        level: 0,\n        count: 0,\n      });\n    }\n  });\n\n  groups = groups.map((group, index) => {\n    return {\n      ...group,\n      count:\n        (groups[index + 1]?.startIndex || records.length) - group.startIndex,\n    };\n  });\n\n  return [records, groups];\n};\n\nexport const selectDumpWithGroups = (\n  state: RootState\n): [Array<DNSDumpDomainRecord>, Array<IGroup>] => {\n  const { dump } = state.dns;\n  const records: Array<DNSDumpDomainRecord> = [];\n  const groups: Array<IGroup> = [];\n\n  dump.forEach((dnsDomains: DNSDumpDomains) => {\n    const [domainName, dnsRecords] = dnsDomains;\n    groups.push({\n      key: 'dnsDumpGroup' + domainName,\n      name: domainName as string,\n      startIndex: records.length,\n      isCollapsed: false,\n      level: 0,\n      count: dnsRecords.length,\n    });\n    records.push(...(dnsRecords as Array<DNSDumpDomainRecord>));\n  });\n\n  return [records, groups];\n};\n\nexport const getSecondaryNameserver = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getSecondaryNameserverStart());\n  try {\n    const result = await dnsApi.getDnsSecondaryNameserver();\n    dispatch(getSecondaryNameserverSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getSecondaryNameserverError);\n  }\n};\n\nexport const getZones = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getZonesStart());\n  try {\n    const result = await dnsApi.getDnsZones();\n    dispatch(getZonesSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getZonesError);\n  }\n};\n\nexport const getCustomRecords = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getCustomRecordsStart());\n  try {\n    const result = await dnsApi.getDnsCustomRecords();\n    dispatch(getCustomRecordsSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getCustomRecordsError);\n  }\n};\n\nexport const getDump = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getDumpStart());\n  try {\n    const result = await dnsApi.getDnsDump();\n    dispatch(getDumpSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getDumpError);\n  }\n};\n\nexport const addCustomRecord = (\n  customRecordRequest: AddDnsCustomRecordRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addCustomRecordStart());\n  try {\n    const result = await dnsApi.addDnsCustomRecord(customRecordRequest);\n    dispatch(addCustomRecordSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addCustomRecordError);\n  }\n};\n\nexport const removeCustomRecord = (\n  customRecordRequest: RemoveDnsCustomRecordRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(removeCustomRecordStart());\n  try {\n    const result = await dnsApi.removeDnsCustomRecord(customRecordRequest);\n    dispatch(removeCustomRecordSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, removeCustomRecordError);\n  }\n};\n\nexport const addSecondaryNameserver = (\n  secondaryNameserverRequest: AddDnsSecondaryNameserverRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addSecondaryNameserverStart());\n  try {\n    const result = await dnsApi.addDnsSecondaryNameserver(\n      secondaryNameserverRequest\n    );\n    dispatch(addSecondaryNameserverSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addSecondaryNameserverError);\n  }\n};\n","import { Overlay, ProgressIndicator } from '@fluentui/react';\nimport React from 'react';\n\ninterface LoadingOverlayProps {\n  loadingLabel: string;\n  hasLoaded: boolean;\n}\n\nexport const LoadingOverlay: React.FunctionComponent<LoadingOverlayProps> = ({\n  loadingLabel,\n  hasLoaded,\n}) => {\n  return hasLoaded ? (\n    <Overlay\n      styles={{\n        root: {\n          zIndex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        },\n      }}\n    >\n      <ProgressIndicator label={loadingLabel} />\n    </Overlay>\n  ) : (\n    <ProgressIndicator label={loadingLabel} />\n  );\n};\n","import React from 'react';\n\nexport const LoadingOverlayContainer: React.FunctionComponent = ({\n  children,\n}) => {\n  return (\n    <div\n      style={{\n        position: 'relative',\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport {\n  SSLCertificateInstallRequest,\n  SSLStatus,\n  SSLStatusResponse,\n} from 'mailinabox-api';\nimport { handleRequestError, sslApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum SSLActionType {\n  install,\n}\n\nexport interface SSLAction {\n  sslStatus?: SSLStatus;\n  type?: SSLActionType;\n}\n\nexport interface SSLState {\n  isGettingStatus: boolean;\n  isGeneratingCSR: boolean;\n  isInstallingCertificate: boolean;\n  sslStatus: SSLStatusResponse;\n  getStatusError: string | null;\n  generateCSRResponse: string | null;\n  generateCSRError: string | null;\n  installCertificateResponse: string | null;\n  installCertificateError: string | null;\n  sslAction: SSLAction | null;\n}\n\nconst initialState: SSLState = {\n  isGettingStatus: false,\n  isGeneratingCSR: false,\n  isInstallingCertificate: false,\n  sslStatus: {\n    canProvision: [],\n    status: [],\n  },\n  generateCSRResponse: null,\n  installCertificateResponse: null,\n  getStatusError: null,\n  generateCSRError: null,\n  installCertificateError: null,\n  sslAction: null,\n};\n\nexport const ssl = createSlice({\n  name: 'ssl',\n  initialState,\n  reducers: {\n    getSSLStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getSSLStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.sslStatus = action.payload;\n    },\n    getSSLStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n    generateCSRStart: (state): void => {\n      state.generateCSRError = null;\n      state.isGeneratingCSR = true;\n    },\n    generateCSRSuccess: (state, action): void => {\n      state.isGeneratingCSR = false;\n      state.generateCSRResponse = action.payload;\n    },\n    generateCSRError: (state, action): void => {\n      state.generateCSRError = action.payload;\n      state.isGeneratingCSR = false;\n    },\n    generateCSRReset: (state): void => {\n      state.generateCSRError = null;\n      state.generateCSRResponse = null;\n      state.isGeneratingCSR = false;\n    },\n    installCertificateStart: (state): void => {\n      state.installCertificateError = null;\n      state.isInstallingCertificate = true;\n    },\n    installCertificateSuccess: (state, action): void => {\n      state.isInstallingCertificate = false;\n      state.installCertificateResponse = action.payload;\n    },\n    installCertificateError: (state, action): void => {\n      state.installCertificateError = action.payload;\n      state.isInstallingCertificate = false;\n    },\n    installCertificateReset: (state): void => {\n      state.installCertificateError = null;\n      state.installCertificateResponse = null;\n      state.isInstallingCertificate = false;\n    },\n    resetSSLAction: (state): void => {\n      state.sslAction = null;\n    },\n    setSSLAction: (state, action): void => {\n      state.sslAction = action.payload;\n    },\n  },\n});\n\nexport const {\n  getSSLStatusSuccess,\n  getSSLStatusStart,\n  getSSLStatusError,\n  generateCSRStart,\n  generateCSRSuccess,\n  generateCSRError,\n  generateCSRReset,\n  installCertificateStart,\n  installCertificateSuccess,\n  installCertificateError,\n  installCertificateReset,\n  resetSSLAction,\n  setSSLAction,\n} = ssl.actions;\n\nexport const { reducer: sslReducer } = ssl;\n\nexport const getSSLStatus = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  Action<string>\n> => async (dispatch): Promise<void> => {\n  dispatch(getSSLStatusStart());\n  try {\n    const result = await sslApi.getSSLStatus();\n    dispatch(getSSLStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getSSLStatusError);\n  }\n};\n\nexport const generateCSR = (\n  domain: string,\n  countrycode: string\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(generateCSRStart());\n  try {\n    const result = await sslApi.generateSSLCSR({\n      domain,\n      countrycode,\n    });\n    dispatch(generateCSRSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, generateCSRError);\n  }\n};\n\nexport const installCertificate = (\n  request: SSLCertificateInstallRequest\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(installCertificateStart());\n  try {\n    const result = await sslApi.installSSLCertificate(request);\n    dispatch(installCertificateSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, installCertificateError);\n  }\n};\n","export enum AliasType {\n  regular = 'REGULAR',\n  catchAll = 'CATCH_ALL',\n  domainAlias = 'DOMAIN_ALIAS',\n}\n\nexport enum SenderType {\n  any = 'ANY',\n  manual = 'MANUAL',\n}\n\ninterface FormData {\n  [key: string]: {\n    info?: string;\n    text: string;\n    alias: {\n      placeholder: string;\n      info: string;\n    };\n    forwardsTo: {\n      placeholder: string;\n      info?: string;\n    };\n    permittedSenders: {\n      any: string;\n      manual: string;\n      placeholder: string;\n      info: string;\n    };\n  };\n}\n\nexport const formData: FormData = {\n  [AliasType.regular]: {\n    text: 'Regular',\n    alias: {\n      placeholder: 'you@yourdomain.com (incoming email address)',\n      info:\n        'You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: 'you@yourdomain.com (forward to email address)',\n      info: 'One address per line or separated by commas.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from the alias address.',\n      manual:\n        'Ill enter the mail users that can send mail claiming to be from the alias address.',\n    },\n  },\n  [AliasType.catchAll]: {\n    text: 'Catch-All',\n    info:\n      'A catch-all alias captures all otherwise unmatched email to a domain.',\n    alias: {\n      placeholder: '@yourdomain.com (incoming catch-all domain)',\n      info:\n        'Enter just the part of an email address starting with the @-sign. You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: 'you@yourdomain.com (forward to email address)',\n      info: 'One address per line or separated by commas.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from any address on the alias domain.',\n      manual:\n        'Ill enter the mail users that can send mail claiming to be from any address on the alias domain.',\n    },\n  },\n  [AliasType.domainAlias]: {\n    text: 'Domain Alias',\n    info:\n      'A domain alias forwards all otherwise unmatched email from one domain to another domain, preserving the part before the @-sign.',\n    alias: {\n      placeholder: '@yourdomain.com (incoming catch-all domain)',\n      info:\n        'Enter just the part of an email address starting with the @-sign. You may use international (non-ASCII) characters for the domain part of the email address only.',\n    },\n    forwardsTo: {\n      placeholder: '@otherdomain.com (forward to other domain)',\n      info: 'Enter just the part of an email address starting with the @-sign.',\n    },\n    permittedSenders: {\n      placeholder: 'you@yourdomain.com',\n      info: 'One address per line or separated by commas.',\n      any:\n        'Any mail user listed in the Forwards To box can send mail claiming to be from any address on the alias domain.',\n      manual:\n        'Ill enter the mail users that can send mail claiming to be from any address on the alias domain.',\n    },\n  },\n};\n","import {\n  AnimationStyles,\n  IMessageBarProps,\n  mergeStyles,\n  MessageBar as FluentMessageBar,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst messageBarClassName = mergeStyles({\n  ...AnimationStyles.fadeIn400,\n});\n\nexport const MessageBar: React.FunctionComponent<\n  IMessageBarProps & {\n    animate?: boolean;\n    className?: string;\n  }\n> = ({ animate = true, className, ...rest }) => {\n  const propsWithAnimation = animate\n    ? {\n        ...rest,\n        className: mergeStyles(className, messageBarClassName),\n      }\n    : rest;\n\n  return (\n    <FluentMessageBar {...propsWithAnimation} dismissButtonAriaLabel=\"Close\" />\n  );\n};\n","import {\n  Callout,\n  getTheme,\n  IconButton,\n  ITextFieldProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\nconst theme = getTheme();\n\nconst iconButtonClassName = mergeStyles({\n  marginBottom: '-3px',\n});\n\ntype Props = ITextFieldProps & {\n  defaultRender?: (props?: ITextFieldProps) => JSX.Element | null;\n  calloutText?: React.ReactNode;\n  maxWidth?: number;\n};\n\nexport const TextFieldWithInfo: React.FunctionComponent<Props> = (\n  props\n): JSX.Element => {\n  const { maxWidth = 320, defaultRender, ...rest } = props;\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const iconButtonId: string = useId('iconButton');\n  return (\n    <>\n      <Stack horizontal verticalAlign=\"center\">\n        {defaultRender?.(rest)}\n        <IconButton\n          id={iconButtonId}\n          title=\"Info\"\n          ariaLabel=\"Info\"\n          iconProps={{ iconName: 'Info' }}\n          onClick={toggleIsCalloutVisible}\n          className={iconButtonClassName}\n        />\n      </Stack>\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          onDismiss={toggleIsCalloutVisible}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{props.calloutText}</Text>\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n\nexport const onRenderTextFieldLabel = (calloutText: React.ReactNode) => (\n  props?: ITextFieldProps,\n  defaultRender?: (props?: ITextFieldProps) => JSX.Element | null\n): React.ReactElement | null => (\n  <TextFieldWithInfo\n    {...props}\n    calloutText={calloutText}\n    defaultRender={defaultRender}\n  />\n);\n\nexport const textfieldWithLabelInfoStyles = {\n  subComponentStyles: {\n    label: {\n      root: {\n        selectors: {\n          ':after': {\n            paddingRight: theme.spacing.s2,\n          },\n        },\n      },\n    },\n  },\n};\n","import {\n  BaseButton,\n  Button,\n  ChoiceGroup,\n  getTheme,\n  IChoiceGroupOption,\n  mergeStyles,\n  MessageBarType,\n  Pivot,\n  PivotItem,\n  PivotLinkFormat,\n  PivotLinkSize,\n  Stack,\n  TextField,\n} from '@fluentui/react';\nimport { UpsertMailAliasRequest } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  upsertAlias,\n  upsertAliasResetError,\n} from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../TextFieldWithInfo/TextFieldWithInfo';\nimport { AliasType, formData, SenderType } from './formData';\n\nconst theme = getTheme();\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nfunction getInitialAliasType({\n  address,\n  forwardsTo,\n}: UpsertMailAliasRequest): AliasType {\n  if (address.charAt(0) === '@' && forwardsTo.charAt(0) === '@') {\n    return AliasType.domainAlias;\n  } else if (address.charAt(0) === '@') {\n    return AliasType.catchAll;\n  } else {\n    return AliasType.regular;\n  }\n}\n\nconst defaultAlias: UpsertMailAliasRequest = {\n  address: '',\n  forwardsTo: '',\n  permittedSenders: '',\n  updateIfExists: 0,\n};\n\ninterface MailAliasUpsertProps {\n  updateAlias?: UpsertMailAliasRequest;\n}\n\nexport const MailAliasUpsert: React.FunctionComponent<MailAliasUpsertProps> = ({\n  children,\n  updateAlias = defaultAlias,\n}) => {\n  const { upsertAliasResponse, upsertAliasError } = useSelector(\n    (state: RootState) => state.aliases\n  );\n\n  const dispatch = useDispatch();\n  const [aliasType, setAliasType] = useState<AliasType>(\n    getInitialAliasType(updateAlias)\n  );\n  const [senderType, setSenderType] = useState<SenderType>(\n    updateAlias.permittedSenders ? SenderType.manual : SenderType.any\n  );\n  const [alias, setAlias] = useState<UpsertMailAliasRequest>(updateAlias);\n\n  const senderTypeOptions: IChoiceGroupOption[] = [\n    { key: SenderType.any, text: formData[aliasType].permittedSenders.any },\n    {\n      key: SenderType.manual,\n      text: formData[aliasType].permittedSenders.manual,\n    },\n  ];\n\n  const onSenderTypeChange = useCallback(\n    (\n      _event?: React.FormEvent<HTMLElement | HTMLInputElement>,\n      option?: IChoiceGroupOption\n    ) => {\n      if (option) {\n        setSenderType(option.key as SenderType);\n      }\n    },\n    [setSenderType]\n  );\n\n  const onPivotLinkClick = useCallback(\n    (item?: PivotItem, ev?: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (item && item.props && item.props.itemKey) {\n        setAliasType(item.props.itemKey as AliasType);\n      }\n    },\n    [setAliasType]\n  );\n\n  const onFieldChange = useCallback(\n    (\n      event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string\n    ): void => {\n      setAlias({\n        ...alias,\n        [(event.target as HTMLInputElement | HTMLTextAreaElement).name]:\n          newValue || '',\n      });\n    },\n    [alias]\n  );\n\n  const onErrorMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(upsertAliasResetError());\n    },\n    [dispatch]\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(\n        upsertAlias({\n          ...alias,\n          permittedSenders:\n            senderType === SenderType.manual ? alias.permittedSenders : '',\n        })\n      );\n    },\n    [alias, dispatch, senderType]\n  );\n\n  const onForwardsToRenderLabel = useMemo(\n    () =>\n      onRenderTextFieldLabel(\n        <>\n          Only forward mail to addresses handled by this Mail-in-a-Box, since\n          mail forwarded by aliases to other domains may be rejected or filtered\n          by the receiver. To forward mail to other domains, create a mail user\n          and then log into webmail for the user and create a filter rule to\n          forward mail.\n        </>\n      ),\n    []\n  );\n\n  useEffect(() => {\n    if (upsertAliasResponse) {\n      setAlias(defaultAlias);\n    }\n  }, [dispatch, upsertAliasResponse]);\n\n  return (\n    <Stack\n      gap=\"m\"\n      as=\"form\"\n      grow={1}\n      className={columnClassName}\n      onSubmit={onFormSubmit}\n    >\n      {upsertAliasError && (\n        <MessageBar\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          onDismiss={onErrorMessageBarDismiss}\n          dismissButtonAriaLabel=\"Close\"\n        >\n          {upsertAliasError}\n        </MessageBar>\n      )}\n      <Stack gap=\"s2\">\n        <Pivot\n          linkSize={PivotLinkSize.normal}\n          linkFormat={PivotLinkFormat.tabs}\n          onLinkClick={onPivotLinkClick}\n          selectedKey={aliasType}\n        >\n          {Object.keys(formData).map((type) => (\n            <PivotItem\n              headerText={formData[type].text}\n              itemKey={type}\n              headerButtonProps={{\n                disabled: updateAlias.updateIfExists === 1,\n              }}\n            >\n              {formData[type].info ? (\n                <MessageBar\n                  styles={{\n                    root: {\n                      marginTop: theme.spacing.s1,\n                    },\n                  }}\n                >\n                  {formData[type].info}\n                </MessageBar>\n              ) : null}\n            </PivotItem>\n          ))}\n        </Pivot>\n      </Stack>\n      <TextField\n        label=\"Alias\"\n        required\n        placeholder={formData[aliasType].alias.placeholder}\n        description={formData[aliasType].alias.info}\n        styles={{ description: { ...theme.fonts.small } }}\n        onChange={onFieldChange}\n        name=\"address\"\n        value={alias.address}\n        autoFocus={!updateAlias.address}\n        disabled={!!updateAlias.address}\n      />\n      <TextField\n        label=\"Forwards To\"\n        multiline\n        rows={3}\n        required\n        placeholder={formData[aliasType].forwardsTo.placeholder}\n        description={formData[aliasType].forwardsTo.info}\n        styles={{\n          description: { ...theme.fonts.small },\n          ...textfieldWithLabelInfoStyles,\n        }}\n        name=\"forwardsTo\"\n        onChange={onFieldChange}\n        value={alias.forwardsTo}\n        onRenderLabel={onForwardsToRenderLabel}\n        autoFocus={!!updateAlias.address}\n      />\n      <ChoiceGroup\n        selectedKey={senderType}\n        options={senderTypeOptions}\n        onChange={onSenderTypeChange}\n        label=\"Permitted Senders\"\n        required\n      />\n      {senderType === SenderType.manual && (\n        <TextField\n          multiline\n          rows={3}\n          required\n          name=\"permittedSenders\"\n          placeholder={formData[aliasType].permittedSenders.placeholder}\n          onChange={onFieldChange}\n          value={alias.permittedSenders ?? ''}\n          styles={{\n            description: { ...theme.fonts.small },\n            ...textfieldWithLabelInfoStyles,\n          }}\n          description={formData[aliasType].permittedSenders.info}\n        />\n      )}\n      {children}\n    </Stack>\n  );\n};\n","import { getTheme, mergeStyles, Text } from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\nconst className = mergeStyles({\n  padding: theme.spacing.m,\n  fontFamily: 'monospace',\n  backgroundColor: theme.palette.neutralLighterAlt,\n  borderColor: theme.semanticColors.variantBorder,\n  borderRadius: theme.effects.roundedCorner2,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  overflow: 'auto',\n  textOverflow: 'unset',\n  margin: 0,\n});\n\nexport const Pre: React.FunctionComponent = ({ children }) => {\n  return (\n    <Text as=\"pre\" className={className} block>\n      {children}\n    </Text>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  IModalProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { getAliases, upsertAliasReset } from '../../../features/aliasesSlice';\nimport { getDump } from '../../../features/dnsSlice';\nimport { getSSLStatus } from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { MailAliasUpsert } from '../MailAliasUpsert/MailAliasUpsert';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Alias Added',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nexport const MailAliasAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const { isUpsertingAlias, upsertAliasResponse } = useSelector(\n    (state: RootState) => state.aliases\n  );\n  const dispatch = useDispatch();\n\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const nonMobileContainerProps = {\n    horizontal: isMinLargeScreen,\n    gap: isMinLargeScreen ? 'l2' : 'm',\n  };\n\n  const onDialogDismissed = useCallback((): void => {\n    dispatch(upsertAliasReset());\n    setHasDialogOpened(false);\n  }, [dispatch]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  useEffect(() => {\n    if (upsertAliasResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [upsertAliasResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    if (upsertAliasResponse) {\n      dispatch(getAliases());\n      dispatch(getSSLStatus());\n      dispatch(getDump());\n    }\n  }, [dispatch, upsertAliasResponse]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(upsertAliasReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{upsertAliasResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack {...props} {...nonMobileContainerProps}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            Aliases are email forwarders. An alias can forward email to a{' '}\n            <Link href=\"#\">mail user</Link> or to any email address.\n          </Text>\n          <Text>\n            To use an alias or any address besides your own login username in\n            outbound mail, the sending user must be included as a permitted\n            sender for the alias.\n          </Text>\n        </Stack>\n        <MailAliasUpsert>\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isUpsertingAlias}>\n              Add Alias\n            </PrimaryButton>\n          </Stack>\n        </MailAliasUpsert>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  DetailsRow,\n  IDetailsGroupDividerProps,\n  IDetailsHeaderProps,\n  IDetailsListProps,\n  IDetailsRowProps,\n  IGroup,\n  IGroupHeaderProps,\n  IRenderFunction,\n  SelectionMode,\n} from '@fluentui/react';\nimport React, { Dispatch, SetStateAction, useCallback, useState } from 'react';\n\nconst onRenderRow = (props?: IDetailsRowProps): JSX.Element | null => {\n  if (props) {\n    return (\n      <DetailsRow\n        {...props}\n        // styles={{\n        //   root: {\n        //     animation: 'none',\n        //   },\n        // }}\n      />\n    );\n  }\n  return null;\n};\n\ninterface GroupedDetailsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n  groups: IGroup[];\n}\n\nexport const GroupedDetailsList: React.FunctionComponent<\n  IDetailsListProps & GroupedDetailsListProps\n> = ({ openedGroupsState, groups, ...props }) => {\n  const [openedGroups, setOpenedGroups] = openedGroupsState;\n  const [hasExpandedAllGroups, setHasExpandedAllGroups] = useState<boolean>(\n    false\n  );\n\n  const onToggleGroupCollapse = useCallback(\n    (groupKey: string, collapse: boolean) => {\n      if (collapse) {\n        openedGroups.splice(openedGroups.indexOf(groupKey), 1);\n      } else {\n        openedGroups.push(groupKey);\n      }\n      setOpenedGroups(openedGroups.slice());\n    },\n    [openedGroups, setOpenedGroups]\n  );\n\n  const onToggleGroupCollapseAll = useCallback((): void => {\n    const shouldCollapse =\n      hasExpandedAllGroups || openedGroups.length === groups.length;\n    if (shouldCollapse) {\n      setOpenedGroups([]);\n      setHasExpandedAllGroups(false);\n    } else {\n      setOpenedGroups(groups.map(({ key }) => key));\n      setHasExpandedAllGroups(true);\n    }\n  }, [groups, hasExpandedAllGroups, openedGroups.length, setOpenedGroups]);\n\n  const onRenderDetailsHeader = useCallback(\n    (\n      detailsHeaderProps?: IDetailsHeaderProps,\n      defaultRender?: IRenderFunction<IDetailsHeaderProps>\n    ): JSX.Element | null => {\n      return (\n        defaultRender?.({\n          ...detailsHeaderProps,\n          onToggleCollapseAll: onToggleGroupCollapseAll,\n          styles: {\n            root: {\n              paddingTop: 0,\n            },\n          },\n        } as IDetailsHeaderProps) || null\n      );\n    },\n    [onToggleGroupCollapseAll]\n  );\n\n  const onRenderGroupHeader = useCallback(\n    (\n      props?: IDetailsGroupDividerProps,\n      defaultRender?: IRenderFunction<IGroupHeaderProps>\n    ): JSX.Element | null => {\n      if (defaultRender) {\n        const toggleCollapse = (): void => {\n          if (props?.group) {\n            onToggleGroupCollapse(props.group.key, !props.group.isCollapsed);\n          }\n        };\n        return (\n          <div\n            onClick={(\n              event: React.MouseEvent<HTMLDivElement, MouseEvent>\n            ): void => {\n              if (props && props.group) {\n                event.preventDefault();\n                toggleCollapse();\n              }\n            }}\n          >\n            {defaultRender({\n              ...props,\n              onToggleCollapse: toggleCollapse,\n            })}\n          </div>\n        );\n      }\n      return null;\n    },\n    [onToggleGroupCollapse]\n  );\n\n  const groupsWithCollapsedState = groups.map((group) => ({\n    ...group,\n    isCollapsed: openedGroups.indexOf(group.key) === -1,\n  }));\n\n  return (\n    <DetailsList\n      {...props}\n      groups={groupsWithCollapsedState}\n      layoutMode={DetailsListLayoutMode.justified}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean =>\n        groupsWithCollapsedState.length > 20 || props.items.length > 50\n      }\n      onRenderDetailsHeader={onRenderDetailsHeader}\n      onRenderRow={onRenderRow}\n      groupProps={{\n        isAllGroupsCollapsed: openedGroups.length === 0,\n        onRenderHeader: onRenderGroupHeader,\n      }}\n    />\n  );\n};\n","import { getTheme, Spinner, SpinnerSize, Stack } from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\ninterface DialogFooterProps {\n  isLoading?: boolean;\n}\n\nexport const DialogFooter: React.FunctionComponent<DialogFooterProps> = ({\n  children,\n  isLoading = false,\n}) => {\n  return (\n    <Stack\n      horizontalAlign=\"end\"\n      verticalAlign=\"center\"\n      horizontal\n      gap=\"s1\"\n      styles={{\n        root: {\n          marginTop: theme.spacing.m,\n        },\n      }}\n    >\n      {isLoading && <Spinner size={SpinnerSize.medium} />}\n      {children}\n    </Stack>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  IDialogProps,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n} from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\ninterface ActionConfirmDialogProps {\n  onConfirm: () => void;\n  hidden: boolean;\n  isLoading: boolean;\n  error: string | null;\n  confirmButtonText: string;\n  showCancelButton?: boolean;\n  actionResponse?: string | null;\n}\n\nexport const ActionConfirmDialog: React.FunctionComponent<\n  IDialogProps & ActionConfirmDialogProps\n> = ({\n  hidden,\n  onConfirm,\n  isLoading,\n  error,\n  confirmButtonText,\n  children,\n  actionResponse,\n  ...rest\n}) => {\n  const onConfirmButtonClick = useCallback(() => {\n    if (!actionResponse) {\n      onConfirm();\n    } else if (rest.onDismiss) {\n      rest.onDismiss();\n    }\n  }, [actionResponse, onConfirm, rest]);\n  const onCancelButtonClick = useCallback(() => {\n    if (rest.onDismiss) {\n      rest.onDismiss();\n    }\n  }, [rest]);\n  return (\n    <Dialog hidden={hidden} minWidth={380} maxWidth={480} {...rest}>\n      <Stack gap=\"m\">\n        {error && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {error}\n          </MessageBar>\n        )}\n        {actionResponse && <Pre>{actionResponse}</Pre>}\n        {!actionResponse && children}\n      </Stack>\n      <DialogFooter isLoading={isLoading}>\n        <PrimaryButton\n          disabled={isLoading}\n          text={!actionResponse ? confirmButtonText : 'OK'}\n          onClick={onConfirmButtonClick}\n        />\n        {!actionResponse && (\n          <DefaultButton\n            disabled={isLoading}\n            text=\"Cancel\"\n            onClick={onCancelButtonClick}\n          />\n        )}\n      </DialogFooter>\n    </Dialog>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  DialogType,\n  IDialogContentProps,\n  IDialogProps,\n  PrimaryButton,\n} from '@fluentui/react';\nimport { MailAlias, UpsertMailAliasRequest } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MailAliasUpsert } from '../MailAliasUpsert/MailAliasUpsert';\nimport { Pre } from '../Pre/Pre';\n\ninterface MailAliasUpdateDialogProps {\n  alias?: MailAlias;\n}\n\nconst updateAliasDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Update Alias',\n};\n\nexport const MailAliasUpdateDialog: React.FunctionComponent<\n  IDialogProps & MailAliasUpdateDialogProps\n> = ({ alias, ...dialogProps }) => {\n  const { upsertAliasResponse, isUpsertingAlias } = useSelector(\n    (state: RootState) => state.aliases\n  );\n\n  const onDialogCloseButtonClick = useCallback(() => {\n    dialogProps.onDismiss?.();\n  }, [dialogProps]);\n\n  const updateAlias: UpsertMailAliasRequest = {\n    address: alias?.address || '',\n    forwardsTo: alias?.forwardsTo.join('\\n') ?? '',\n    permittedSenders: alias?.permittedSenders?.join('\\n') ?? null,\n    updateIfExists: 1,\n  };\n\n  const dialogWidth = upsertAliasResponse ? 480 : 580;\n  return (\n    <Dialog\n      {...dialogProps}\n      dialogContentProps={updateAliasDialogContentProps}\n      modalProps={{\n        isBlocking: true,\n      }}\n      minWidth={dialogWidth}\n      maxWidth={dialogWidth}\n    >\n      {upsertAliasResponse && (\n        <>\n          <Pre>{upsertAliasResponse}</Pre>\n          <DialogFooter>\n            <PrimaryButton text=\"OK\" onClick={onDialogCloseButtonClick} />\n          </DialogFooter>\n        </>\n      )}\n      {!upsertAliasResponse && (\n        <MailAliasUpsert updateAlias={updateAlias}>\n          <DialogFooter isLoading={isUpsertingAlias}>\n            <PrimaryButton\n              text=\"Update Alias\"\n              type=\"submit\"\n              disabled={isUpsertingAlias}\n            />\n            <DefaultButton\n              text=\"Cancel\"\n              onClick={onDialogCloseButtonClick}\n              disabled={isUpsertingAlias}\n            />\n          </DialogFooter>\n        </MailAliasUpsert>\n      )}\n    </Dialog>\n  );\n};\n","import { DialogType, Text } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  AliasActionType,\n  getAliases,\n  removeAlias,\n  removeAliasReset,\n  resetAliasAction,\n  upsertAliasReset,\n} from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\nimport { MailAliasUpdateDialog } from './MailAliasUpdateDialog';\n\nexport const MailAliasActions: React.FunctionComponent = () => {\n  const {\n    isRemovingAlias,\n    aliasAction,\n    removeAliasError,\n    removeAliasResponse,\n    upsertAliasResponse,\n  } = useSelector((state: RootState) => state.aliases);\n\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useCallback((): void => {\n    dispatch(resetAliasAction());\n  }, [dispatch]);\n\n  const onConfirmDialogDismissed = useCallback((): void => {\n    if (removeAliasResponse) {\n      dispatch(getAliases());\n    }\n    dispatch(removeAliasReset());\n  }, [dispatch, removeAliasResponse]);\n\n  const onUpdateAliasDialogDismissed = useCallback((): void => {\n    if (upsertAliasResponse) {\n      dispatch(getAliases());\n    }\n    dispatch(upsertAliasReset());\n  }, [dispatch, upsertAliasResponse]);\n\n  const onRemoveAliasConfirm = useCallback((): void => {\n    if (aliasAction?.alias) {\n      dispatch(removeAlias(aliasAction?.alias.address));\n    }\n  }, [aliasAction, dispatch]);\n\n  return (\n    <>\n      <ActionConfirmDialog\n        hidden={aliasAction?.type !== AliasActionType.remove}\n        isLoading={isRemovingAlias}\n        onDismiss={onActionDialogDismiss}\n        onDismissed={onConfirmDialogDismissed}\n        onConfirm={onRemoveAliasConfirm}\n        error={removeAliasError}\n        actionResponse={removeAliasResponse}\n        confirmButtonText=\"Remove Alias\"\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Remove Alias',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n      >\n        <Text>\n          Are you sure you want to remove alias:{' '}\n          <strong>{aliasAction?.alias?.addressDisplay}</strong>?\n        </Text>\n      </ActionConfirmDialog>\n      <MailAliasUpdateDialog\n        hidden={aliasAction?.type !== AliasActionType.update}\n        alias={aliasAction?.alias}\n        onDismiss={onActionDialogDismiss}\n        onDismissed={onUpdateAliasDialogDismissed}\n      ></MailAliasUpdateDialog>\n    </>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { MailAlias } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  AliasActionType,\n  setAliasAction,\n} from '../../../features/aliasesSlice';\n\ninterface MailAliasActionsListProps {\n  alias: MailAlias;\n}\n\nexport const MailAliasActionsList: React.FunctionComponent<MailAliasActionsListProps> = ({\n  alias,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: AliasActionType): void => {\n      dispatch(\n        setAliasAction({\n          alias,\n          type,\n        })\n      );\n    },\n    [dispatch, alias]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'updatealias' + alias.address,\n            text: 'Update',\n            onClick: (): void => doAction(AliasActionType.update),\n          },\n          {\n            key: 'removeealias' + alias.address,\n            text: 'Remove',\n            onClick: (): void => doAction(AliasActionType.remove),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { MailAlias } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectAliasesWithGroups } from '../../../features/aliasesSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { MailAliasActions } from './MailAliasActions';\nimport { MailAliasActionsList } from './MailAliasActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Alias',\n    minWidth: 320,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'addressDisplay',\n  },\n  {\n    key: 'column2',\n    name: 'Forwards To',\n    minWidth: 260,\n    isMultiline: true,\n    onRender: (item: MailAlias): React.ReactElement => {\n      if (!item || !item.forwardsTo) {\n        console.log('item');\n        debugger;\n      }\n      return (\n        <>\n          {item.forwardsTo.map((forwardToAddress) => (\n            <Text block>{forwardToAddress}</Text>\n          ))}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Permitted Senders',\n    minWidth: 260,\n    isMultiline: true,\n    onRender: (item: MailAlias): React.ReactElement => {\n      return (\n        <>\n          {item.permittedSenders?.map((permittedSender) => (\n            <Text block>{permittedSender}</Text>\n          ))}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    isPadded: false,\n    onRender: (alias: MailAlias): React.ReactNode => {\n      return <MailAliasActionsList alias={alias} />;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface MailAliasesListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const MailAliasesList: React.FunctionComponent<\n  IStackProps & MailAliasesListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [aliases, groups] = useSelector(selectAliasesWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <MailAliasActions />\n      <GroupedDetailsList\n        openedGroupsState={openedGroupsState}\n        items={aliases}\n        groups={groups}\n        columns={columns}\n      />\n    </Stack>\n  );\n};\n","import { IPivotProps, Pivot, PivotItem, PivotLinkSize } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport const PivotRoutes: React.FunctionComponent<IPivotProps> = ({\n  children,\n  ...props\n}) => {\n  const history = useHistory();\n  const location = useLocation();\n  const onPivotLinkClick = useCallback(\n    (item?: PivotItem, _event?: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (item?.props.itemKey) {\n        history.push(item.props.itemKey);\n      }\n    },\n    [history]\n  );\n  return (\n    <Pivot\n      linkSize={PivotLinkSize.large}\n      selectedKey={location.pathname}\n      onLinkClick={onPivotLinkClick}\n      {...props}\n    >\n      {children}\n    </Pivot>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  PivotLinkSize,\n  ScreenWidthMinLarge,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getAliases } from '../../../features/aliasesSlice';\nimport { RootState } from '../../../store';\nimport { LoadingOverlay } from '../LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../LoadingOverlay/LoadingOverlayContainer';\nimport { MailAliasAdd } from '../MailAliasAdd/MailAliasAdd';\nimport { MailAliasesList } from '../MailAliasesList/MailAliasesList';\nimport { PivotRoutes } from '../PivotRoutes/PivotRoutes';\n\nexport const MailAliases: React.FunctionComponent = () => {\n  const { isGettingAliases, getAliasesError, aliases } = useSelector(\n    (state: RootState) => state.aliases\n  );\n  const openedGroupsState = useState<string[]>([]);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const pivotProps = {\n    linkSize: isMinLargeScreen ? PivotLinkSize.large : PivotLinkSize.normal,\n  };\n\n  useEffect(() => {\n    if (!aliases.length) {\n      dispatch(getAliases());\n    }\n  }, [aliases.length, dispatch]);\n  return (\n    <>\n      <PivotRoutes {...pivotProps}>\n        <PivotItem itemKey={url} headerText=\"Mail Aliases\" />\n        <PivotItem itemKey={`${url}/add`} headerText=\"Add a Mail Alias\" />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {getAliasesError && (\n              <MessageBar messageBarType={MessageBarType.error}>\n                {getAliasesError}\n              </MessageBar>\n            )}\n            {isGettingAliases && (\n              <LoadingOverlay\n                loadingLabel=\"Loading aliases...\"\n                hasLoaded={Boolean(aliases.length)}\n              />\n            )}\n            {!getAliasesError && Boolean(aliases.length) && (\n              <MailAliasesList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          <MailAliasAdd />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Stack } from '@fluentui/react';\nimport React from 'react';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MailAliases } from '../../../../ui/MailAliases/MailAliases';\n\nexport const MailAliasesRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'mail',\n            },\n            {\n              text: 'Aliases',\n              key: 'aliases',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <MailAliases />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nMailAliasesRoute.path = '/mail/aliases';\n","import { IGroup } from '@fluentui/react';\nimport { createSlice } from '@reduxjs/toolkit';\nimport {\n  MailUser,\n  MailUserByDomain,\n  MailUserPrivilege,\n  MailUsersResponse,\n  MailUsersResponseFormat,\n} from 'mailinabox-api';\nimport { handleRequestError, mailApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport enum UserActionType {\n  addAdminPrivilege,\n  removeAdminPrivilege,\n  setPassword,\n  archive,\n}\n\nexport interface UserAction {\n  user?: MailUser;\n  type?: UserActionType;\n}\n\nexport interface UsersState {\n  isGettingUsers: boolean;\n  users: MailUsersResponse;\n  getUsersError: string | null;\n  isUpdatingUser: boolean;\n  isAddingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n  addUserResponse: string | null;\n  addUserError: string | null;\n}\n\nconst initialState: UsersState = {\n  isGettingUsers: false,\n  users: [],\n  getUsersError: null,\n  isUpdatingUser: false,\n  isAddingUser: false,\n  updateUserError: null,\n  updateUserResponse: null,\n  userAction: null,\n  addUserResponse: null,\n  addUserError: null,\n};\n\nexport const users = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    getUsersStart: (state): void => {\n      state.getUsersError = null;\n      state.isGettingUsers = true;\n    },\n    getUsersSuccess: (state, action): void => {\n      state.isGettingUsers = false;\n      state.users = action.payload;\n    },\n    getUsersError: (state, action): void => {\n      state.getUsersError = action.payload;\n      state.isGettingUsers = false;\n    },\n    updateUserStart: (state): void => {\n      state.updateUserError = null;\n      state.isUpdatingUser = true;\n    },\n    updateUserSuccess: (state, action): void => {\n      state.isUpdatingUser = false;\n      state.updateUserResponse = action.payload;\n    },\n    updateUserError: (state, action): void => {\n      state.updateUserError = action.payload;\n      state.isUpdatingUser = false;\n    },\n    updateUserReset: (state): void => {\n      state.isUpdatingUser = false;\n      state.updateUserError = null;\n      state.updateUserResponse = null;\n    },\n    setUserAction: (state, action): void => {\n      state.userAction = action.payload;\n    },\n    resetUserAction: (state): void => {\n      state.userAction = {\n        ...state.userAction,\n        type: undefined,\n      };\n    },\n    addUserStart: (state): void => {\n      state.addUserError = null;\n      state.isAddingUser = true;\n    },\n    addUserSuccess: (state, action): void => {\n      state.isAddingUser = false;\n      state.addUserResponse = action.payload;\n    },\n    addUserError: (state, action): void => {\n      state.addUserError = action.payload;\n      state.isAddingUser = false;\n    },\n    addUserReset: (state): void => {\n      state.addUserError = null;\n      state.isAddingUser = false;\n      state.addUserResponse = null;\n    },\n    addUserResetError: (state): void => {\n      state.addUserError = null;\n    },\n  },\n});\n\nexport const {\n  getUsersSuccess,\n  getUsersStart,\n  getUsersError,\n  updateUserStart,\n  updateUserSuccess,\n  updateUserError,\n  updateUserReset,\n  setUserAction,\n  resetUserAction,\n  addUserStart,\n  addUserSuccess,\n  addUserError,\n  addUserReset,\n  addUserResetError,\n} = users.actions;\n\nexport const { reducer: usersReducer } = users;\n\nexport const selectUsersWithGroups = (\n  state: RootState\n): [Array<MailUser>, Array<IGroup>] => {\n  const { users: mailUsers } = state.users;\n  const users: Array<MailUser> = [];\n  const groups: Array<IGroup> = [];\n\n  mailUsers.forEach((userDomain: MailUserByDomain) => {\n    const { domain, users: usersByDomain } = userDomain;\n    groups.push({\n      key: 'group' + groups.length,\n      name: domain,\n      startIndex: users.length,\n      isCollapsed: true,\n      level: 0,\n      count: usersByDomain.length,\n    });\n    users.push(...usersByDomain);\n  });\n\n  return [users, groups];\n};\n\nexport const getUsers = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getUsersStart());\n  try {\n    const result = await mailApi.getMailUsers({\n      format: MailUsersResponseFormat.Json,\n    });\n    dispatch(getUsersSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getUsersError);\n  }\n};\n\nexport const addUserAdminPrivilege = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.addMailUserPrivilege({\n      email: user.email,\n      privilege: MailUserPrivilege.Admin,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const removeUserAdminPrivilege = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.removeMailUserPrivilege({\n      email: user.email,\n      privilege: MailUserPrivilege.Admin,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const setUserPassword = (\n  user: MailUser,\n  password: string\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.setMailUserPassword({\n      email: user.email,\n      password: password,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const removeUser = (user: MailUser): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateUserStart());\n  try {\n    const result = await mailApi.removeMailUser({\n      email: user.email,\n    });\n    dispatch(updateUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateUserError);\n  }\n};\n\nexport const addUser = (\n  email: string,\n  password: string,\n  privilege: MailUserPrivilege\n): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(addUserStart());\n  try {\n    const result = await mailApi.addMailUser({\n      email,\n      password,\n      privileges: privilege,\n    });\n    dispatch(addUserSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, addUserError);\n  }\n};\n","import configJson from './config.json';\nimport { Config } from './types';\n\nexport const config: Config = configJson;\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Option',\n    minWidth: 100,\n    maxWidth: 160,\n    isRowHeader: true,\n    fieldName: 'option',\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    minWidth: 100,\n    isRowHeader: false,\n    fieldName: 'value',\n  },\n];\n\nconst items = [\n  {\n    option: 'Server',\n    value: config.hostname,\n  },\n  {\n    option: 'Options',\n    value: 'Secure Connection',\n  },\n];\n\nexport const MailExchangeSettingsList: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible={false}\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Option',\n    minWidth: 100,\n    maxWidth: 160,\n    isRowHeader: true,\n    fieldName: 'option',\n  },\n  {\n    key: 'column2',\n    name: 'Value',\n    minWidth: 100,\n    isRowHeader: false,\n    fieldName: 'value',\n  },\n];\n\nconst items = [\n  {\n    option: 'Protocol/Method',\n    value: 'IMAP',\n  },\n  {\n    option: 'Mail server',\n    value: config.hostname,\n  },\n  {\n    option: 'IMAP Port',\n    value: '993',\n  },\n  {\n    option: 'IMAP Security',\n    value: 'SSL or TLS',\n  },\n  {\n    option: 'SMTP Port',\n    value: '587',\n  },\n  {\n    option: 'SMTP Security',\n    value: 'STARTTLS (\"always\" or \"required\", if prompted)',\n  },\n  {\n    option: 'Username',\n    value: 'Your whole email address.',\n  },\n  {\n    option: 'Password',\n    value: 'Your mail password.',\n  },\n];\n\nexport const MailSettingsList: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: -16,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  Link,\n  mergeStyles,\n  ScreenWidthMinXLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { config } from '../../../config';\nimport { BodyPanel } from '../BodyPanel/BodyPanel';\nimport { MailExchangeSettingsList } from '../MailExchangeSettingsList/MailExchangeSettingsList';\nimport { MailSettingsList } from '../MailSettingsList/MailSettingsList';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nexport const MailInstructions: React.FunctionComponent = () => {\n  const isMinXLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinXLarge,\n  });\n  return (\n    <Stack horizontal={isMinXLargeScreen} gap=\"l1\">\n      <Stack gap=\"m\" grow={4} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            Webmail\n          </Text>\n          <Text block>\n            Webmail lets you check your email from any web browser. Your webmail\n            site is:\n          </Text>\n          <Text block>\n            <Link href={`https://${config.hostname}/mail`}>\n              https://{config.hostname}/mail\n            </Link>\n          </Text>\n          <Text block>Your username is your whole email address.</Text>\n        </BodyPanel>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            Mobile/desktop apps\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Automatic configuration\n          </Text>\n          <Text block>\n            iOS and OS X only: Open{' '}\n            <Link href={`https://${config.hostname}/mailinabox.mobileconfig`}>\n              this configuration link\n            </Link>{' '}\n            on your iOS device or on your Mac desktop to easily set up mail\n            (IMAP/SMTP), Contacts, and Calendar. Your username is your whole\n            email address.\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Manual configuration\n          </Text>\n          <Text block>\n            Use the following settings when you set up your email on your phone,\n            desktop, or other device:\n          </Text>\n          <MailSettingsList />\n          <Text block>\n            In addition to setting up your email, you&rsquo;ll also need to set\n            up <Link>contacts and calendar synchronization</Link> separately.\n          </Text>\n          <Text block>\n            As an alternative to IMAP you can also use the POP protocol: choose\n            POP as the protocol, port 995, and SSL or TLS security in your mail\n            client. The SMTP settings and usernames and passwords remain the\n            same. However, we recommend you use IMAP instead.\n          </Text>\n\n          <Text block variant=\"mediumPlus\">\n            Exchange/ActiveSync settings\n          </Text>\n\n          <Text block>\n            On iOS devices, devices on this{' '}\n            <Link href=\"https://wiki.z-hub.io/display/ZP/Compatibility\">\n              compatibility list\n            </Link>\n            , or using Outlook 2007 or later on Windows 7 and later, you may set\n            up your mail as an Exchange or ActiveSync server. However,\n            we&rsquo;ve found this to be more buggy than using IMAP as described\n            above. If you encounter any problems, please use the manual settings\n            above.\n          </Text>\n          <MailExchangeSettingsList />\n          <Text block>\n            Your device should also provide a contacts list and calendar that\n            syncs to this box when you use this method.\n          </Text>\n        </BodyPanel>\n      </Stack>\n      <Stack grow={3} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            Other information about mail on your box\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Automatic configuration\n          </Text>\n          <Text block>\n            Your box uses a technique called greylisting to cut down on spam.\n            Greylisting works by initially rejecting mail from people you\n            havent received mail from before. Legitimate mail servers will\n            attempt redelivery shortly afterwards, but the vast majority of spam\n            gets tricked by this. If you are waiting for an email from someone\n            new, such as if you are registering on a new website and are waiting\n            for an email confirmation, please be aware there will be a minimum\n            of 3 minutes delay, depending how soon the remote server attempts\n            redelivery.\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            +tag addresses\n          </Text>\n          <Text block>\n            Every incoming email address also receives mail for{' '}\n            <code>+tag</code> addresses. If your email address is{' '}\n            <code>you@yourdomain.com</code>, you&rsquo;ll also automatically get\n            mail sent to <code>you+anythinghere@yourdomain.com</code>. Use this\n            as a fast way to segment incoming mail for your own filtering rules\n            without having to create aliases in this control panel.\n          </Text>\n          <Text block variant=\"mediumPlus\">\n            Use only this box to send as you\n          </Text>\n          <Text block>\n            Your box sets strict email sending policies for your domain names to\n            make it harder for spam and other fraudulent mail to claim to be\n            you. Only this machine is authorized to send email on behalf of your\n            domain names. If you use any other service to send email as you, it\n            will likely get spam filtered by recipients.\n          </Text>\n        </BodyPanel>\n      </Stack>\n    </Stack>\n  );\n};\n","import { DefaultButton, Stack, TooltipHost } from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport { ScreenWidthMinMedium } from 'office-ui-fabric-react/lib/Styling';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { MailInstructions } from '../../../../ui/MailInstructions/MailInstructions';\n\nexport const MailInstructionsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const isMinMediumScreen = useMediaQuery({\n    minWidth: ScreenWidthMinMedium,\n  });\n  const tooltipId = useId('tooltip');\n  return (\n    <Body>\n      <Stack\n        horizontal={isMinMediumScreen}\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n      >\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'mail',\n            },\n            {\n              text: 'Checking and Sending Mail',\n              key: 'checkingmail',\n              as: 'h1',\n            },\n          ]}\n        />\n        <TooltipHost\n          content=\"Download instructions in PDF format which you can use to send to users of this box.\"\n          id={tooltipId}\n        >\n          <DefaultButton iconProps={{ iconName: 'Download' }}>\n            Download Instructions\n          </DefaultButton>\n        </TooltipHost>\n      </Stack>\n      <MailInstructions />\n    </Body>\n  );\n};\n\nMailInstructionsRoute.path = '/mail/instructions';\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogType,\n  Dropdown,\n  getTheme,\n  IDialogContentProps,\n  IDropdownOption,\n  IModalProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { MailUserPrivilege } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { getDump } from '../../../features/dnsSlice';\nimport { getSSLStatus } from '../../../features/sslSlice';\nimport {\n  addUser,\n  addUserReset,\n  addUserResetError,\n  getUsers,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\nconst theme = getTheme();\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'User Added',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nconst privilegeOptions: IDropdownOption[] = [\n  {\n    key: MailUserPrivilege.Empty,\n    text: 'Normal User',\n  },\n  {\n    key: MailUserPrivilege.Admin,\n    text: 'Administrator',\n  },\n];\n\ninterface FormState {\n  email: string;\n  password: string;\n  privilege: IDropdownOption;\n}\n\nconst initialFormState: FormState = {\n  email: '',\n  password: '',\n  privilege: privilegeOptions[0],\n};\n\nexport const MailUserAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const { isAddingUser, addUserResponse, addUserError } = useSelector(\n    (state: RootState) => state.users\n  );\n\n  const dispatch = useDispatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const [user, setUser] = useState<FormState>(initialFormState);\n\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const nonMobileContainerProps = {\n    horizontal: isMinLargeScreen,\n    gap: isMinLargeScreen ? 'l2' : 'm',\n  };\n\n  const onEmailChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setUser({\n        ...user,\n        email: newValue ?? '',\n      });\n    },\n    [user]\n  );\n\n  const onPasswordChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setUser({\n        ...user,\n        password: newValue ?? '',\n      });\n    },\n    [user]\n  );\n\n  const onPrivilegeChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      if (option) {\n        setUser({\n          ...user,\n          privilege: option,\n        });\n      }\n    },\n    [user]\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(\n        addUser(\n          user.email,\n          user.password,\n          user.privilege.key as MailUserPrivilege\n        )\n      );\n    },\n    [dispatch, user.email, user.password, user.privilege.key]\n  );\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onDialogDismissed = useCallback((): void => {\n    dispatch(addUserReset());\n    setUser(initialFormState);\n  }, [dispatch]);\n\n  const onErrorMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addUserResetError());\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (addUserResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addUserResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    if (addUserResponse) {\n      dispatch(getUsers());\n      dispatch(getSSLStatus());\n      dispatch(getDump());\n    }\n  }, [addUserResponse, dispatch]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addUserReset());\n    };\n  }, [dispatch]);\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addUserResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack {...props} {...nonMobileContainerProps}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            Add an email address to this system. This will create a new login\n            username/password.\n          </Text>\n          <MessageBar\n            messageBarType={MessageBarType.warning}\n            isMultiline={isMinLargeScreen}\n            truncated={!isMinLargeScreen}\n          >\n            Passwords must be at least eight characters consisting of English\n            letters and numbers only. For best results,\n            <Link href=\"#\">generate a random password</Link>. Use\n            <Link href=\"#\">aliases</Link> to create email addresses that forward\n            to existing accounts. Administrators get access to this control\n            panel. User accounts cannot contain any international (non-ASCII)\n            characters, but<Link href=\"#\">aliases</Link> can.\n          </MessageBar>\n        </Stack>\n        <Stack\n          gap=\"m\"\n          as=\"form\"\n          grow={1}\n          className={columnClassName}\n          onSubmit={onFormSubmit}\n        >\n          {addUserError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              onDismiss={onErrorMessageBarDismiss}\n              dismissButtonAriaLabel=\"Close\"\n            >\n              {addUserError}\n            </MessageBar>\n          )}\n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            required\n            onChange={onEmailChange}\n            value={user.email}\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            required\n            onChange={onPasswordChange}\n            value={user.password}\n            description=\"Passwords must be at least eight characters and may not contain spaces.\"\n            styles={{ description: { ...theme.fonts.small } }}\n          />\n          <Dropdown\n            label=\"Privilege\"\n            required\n            options={privilegeOptions}\n            selectedKey={user.privilege.key}\n            onChange={onPrivilegeChange}\n          />\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isAddingUser}>\n              Add User\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  PrimaryButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUsers,\n  removeUser,\n  updateUserReset,\n  UserAction,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Archive User',\n};\n\ninterface MailUserArchiveDialogProps {\n  onDismiss: () => void;\n  hidden: boolean;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n}\n\nexport const MailUserArchiveDialog: React.FunctionComponent<MailUserArchiveDialogProps> = ({\n  hidden,\n  onDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const { username } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n  const [\n    archiveSelfErrorDialogHidden,\n    setArchiveSelfErrorDialogHidden,\n  ] = useState<boolean>(true);\n\n  const onModalDismissed = useCallback((): void => {\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  }, [dispatch, updateUserResponse]);\n\n  const onArchiveConfirm = useCallback((): void => {\n    if (userAction?.user) {\n      dispatch(removeUser(userAction.user));\n    }\n  }, [dispatch, userAction]);\n\n  const modalProps = {\n    isBlocking: true,\n    onDismissed: onModalDismissed,\n  };\n\n  const updateSelfError = !hidden && username === userAction?.user?.email;\n\n  useEffect(() => {\n    setArchiveSelfErrorDialogHidden(!updateSelfError);\n  }, [setArchiveSelfErrorDialogHidden, updateSelfError]);\n  return (\n    <>\n      <Dialog\n        hidden={archiveSelfErrorDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n      >\n        <Text>You cannot archive your own account.</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDismiss} />\n        </DialogFooter>\n      </Dialog>\n      <ActionConfirmDialog\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        onDismiss={onDismiss}\n        isLoading={isUpdatingUser}\n        error={updateUserError}\n        hidden={hidden || !archiveSelfErrorDialogHidden}\n        confirmButtonText=\"Archive\"\n        actionResponse={updateUserResponse}\n        onConfirm={onArchiveConfirm}\n      >\n        <Stack gap=\"m\">\n          <Text>\n            Are you sure you want to archive{' '}\n            <strong>{userAction?.user?.email}</strong>?\n          </Text>\n          <Text>\n            The user's mailboxes will not be deleted (you can do that later),\n            but the user will no longer be able to log into any services on this\n            machine.\n          </Text>\n        </Stack>\n      </ActionConfirmDialog>\n    </>\n  );\n};\n","import {\n  DefaultButton,\n  Dialog,\n  DialogType,\n  getTheme,\n  IDialogContentProps,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React, { useCallback, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getUsers,\n  setUserPassword,\n  updateUserReset,\n  UserAction,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { DialogFooter } from '../DialogFooter/DialogFooter';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\ninterface MailUserSetPasswordDialogProps {\n  onDismiss: () => void;\n  hidden: boolean;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n  userAction: UserAction | null;\n}\n\nconst changePasswordDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Set Password',\n};\n\nexport const MailUserSetPasswordDialog: React.FunctionComponent<MailUserSetPasswordDialogProps> = ({\n  hidden,\n  onDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const { username } = useSelector((state: RootState) => state.auth);\n\n  const dispatch = useDispatch();\n  const [password, setPassword] = useState<string>('');\n  const onModalDismissed = useCallback((): void => {\n    setPassword('');\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  }, [dispatch, updateUserResponse]);\n\n  const onPasswordChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPassword(newValue ?? '');\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      if (userAction?.user) {\n        dispatch(setUserPassword(userAction.user, password));\n      }\n    },\n    [dispatch, password, userAction]\n  );\n  const updateSelf = username === userAction?.user?.email;\n  return (\n    <Dialog\n      hidden={hidden}\n      dialogContentProps={changePasswordDialogContentProps}\n      modalProps={{\n        isBlocking: true,\n        onDismissed: onModalDismissed,\n      }}\n      minWidth={480}\n      maxWidth={480}\n    >\n      {updateUserResponse && (\n        <>\n          <Pre>{updateUserResponse}</Pre>\n          <DialogFooter>\n            <PrimaryButton text=\"OK\" onClick={onDismiss} />\n          </DialogFooter>\n        </>\n      )}\n      {!updateUserResponse && (\n        <form onSubmit={onFormSubmit}>\n          <Stack gap=\"s1\">\n            {updateUserError && (\n              <MessageBar messageBarType={MessageBarType.error} isMultiline>\n                {updateUserError}\n              </MessageBar>\n            )}\n            <Text block>\n              Set a new password for <strong>{userAction?.user?.email}</strong>\n            </Text>\n            <TextField\n              label=\"New Password\"\n              type=\"password\"\n              value={password}\n              required\n              onChange={onPasswordChange}\n              description=\"Passwords must be at least eight characters and may not contain spaces.\"\n              styles={{ description: { ...getTheme().fonts.small } }}\n            />\n            {updateSelf && (\n              <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n                If you change your own password, you will be logged out of this\n                control panel and will need to log in again.\n              </MessageBar>\n            )}\n          </Stack>\n          <DialogFooter isLoading={isUpdatingUser}>\n            <PrimaryButton\n              text=\"Set Password\"\n              disabled={isUpdatingUser}\n              type=\"submit\"\n            />\n            <DefaultButton\n              text=\"Cancel\"\n              disabled={isUpdatingUser}\n              onClick={onDismiss}\n            />\n          </DialogFooter>\n        </form>\n      )}\n    </Dialog>\n  );\n};\n","import {\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  PrimaryButton,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addUserAdminPrivilege,\n  getUsers,\n  removeUserAdminPrivilege,\n  updateUserReset,\n  UserAction,\n  UserActionType,\n} from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nconst modifyPrivilegesDialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'Modify Privileges',\n};\n\ninterface MailUserUpdatePrivilegeProps {\n  onDialogDismiss: () => void;\n  userAction: UserAction | null;\n  isUpdatingUser: boolean;\n  updateUserError: string | null;\n  updateUserResponse: string | null;\n}\n\nexport const MailUserUpdatePrivilege: React.FunctionComponent<MailUserUpdatePrivilegeProps> = ({\n  onDialogDismiss,\n  userAction,\n  isUpdatingUser,\n  updateUserError,\n  updateUserResponse,\n}) => {\n  const dispatch = useDispatch();\n\n  const { username } = useSelector((state: RootState) => state.auth);\n  const [\n    removeSelfErrorDialogHidden,\n    setRemoveSelfErrorDialogHidden,\n  ] = useState<boolean>(true);\n\n  const removeAdminDialogHidden =\n    userAction?.type !== UserActionType.removeAdminPrivilege;\n\n  const addAdminDialogHidden =\n    userAction?.type !== UserActionType.addAdminPrivilege;\n\n  const updateSelfError =\n    !removeAdminDialogHidden && username === userAction?.user?.email;\n\n  const onModalDismissed = useCallback((): void => {\n    if (updateUserResponse) {\n      dispatch(getUsers());\n    }\n    dispatch(updateUserReset());\n  }, [dispatch, updateUserResponse]);\n\n  const onRemoveAdminConfirm = useCallback((): void => {\n    if (userAction?.user) {\n      dispatch(removeUserAdminPrivilege(userAction.user));\n    }\n  }, [dispatch, userAction]);\n\n  const onAddAdminConfirm = useCallback((): void => {\n    if (userAction?.user) {\n      dispatch(addUserAdminPrivilege(userAction.user));\n    }\n  }, [dispatch, userAction]);\n\n  useEffect(() => {\n    setRemoveSelfErrorDialogHidden(!updateSelfError);\n  }, [updateSelfError]);\n\n  const modalProps = {\n    isBlocking: true,\n    onDismissed: onModalDismissed,\n  };\n  return (\n    <>\n      <Dialog\n        hidden={removeSelfErrorDialogHidden}\n        dialogContentProps={modifyPrivilegesDialogContentProps}\n        modalProps={modalProps}\n      >\n        <Text>You cannot remove the admin privilege from yourself.</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogDismiss} />\n        </DialogFooter>\n      </Dialog>\n      {!updateSelfError && (\n        <>\n          <ActionConfirmDialog\n            dialogContentProps={modifyPrivilegesDialogContentProps}\n            modalProps={modalProps}\n            onDismiss={onDialogDismiss}\n            isLoading={isUpdatingUser}\n            error={updateUserError}\n            hidden={removeAdminDialogHidden}\n            onConfirm={onRemoveAdminConfirm}\n            confirmButtonText=\"Remove\"\n            actionResponse={updateUserResponse}\n          >\n            <Text>\n              Are you sure you want to remove the admin privilege for{' '}\n              <strong>{userAction?.user?.email}?</strong>\n            </Text>\n          </ActionConfirmDialog>\n          <ActionConfirmDialog\n            dialogContentProps={modifyPrivilegesDialogContentProps}\n            modalProps={modalProps}\n            onDismiss={onDialogDismiss}\n            isLoading={isUpdatingUser}\n            error={updateUserError}\n            hidden={addAdminDialogHidden}\n            onConfirm={onAddAdminConfirm}\n            confirmButtonText=\"Add\"\n            actionResponse={updateUserResponse}\n          >\n            <Text>\n              Are you sure you want to add the admin privilege for{' '}\n              <strong>{userAction?.user?.email}?</strong>\n            </Text>\n          </ActionConfirmDialog>\n        </>\n      )}\n    </>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { resetUserAction, UserActionType } from '../../../features/usersSlice';\nimport { RootState } from '../../../store';\nimport { MailUserArchiveDialog } from './MailUserArchiveDialog';\nimport { MailUserSetPasswordDialog } from './MailUserSetPasswordDialog';\nimport { MailUserUpdatePrivilege } from './MailUserUpdatePrivilege';\n\nexport const MailUserActions: React.FunctionComponent = () => {\n  const {\n    isUpdatingUser,\n    updateUserError,\n    updateUserResponse,\n    userAction,\n  } = useSelector((state: RootState) => state.users);\n\n  const dispatch = useDispatch();\n\n  const onDialogDismiss = useCallback((): void => {\n    dispatch(resetUserAction());\n  }, [dispatch]);\n\n  // useEffect(() => {\n  //   if (updateUserResponse) {\n  //     dispatch(getUsers());\n  //   }\n  // }, [dispatch, updateUserResponse]);\n  return (\n    <>\n      <MailUserUpdatePrivilege\n        onDialogDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n      <MailUserSetPasswordDialog\n        hidden={userAction?.type !== UserActionType.setPassword}\n        onDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n      <MailUserArchiveDialog\n        hidden={userAction?.type !== UserActionType.archive}\n        onDismiss={onDialogDismiss}\n        userAction={userAction}\n        isUpdatingUser={isUpdatingUser}\n        updateUserError={updateUserError}\n        updateUserResponse={updateUserResponse}\n      />\n    </>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { MailUser, MailUserPrivilege } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setUserAction, UserActionType } from '../../../features/usersSlice';\n\ninterface MailUserActionsListProps {\n  user: MailUser;\n}\n\nexport const MailUserActionsList: React.FunctionComponent<MailUserActionsListProps> = ({\n  user,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: UserActionType): void => {\n      dispatch(\n        setUserAction({\n          user,\n          type,\n        })\n      );\n    },\n    [dispatch, user]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          user.privileges.includes(MailUserPrivilege.Admin)\n            ? {\n                key: 'removeadmin',\n                text: 'Remove Admin Privilege',\n                onClick: (): void =>\n                  doAction(UserActionType.removeAdminPrivilege),\n              }\n            : {\n                key: 'makeadmin',\n                text: 'Make Admin',\n                onClick: (): void => doAction(UserActionType.addAdminPrivilege),\n              },\n          {\n            key: 'setpassword',\n            text: 'Set Password',\n            onClick: (): void => doAction(UserActionType.setPassword),\n          },\n          {\n            key: 'archiveaccount',\n            text: 'Archive Account',\n            onClick: (): void => doAction(UserActionType.archive),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { MailUser, MailUserStatus } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUsersWithGroups } from '../../../features/usersSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { MailUserActions } from './MailUserActions';\nimport { MailUserActionsList } from './MailUserActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Email Address',\n    minWidth: 220,\n    isMultiline: true,\n    isRowHeader: true,\n    fieldName: 'email',\n    onRender: (item: MailUser): React.ReactNode => {\n      const styles =\n        item.status === MailUserStatus.Inactive\n          ? {\n              root: {\n                textDecoration: 'line-through',\n              },\n            }\n          : {};\n      return (\n        <>\n          <Text styles={styles}>{item.email}</Text>\n          {item.status === MailUserStatus.Inactive && item.mailbox ? (\n            <MessageBar\n              messageBarType={MessageBarType.info}\n              isMultiline\n              styles={{ root: { marginTop: 10 } }}\n            >\n              To restore account, create a new account with this email address.\n              Or to permanently delete the mailbox, delete the directory{' '}\n              <code>{item.mailbox}</code> on the machine.\n            </MessageBar>\n          ) : null}\n        </>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: 'Privilege',\n    minWidth: 80,\n    maxWidth: 200,\n    isMultiline: false,\n    onRender: (user: MailUser): React.ReactNode => {\n      return user.status === MailUserStatus.Active ? (\n        <Text>\n          {user.privileges.length ? (\n            <strong>{user.privileges.join(', ')}</strong>\n          ) : (\n            'normal'\n          )}\n        </Text>\n      ) : null;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    minWidth: 50,\n    maxWidth: 60,\n    isMultiline: false,\n    onRender: (user: MailUser): React.ReactNode => {\n      return user.status === MailUserStatus.Active ? (\n        <MailUserActionsList user={user} />\n      ) : null;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface MailUsersListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const MailUsersList: React.FunctionComponent<\n  IStackProps & MailUsersListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [users, groups] = useSelector(selectUsersWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <MailUserActions />\n      <GroupedDetailsList\n        openedGroupsState={openedGroupsState}\n        items={users}\n        groups={groups}\n        columns={columns}\n      />\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  PivotLinkSize,\n  ScreenWidthMinLarge,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getUsers } from '../../../../../features/usersSlice';\nimport { RootState } from '../../../../../store';\nimport { LoadingOverlay } from '../../../../ui/LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../../../../ui/LoadingOverlay/LoadingOverlayContainer';\nimport { MailUserAdd } from '../../../../ui/MailUserAdd/MailUserAdd';\nimport { MailUsersList } from '../../../../ui/MailUsersList/MailUsersList';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nexport const MailUsersSections: React.FunctionComponent = () => {\n  const { isGettingUsers, users, getUsersError } = useSelector(\n    (state: RootState) => state.users\n  );\n  const openedGroupsState = useState<string[]>([]);\n  const { path, url } = useRouteMatch();\n\n  const dispatch = useDispatch();\n\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const pivotProps = {\n    linkSize: isMinLargeScreen ? PivotLinkSize.large : PivotLinkSize.normal,\n  };\n\n  useEffect(() => {\n    if (!users.length) {\n      dispatch(getUsers());\n    }\n  }, [dispatch, users.length]);\n  return (\n    <>\n      <PivotRoutes {...pivotProps}>\n        <PivotItem itemKey={url} headerText=\"Mail Users\" />\n        <PivotItem itemKey={`${url}/add`} headerText=\"Add a Mail User\" />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {getUsersError && (\n              <MessageBar messageBarType={MessageBarType.error} isMultiline>\n                {getUsersError}\n              </MessageBar>\n            )}\n            {isGettingUsers && (\n              <LoadingOverlay\n                loadingLabel=\"Loading users...\"\n                hasLoaded={Boolean(users.length)}\n              />\n            )}\n            {!getUsersError && Boolean(users.length) && (\n              <MailUsersList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          <MailUserAdd />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Stack } from '@fluentui/react';\nimport React from 'react';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MailUsersSections } from './MailUsersSections';\n\nexport const MailUsersRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Mail',\n              key: 'system',\n            },\n            {\n              text: 'Users',\n              key: 'users',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <MailUsersSections />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nMailUsersRoute.path = '/mail/users';\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  getTheme,\n  IColumn,\n  Link,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\nconst theme = getTheme();\n\ninterface SyncBrowserItem {\n  option: string;\n  value: string;\n}\n\nconst items: Array<SyncBrowserItem> = [\n  {\n    option: 'Contacts',\n    value: `https://${config.hostname}/cloud/contacts`,\n  },\n  {\n    option: 'Calendar',\n    value: `https://${config.hostname}/cloud/calendar`,\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 80,\n    isRowHeader: true,\n    isMultiline: true,\n    onRender: (item: SyncBrowserItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    onRender: (item: SyncBrowserItem): React.ReactNode => {\n      return (\n        <Text>\n          <Link href={item.value}>{item.value}</Link>\n        </Text>\n      );\n    },\n  },\n];\n\nexport const SyncListBrowser: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: '-' + theme.spacing.m,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  getTheme,\n  IColumn,\n  Link,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\n\nconst theme = getTheme();\n\ninterface SyncListItem {\n  option: string;\n  value: React.ReactNode;\n}\n\nconst items: Array<SyncListItem> = [\n  {\n    option: 'Contacts and Calendar',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=at.bitfire.davdroid\">\n          DAVdroid\n        </Link>{' '}\n        ($3.69; free{' '}\n        <Link href=\"https://f-droid.org/packages/at.bitfire.davdroid/\">\n          here\n        </Link>\n        )\n      </Text>\n    ),\n  },\n  {\n    option: 'Only Contacts',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=org.dmfs.carddav.sync\">\n          CardDAV-Sync free beta\n        </Link>{' '}\n        (free)\n      </Text>\n    ),\n  },\n  {\n    option: 'Only Calendar',\n    value: (\n      <Text>\n        <Link href=\"https://play.google.com/store/apps/details?id=org.dmfs.caldav.lib\">\n          CalDAV-Sync\n        </Link>{' '}\n        ($2.89)\n      </Text>\n    ),\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 180,\n    isRowHeader: true,\n    isMultiline: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    fieldName: 'value',\n  },\n];\n\nexport const SyncListMobile: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      styles={{\n        root: {\n          marginTop: '-' + theme.spacing.m,\n        },\n      }}\n      compact\n      items={items}\n      columns={columns}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  SelectionMode,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../config';\n\ninterface SyncListItem {\n  option: string;\n  value: string;\n}\n\nconst items: Array<SyncListItem> = [\n  {\n    option: 'Account Type',\n    value: 'CardDAV or CalDAV',\n  },\n  {\n    option: 'Server Name',\n    value: config.hostname,\n  },\n  {\n    option: 'Use SSL',\n    value: 'Yes',\n  },\n  {\n    option: 'Username',\n    value: 'Your complete email address',\n  },\n  {\n    option: 'Password',\n    value: 'Your mail password',\n  },\n];\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'For...',\n    minWidth: 50,\n    maxWidth: 180,\n    isRowHeader: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return (\n        <Text>\n          <strong>{item.option}</strong>\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '\tVisit this URL',\n    minWidth: 100,\n    isRowHeader: false,\n    isMultiline: true,\n    onRender: (item: SyncListItem): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n];\n\nexport const SyncListMobileSettings: React.FunctionComponent = () => {\n  return (\n    <DetailsList\n      compact\n      items={items}\n      columns={columns}\n      isHeaderVisible={false}\n      layoutMode={DetailsListLayoutMode.justified}\n      onShouldVirtualize={(): boolean => false}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  Link,\n  mergeStyles,\n  ScreenWidthMinXLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { BodyPanel } from '../BodyPanel/BodyPanel';\nimport { SyncListBrowser } from '../SyncListBrowser/SyncListBrowser';\nimport { SyncListMobile } from '../SyncListMobile/SyncListMobile';\nimport { SyncListMobileSettings } from '../SyncListMobile/SyncListMobileSettings';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n  minWidth: 0,\n});\n\nexport const SyncGuide: React.FunctionComponent = () => {\n  const isMinXLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinXLarge,\n  });\n  return (\n    <Stack horizontal={isMinXLargeScreen} gap=\"l1\">\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            In your browser\n          </Text>\n          <Text block>\n            You can edit your contacts and calendar from your web browser.\n          </Text>\n          <SyncListBrowser />\n          <Text>\n            Log in settings are the same as with <Link href=\"#\">mail</Link>:\n            your complete email address and your mail password.\n          </Text>\n        </BodyPanel>\n      </Stack>\n      <Stack grow={1} className={columnClassName}>\n        <BodyPanel>\n          <Text block variant=\"large\">\n            On your mobile device\n          </Text>\n          <Text>\n            If you set up your <Link href=\"#\">mail</Link> using\n            Exchange/ActiveSync, your contacts and calendar may already appear\n            on your device.\n          </Text>\n          <Text>\n            Otherwise, here are some apps that can synchronize your contacts and\n            calendar to your Android phone.\n          </Text>\n          <SyncListMobile />\n          <Text>Use the following settings:</Text>\n          <SyncListMobileSettings />\n        </BodyPanel>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  DefaultButton,\n  ScreenWidthMinXLarge,\n  Stack,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { Body } from '../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { SyncGuide } from '../../../ui/SyncGuide/SyncGuide';\n\nexport const SyncGuideRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const tooltipId = useId('tooltip');\n  const isMinXLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinXLarge,\n  });\n  return (\n    <Body>\n      <Stack\n        horizontal={isMinXLargeScreen}\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n      >\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Contacts & Calendar Synchronization',\n              key: 'syncguide',\n              as: 'h1',\n            },\n          ]}\n        />\n        <TooltipHost\n          content=\"Download instructions in PDF format which you can use to send to users of this box.\"\n          id={tooltipId}\n        >\n          <DefaultButton iconProps={{ iconName: 'Download' }}>\n            Download Sync Guide\n          </DefaultButton>\n        </TooltipHost>\n      </Stack>\n      <SyncGuide />\n    </Body>\n  );\n};\n\nSyncGuideRoute.path = '/sync-guide';\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n  SystemBackupStatusResponse,\n} from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemBackupsState {\n  isGettingStatus: boolean;\n  isGettingConfig: boolean;\n  isUpdatingConfig: boolean;\n  status: SystemBackupStatusResponse;\n  config: SystemBackupConfigResponse;\n  updateConfigResponse: string | null;\n  getStatusError: string | null;\n  getConfigError: string | null;\n  updateConfigError: string | null;\n}\n\nconst initialState: SystemBackupsState = {\n  isGettingStatus: false,\n  isGettingConfig: false,\n  isUpdatingConfig: false,\n  status: {\n    backups: [],\n    unmatchedFileSize: 0,\n  },\n  config: {\n    encPwFile: '',\n    fileTargetDirectory: '',\n    minAgeInDays: 1,\n    sshPubKey: '',\n    target: '',\n  },\n  updateConfigResponse: null,\n  getStatusError: null,\n  getConfigError: null,\n  updateConfigError: null,\n};\n\nconst systemBackups = createSlice({\n  name: 'backups',\n  initialState,\n  reducers: {\n    getStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.status = action.payload;\n    },\n    getStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n    getConfigStart: (state): void => {\n      state.getConfigError = null;\n      state.isGettingConfig = true;\n    },\n    getConfigSuccess: (state, action): void => {\n      state.isGettingConfig = false;\n      state.config = action.payload;\n    },\n    getConfigError: (state, action): void => {\n      state.getConfigError = action.payload;\n      state.isGettingConfig = false;\n    },\n    updateConfigStart: (state): void => {\n      state.updateConfigError = null;\n      state.isUpdatingConfig = true;\n    },\n    updateConfigSuccess: (state, action): void => {\n      state.isUpdatingConfig = false;\n      state.updateConfigResponse = action.payload;\n    },\n    updateConfigError: (state, action): void => {\n      state.updateConfigError = action.payload;\n      state.isUpdatingConfig = false;\n    },\n    updateConfigResetError: (state): void => {\n      state.updateConfigError = null;\n    },\n    updateConfigReset: (state): void => {\n      state.updateConfigError = null;\n      state.isUpdatingConfig = false;\n      state.updateConfigResponse = null;\n    },\n  },\n});\n\nexport const {\n  getStatusSuccess,\n  getStatusStart,\n  getStatusError,\n  getConfigStart,\n  getConfigSuccess,\n  getConfigError,\n  updateConfigStart,\n  updateConfigSuccess,\n  updateConfigError,\n  updateConfigResetError,\n  updateConfigReset,\n} = systemBackups.actions;\n\nexport const { reducer: systemBackupsReducer } = systemBackups;\n\nexport const getStatus = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getStatusStart());\n  try {\n    const result = await systemApi.getSystemBackupStatus();\n    dispatch(getStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getStatusError);\n  }\n};\n\nexport const getConfig = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getConfigStart());\n  try {\n    const result = await systemApi.getSystemBackupConfig();\n    dispatch(getConfigSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getConfigError);\n  }\n};\n\nexport const updateConfig = (\n  config: SystemBackupConfigUpdateRequest\n): ThunkAction<void, RootState, unknown, Action<string>> => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updateConfigStart());\n  try {\n    const result = await systemApi.updateSystemBackupConfig(config);\n    dispatch(updateConfigSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateConfigError);\n  }\n};\n","import {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n} from 'mailinabox-api';\n\nexport interface BackupConfigureProps {\n  backupConfig: SystemBackupConfigResponse;\n  isCurrentType: boolean;\n  daysDescription: string;\n  onConfigChange: (config: SystemBackupConfigUpdateRequest) => void;\n}\n\nexport enum BackupType {\n  off = 'off',\n  local = 'local',\n  rsync = 'rsync',\n  s3 = 's3',\n}\n","import { TextField } from '@fluentui/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps, BackupType } from '../types';\n\nexport const BackupConfigureLocal: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n  const onDaysChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setDays(newValue);\n    },\n    []\n  );\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: BackupType.local,\n      targetUser: '',\n      targetPass: '',\n      minAge: Number(days) || 1,\n    });\n  }, [days, onConfigChange]);\n\n  return (\n    <TextField\n      value={days}\n      label=\"Days\"\n      min={1}\n      step={1}\n      type=\"number\"\n      required\n      onRenderLabel={onDaysRenderLabel}\n      styles={textfieldWithLabelInfoStyles}\n      onChange={onDaysChange}\n    />\n  );\n};\n","import { MessageBarType, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoLocalProps {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoLocal: React.FunctionComponent<BackupInfoLocalProps> = ({\n  config,\n}) => {\n  return (\n    <>\n      <Text>\n        Backups are stored on this machines own hard disk. You are responsible\n        for periodically using SFTP (FTP over SSH) to copy the backup files from\n        <code>{config.fileTargetDirectory}</code> to a safe location. These\n        files are encrypted, so they are safe to store anywhere.\n      </Text>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        Separately copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files.\n      </MessageBar>\n    </>\n  );\n};\n","import { TextField } from '@fluentui/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { config } from '../../../../config';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps } from '../types';\n\nexport const BackupConfigureRsync: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  isCurrentType,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const targetPath = isCurrentType\n    ? backupConfig.target.substring(8).split('//')\n    : [];\n  const targetHostParts = isCurrentType\n    ? targetPath.shift()?.split('@') || []\n    : [];\n  const initialUsername = isCurrentType ? targetHostParts[0] : '';\n  const initialHostName = isCurrentType ? targetHostParts[1] : '';\n  const initialPath = isCurrentType ? `/${targetPath[0]}` : '';\n\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n  const [hostname, setHostname] = useState<string | undefined>(initialHostName);\n  const [path, setPath] = useState<string | undefined>(initialPath);\n  const [username, setUsername] = useState<string | undefined>(initialUsername);\n\n  const onDaysChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setDays(newValue);\n    },\n    []\n  );\n\n  const onHostnameChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setHostname(newValue);\n    },\n    []\n  );\n\n  const onPathChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setPath(newValue);\n    },\n    []\n  );\n  const onUsernameChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n      newValue?: string | undefined\n    ): void => {\n      setUsername(newValue);\n    },\n    []\n  );\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  const onSSHKeyRenderLabel = useMemo(\n    () =>\n      onRenderTextFieldLabel(\n        <>\n          Copy the Public SSH Key above, and paste it within the{' '}\n          <code>~/.ssh/authorized_keys</code> of target user on the backup\n          server specified above. That way you'll enable secure and passwordless\n          authentication from your mail-in-a-box server and your backup server.\n        </>\n      ),\n    []\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: `rsync://${username}@${hostname}/${path}`,\n      targetUser: '',\n      targetPass: '',\n      minAge: Number(days) || 1,\n    });\n  }, [days, hostname, onConfigChange, path, username]);\n\n  return (\n    <>\n      <TextField\n        value={hostname}\n        label=\"Hostname\"\n        required\n        placeholder=\"hostname.local\"\n        onChange={onHostnameChange}\n      />\n      <TextField\n        value={path}\n        label=\"Path\"\n        required\n        placeholder={`/backups/${config.hostname}`}\n        onChange={onPathChange}\n      />\n      <TextField\n        value={username}\n        label=\"Username\"\n        required\n        onChange={onUsernameChange}\n      />\n      <TextField\n        value={backupConfig.sshPubKey}\n        label=\"Public SSH Key\"\n        required\n        readOnly\n        onRenderLabel={onSSHKeyRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n      />\n      <TextField\n        value={days}\n        label=\"Days\"\n        min={1}\n        step={1}\n        type=\"number\"\n        required\n        onRenderLabel={onDaysRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n        onChange={onDaysChange}\n      />\n    </>\n  );\n};\n","import { MessageBarType, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoRsyncProps {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoRsync: React.FunctionComponent<BackupInfoRsyncProps> = ({\n  config,\n}) => {\n  return (\n    <>\n      <Text>\n        Backups synced to a remote machine using rsync over SSH, with local\n        copies in <code>{config.fileTargetDirectory}</code>. These files are\n        encrypted, so they are safe to store anywhere.\n      </Text>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        Separately copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files.\n      </MessageBar>\n    </>\n  );\n};\n","import { Dropdown, IDropdownOption, TextField } from '@fluentui/react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  onRenderTextFieldLabel,\n  textfieldWithLabelInfoStyles,\n} from '../../../ui/TextFieldWithInfo/TextFieldWithInfo';\nimport { BackupConfigureProps } from '../types';\n\nconst s3RegionOptions = [\n  { key: 's3-eu-west-1.amazonaws.com', text: 'eu-west-1' },\n  {\n    key: 's3-ap-southeast-1.amazonaws.com',\n    text: 'ap-southeast-1',\n  },\n  {\n    key: 's3-us-gov-west-1.amazonaws.com',\n    text: 'us-gov-west-1',\n  },\n  {\n    key: 's3.ap-south-1.amazonaws.com',\n    text: 'ap-south-1',\n  },\n  {\n    key: 's3.eu-west-2.amazonaws.com',\n    text: 'eu-west-2',\n  },\n  {\n    key: 's3.ca-central-1.amazonaws.com',\n    text: 'ca-central-1',\n  },\n  {\n    key: 's3-ap-southeast-2.amazonaws.com',\n    text: 'ap-southeast-2',\n  },\n  {\n    key: 's3-us-west-1.amazonaws.com',\n    text: 'us-west-1',\n  },\n  {\n    key: 's3-ap-northeast-1.amazonaws.com',\n    text: 'ap-northeast-1',\n  },\n  {\n    key: 's3.ap-northeast-2.amazonaws.com',\n    text: 'ap-northeast-2',\n  },\n  {\n    key: 's3-sa-east-1.amazonaws.com',\n    text: 'sa-east-1',\n  },\n  {\n    key: 's3.amazonaws.com',\n    text: 'us-east-1',\n  },\n  {\n    key: 's3.us-east-2.amazonaws.com',\n    text: 'us-east-2',\n  },\n  {\n    key: 's3-us-west-2.amazonaws.com',\n    text: 'us-west-2',\n  },\n  {\n    key: 's3.eu-central-1.amazonaws.com',\n    text: 'eu-central-1',\n  },\n  {\n    key: 's3.cn-north-1.amazonaws.com.cn',\n    text: 'cn-north-1',\n  },\n  {\n    key: 'other',\n    text: 'Other',\n  },\n];\n\nexport const BackupConfigureS3: React.FunctionComponent<BackupConfigureProps> = ({\n  backupConfig,\n  isCurrentType,\n  daysDescription,\n  onConfigChange,\n}) => {\n  const initialS3HostPath = isCurrentType\n    ? backupConfig.target.substring(5).split('/')\n    : [];\n  const initialS3Host = isCurrentType ? initialS3HostPath.shift() : '';\n  const initialRegion = s3RegionOptions.find(\n    (regionOption) => regionOption.key === initialS3Host\n  );\n\n  const [host, setHost] = useState<string>(\n    (initialRegion?.key === 'other' ? '' : initialRegion?.key) || ''\n  );\n\n  const [region, setRegion] = useState<IDropdownOption | undefined>(\n    initialRegion\n  );\n  const [days, setDays] = useState<string | undefined>(\n    String(backupConfig.minAgeInDays)\n  );\n  const [path, setPath] = useState<string | undefined>(\n    initialS3HostPath.join('/')\n  );\n  const [accessKey, setAccessKey] = useState<string | undefined>();\n  const [secretAccessKey, setSecretAccessKey] = useState<string | undefined>();\n\n  const onRegionChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      setRegion(option);\n      setHost(((option?.key === 'other' ? '' : option?.key) || '') as string);\n    },\n    []\n  );\n\n  const onPathChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPath(newValue ?? '');\n    },\n    []\n  );\n\n  const onAccessKeyChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setAccessKey(newValue ?? '');\n    },\n    []\n  );\n\n  const onSecretAccessKeyChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setSecretAccessKey(newValue ?? '');\n    },\n    []\n  );\n\n  const onDaysChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setDays(newValue ?? '');\n    },\n    []\n  );\n\n  const onHostChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setHost(newValue ?? '');\n    },\n    []\n  );\n\n  const onDaysRenderLabel = useMemo(\n    () => onRenderTextFieldLabel(daysDescription),\n    [daysDescription]\n  );\n\n  useEffect(() => {\n    onConfigChange({\n      target: `s3://${host}/${path}`,\n      targetUser: accessKey || '',\n      targetPass: secretAccessKey || '',\n      minAge: Number(days) || 1,\n    });\n  }, [accessKey, days, host, onConfigChange, path, secretAccessKey]);\n\n  return (\n    <>\n      <Dropdown\n        label=\"S3 Region\"\n        options={s3RegionOptions}\n        selectedKey={region?.key}\n        required\n        onChange={onRegionChange}\n      />\n      <TextField\n        label=\"S3 Host / Endpoint\"\n        required\n        value={host}\n        onChange={onHostChange}\n        placeholder=\"Endpoint\"\n      />\n      <TextField\n        label=\"S3 Path\"\n        required\n        value={path}\n        placeholder=\"your-bucket-name/backup-directory\"\n        onChange={onPathChange}\n      />\n      <TextField\n        label=\"S3 Access Key\"\n        required\n        value={accessKey}\n        onChange={onAccessKeyChange}\n      />\n      <TextField\n        label=\"S3 Secret Access Key\"\n        required\n        value={secretAccessKey}\n        onChange={onSecretAccessKeyChange}\n      />\n      <TextField\n        value={days}\n        label=\"Days\"\n        min={1}\n        step={1}\n        type=\"number\"\n        required\n        onRenderLabel={onDaysRenderLabel}\n        styles={textfieldWithLabelInfoStyles}\n        onChange={onDaysChange}\n      />\n    </>\n  );\n};\n","import { MessageBarType, Text } from '@fluentui/react';\nimport { SystemBackupConfigResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../../MessageBar/MessageBar';\n\ninterface BackupInfoS3Props {\n  config: SystemBackupConfigResponse;\n}\n\nexport const BackupInfoS3: React.FunctionComponent<BackupInfoS3Props> = ({\n  config,\n}) => {\n  return (\n    <>\n      <Text>\n        Backups are stored in an Amazon Web Services S3 bucket. You must have an\n        AWS account already.\n      </Text>\n      <MessageBar messageBarType={MessageBarType.warning}>\n        You MUST manually copy the encryption password from{' '}\n        <code>{config.encPwFile}</code> to a safe and secure location. You will\n        need this file to decrypt backup files. It is NOT stored in your Amazon\n        S3 bucket.\n      </MessageBar>\n    </>\n  );\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  Dropdown,\n  IDropdownOption,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n} from '@fluentui/react';\nimport {\n  SystemBackupConfigResponse,\n  SystemBackupConfigUpdateRequest,\n  SystemBackupStatusResponse,\n} from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { config } from '../../../config';\nimport {\n  getStatus,\n  updateConfig,\n  updateConfigReset,\n  updateConfigResetError,\n} from '../../../features/system/backupsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { BackupConfigureLocal } from './local/BackupConfigureLocal';\nimport { BackupInfoLocal } from './local/BackupInfoLocal';\nimport { BackupConfigureRsync } from './rsync/BackupConfigureRsync';\nimport { BackupInfoRsync } from './rsync/BackupInfoRsync';\nimport { BackupConfigureS3 } from './s3/BackupConfigureS3';\nimport { BackupInfoS3 } from './s3/BackupInfoS3';\nimport { BackupType } from './types';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst backupOptions: IDropdownOption[] = [\n  {\n    key: BackupType.off,\n    text: 'Nowhere (Disable Backups)',\n  },\n  {\n    key: BackupType.local,\n    text: config.hostname,\n  },\n  {\n    key: BackupType.rsync,\n    text: 'rsync',\n  },\n  {\n    key: BackupType.s3,\n    text: 'Amazon S3',\n  },\n];\n\nconst daysDescription =\n  'This is the minimum number of days backup data is kept for. The box makes an incremental backup, so backup data is often kept much longer. An incremental backup file that is less than this number of days old requires that all previous increments back to the most recent full backup, plus that full backup, remain available.';\n\nfunction getBackupType(\n  config: SystemBackupConfigResponse\n): BackupType | undefined {\n  if (config.target === 'file://' + config.fileTargetDirectory) {\n    return BackupType.local;\n  } else if (config.target === 'off') {\n    return BackupType.off;\n  } else if (config.target.substring(0, 8) === 'rsync://') {\n    return BackupType.rsync;\n  } else if (config.target.substring(0, 5) === 's3://') {\n    return BackupType.s3;\n  }\n}\n\nexport const BackupConfigure: React.FunctionComponent<\n  IStackProps & SystemBackupStatusResponse\n> = ({ backups, unmatchedFileSize, ...props }) => {\n  const {\n    updateConfigError,\n    updateConfigResponse,\n    isUpdatingConfig,\n    config: backupConfig,\n  } = useSelector((state: RootState) => state.system.backups);\n\n  const dispatch = useDispatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const backupType = getBackupType(backupConfig);\n  const selectedBackupOption = backupOptions.find(\n    (option) => option.key === backupType\n  );\n  const [backupOption, setBackupOption] = useState<IDropdownOption | undefined>(\n    selectedBackupOption\n  );\n  const [updateBackupConfig, setUpdateBackupConfig] = useState<\n    SystemBackupConfigUpdateRequest | undefined\n  >();\n\n  const onDialogDismissed = useCallback((): void => {\n    if (updateConfigResponse === 'OK') {\n      dispatch(getStatus());\n    }\n    dispatch(updateConfigReset());\n  }, [dispatch, updateConfigResponse]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onBackupOptionChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      setBackupOption(option);\n    },\n    []\n  );\n\n  const onBackupConfigChange = useCallback(\n    (config: SystemBackupConfigUpdateRequest): void => {\n      setUpdateBackupConfig(config);\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      if (updateBackupConfig) {\n        dispatch(updateConfig(updateBackupConfig));\n      }\n    },\n    [dispatch, updateBackupConfig]\n  );\n\n  const onMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(updateConfigResetError());\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (updateConfigResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [updateConfigResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(updateConfigReset());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (backupOption?.key === BackupType.off) {\n      setUpdateBackupConfig({\n        target: BackupType.off,\n        targetUser: '',\n        targetPass: '',\n        minAge: backupConfig.minAgeInDays || 1,\n      });\n    }\n  }, [backupConfig.minAgeInDays, backupOption]);\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Backup configuration',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        {updateConfigResponse}\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Dropdown\n          label=\"Backup to\"\n          options={backupOptions}\n          selectedKey={backupOption?.key}\n          required\n          onChange={onBackupOptionChange}\n        />\n        {backupOption?.key === BackupType.local && (\n          <BackupInfoLocal config={backupConfig} />\n        )}\n        {backupOption?.key === BackupType.rsync && (\n          <BackupInfoRsync config={backupConfig} />\n        )}\n        {backupOption?.key === BackupType.s3 && (\n          <BackupInfoS3 config={backupConfig} />\n        )}\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={1}\n        className={columnClassName}\n        verticalAlign={backupOption?.key === BackupType.off ? 'end' : 'start'}\n        as=\"form\"\n        onSubmit={onFormSubmit}\n      >\n        {updateConfigError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            onDismiss={onMessageBarDismiss}\n          >\n            {updateConfigError}\n          </MessageBar>\n        )}\n        {backupOption?.key === BackupType.local && (\n          <BackupConfigureLocal\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.local}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        {backupOption?.key === BackupType.rsync && (\n          <BackupConfigureRsync\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.rsync}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        {backupOption?.key === BackupType.s3 && (\n          <BackupConfigureS3\n            backupConfig={backupConfig}\n            isCurrentType={backupType === BackupType.s3}\n            daysDescription={daysDescription}\n            onConfigChange={onBackupConfigChange}\n          />\n        )}\n        <Stack horizontal>\n          <PrimaryButton type=\"submit\" disabled={isUpdatingConfig}>\n            Save\n          </PrimaryButton>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  SelectionMode,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { SystemBackupStatus, SystemBackupStatusResponse } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nfunction niceSize(bytes: number): string {\n  const powers = ['bytes', 'KB', 'MB', 'GB', 'TB'];\n  while (true) {\n    if (powers.length === 1) {\n      break;\n    }\n    if (bytes < 1000) {\n      break;\n    }\n    bytes /= 1024;\n    powers.shift();\n  }\n  // round to have three significant figures but at most one decimal place\n  if (bytes >= 100) {\n    bytes = Math.round(bytes);\n  } else {\n    bytes = Math.round(bytes * 10) / 10;\n  }\n  return bytes + ' ' + powers[0];\n}\n\nfunction getTotalBackupsSize(\n  items: Array<SystemBackupStatus>,\n  unmatchedFileSize: number\n): string {\n  const totalSize =\n    items.reduce((total, item) => total + item.size, 0) + unmatchedFileSize;\n  return niceSize(totalSize);\n}\n\nconst strongCellClassName = mergeStyles({\n  fontWeight: 'bold',\n});\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'When',\n    minWidth: 100,\n    maxWidth: 180,\n    isMultiline: false,\n    isRowHeader: true,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.dateStr}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column2',\n    name: '',\n    minWidth: 100,\n    isMultiline: false,\n    isRowHeader: true,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.dateDelta} ago\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Type',\n    isMultiline: false,\n    minWidth: 100,\n    fieldName: 'text',\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.full ? 'full' : 'increment'}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Size',\n    isMultiline: false,\n    minWidth: 100,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {niceSize(item.size)}\n        </Text>\n      );\n    },\n  },\n  {\n    key: 'column5',\n    name: 'Deleted In',\n    isMultiline: false,\n    minWidth: 160,\n    onRender: (item: SystemBackupStatus): React.ReactNode => {\n      return (\n        <Text className={item.full ? strongCellClassName : undefined}>\n          {item.deletedIn ?? 'unknown'}\n        </Text>\n      );\n    },\n  },\n];\n\nexport const BackupsList: React.FunctionComponent<\n  IStackProps & SystemBackupStatusResponse\n> = ({ backups = [], unmatchedFileSize, ...props }) => {\n  return (\n    <Stack as=\"section\" {...props}>\n      {!backups.length && (\n        <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n          No backups have been made yet.\n        </MessageBar>\n      )}\n      {backups.length && (\n        <>\n          <MessageBar>\n            The backup location currently contains the backups listed below. The\n            total size of the backups is currently{' '}\n            <strong>{getTotalBackupsSize(backups, unmatchedFileSize)}</strong>.\n          </MessageBar>\n          <DetailsList\n            items={backups}\n            columns={columns}\n            layoutMode={DetailsListLayoutMode.justified}\n            isHeaderVisible\n            onShouldVirtualize={(): boolean => false}\n            selectionMode={SelectionMode.none}\n            constrainMode={ConstrainMode.horizontalConstrained}\n          />\n        </>\n      )}\n    </Stack>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  MessageBarType,\n  PivotItem,\n  PrimaryButton,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport {\n  getConfig,\n  getStatus,\n} from '../../../../../features/system/backupsSlice';\nimport { RootState } from '../../../../../store';\nimport { BackupConfigure } from '../../../../ui/BackupConfigure/BackupConfigure';\nimport { BackupsList } from '../../../../ui/BackupsList/BackupsList';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { MessageBar } from '../../../../ui/MessageBar/MessageBar';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst BackupSections: React.FunctionComponent = () => {\n  const { status } = useSelector((state: RootState) => state.system.backups);\n  const { path, url } = useRouteMatch();\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const { backups, unmatchedFileSize, error } = status;\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  useEffect(() => {\n    if (error) {\n      setIsDialogHidden(false);\n    }\n  }, [error]);\n\n  return (\n    <>\n      {/*\n      TODO: when the dialog is shown it creates a whitespace gap due to the stacking and due\n      to the dialog rendering a layer element\n      */}\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Backup error',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n      >\n        {error}\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"Backup Status\" />\n        <PivotItem\n          itemKey={`${url}/config`}\n          headerText=\"Backup Configuration\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          {backups && backups.length > 0 && (\n            <BackupsList\n              backups={backups}\n              unmatchedFileSize={unmatchedFileSize}\n            />\n          )}\n          {!backups && (\n            <MessageBar messageBarType={MessageBarType.warning}>\n              Backups are turned off.\n            </MessageBar>\n          )}\n          {backups && !backups.length && (\n            <MessageBar messageBarType={MessageBarType.warning}>\n              No backups have been made yet.\n            </MessageBar>\n          )}\n        </Route>\n        <Route exact path={`${path}/config`}>\n          <BackupConfigure\n            backups={backups}\n            unmatchedFileSize={unmatchedFileSize}\n          />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const BackupsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const {\n    isGettingStatus,\n    isGettingConfig,\n    getStatusError,\n    getConfigError,\n  } = useSelector((state: RootState) => state.system.backups);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getStatus());\n    dispatch(getConfig());\n  }, [dispatch]);\n\n  const isLoading = isGettingStatus || isGettingConfig;\n  const error = getStatusError || getConfigError;\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Backup Status',\n              key: 'backupstatus',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <BodyPanel>\n        <Text>\n          The box makes an incremental backup each night. By default the backup\n          is stored on the machine itself, but you can also have it stored on\n          Amazon S3.\n        </Text>\n      </BodyPanel>\n      <BodyPanel>\n        {error && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {error}\n          </MessageBar>\n        )}\n        {isLoading && <ProgressIndicator label=\"Checking backup status...\" />}\n        {!isLoading && !error && <BackupSections />}\n      </BodyPanel>\n    </Body>\n  );\n};\n\nBackupsRoute.path = '/system/backup';\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { SSLStatus, SSLStatusType } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setSSLAction, SSLActionType } from '../../../features/sslSlice';\n\ninterface CertificateActionsListProps {\n  sslStatus: SSLStatus;\n}\n\nexport const CertificateActionsList: React.FunctionComponent<CertificateActionsListProps> = ({\n  sslStatus,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: SSLActionType): void => {\n      dispatch(\n        setSSLAction({\n          sslStatus,\n          type,\n        })\n      );\n    },\n    [dispatch, sslStatus]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'installCertificate' + sslStatus.domain,\n            text: `${\n              sslStatus.status === SSLStatusType.Success ? 'Replace' : 'Install'\n            } Certificate`,\n            onClick: (): void => doAction(SSLActionType.install),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  DetailsRow,\n  getTheme,\n  IColumn,\n  IDetailsRowProps,\n  IStackProps,\n  Link,\n  mergeStyles,\n  SelectionMode,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { SSLStatus, SSLStatusType } from 'mailinabox-api';\nimport React from 'react';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { CertificateActionsList } from './CertificateActionsList';\n\nconst theme = getTheme();\n\nfunction getTextColor(status: SSLStatusType): string {\n  switch (status) {\n    case SSLStatusType.Success:\n      return theme.palette.greenDark;\n    case SSLStatusType.Danger:\n      return theme.palette.redDark;\n    case SSLStatusType.NotApplicable:\n    default:\n      return theme.semanticColors.bodyText;\n  }\n}\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Domain',\n    minWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    isResizable: true,\n    fieldName: 'domain',\n    onRender: (item: SSLStatus): React.ReactElement => {\n      return <Link href={`https://${item.domain}`}>{item.domain}</Link>;\n    },\n  },\n  {\n    key: 'column2',\n    name: 'Certificate Status',\n    isMultiline: true,\n    isRowHeader: true,\n    minWidth: 300,\n    fieldName: 'text',\n    onRender: (item: SSLStatus): React.ReactNode => {\n      const textColor = getTextColor(item.status);\n      return <Text styles={{ root: { color: textColor } }}>{item.text}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (sslStatus: SSLStatus): React.ReactNode => {\n      return sslStatus.status === SSLStatusType.NotApplicable ? null : (\n        <CertificateActionsList sslStatus={sslStatus} />\n      );\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\nexport const CertificatesList: React.FunctionComponent<\n  IStackProps & {\n    items: Array<SSLStatus>;\n  }\n> = ({ items, ...props }) => {\n  return (\n    <Stack as=\"section\" {...props}>\n      <MessageBar>\n        Certificates expire after a period of time. All certificates will be\n        automatically renewed through\n        <Link href=\"https://letsencrypt.org/\">Let's Encrypt</Link> 14 days prior\n        to expiration.\n      </MessageBar>\n      <DetailsList\n        items={items}\n        columns={columns}\n        layoutMode={DetailsListLayoutMode.justified}\n        isHeaderVisible\n        selectionMode={SelectionMode.none}\n        constrainMode={ConstrainMode.horizontalConstrained}\n        useReducedRowRenderer\n        onRenderRow={(props?: IDetailsRowProps): JSX.Element | null => {\n          if (props) {\n            return (\n              <DetailsRow\n                {...props}\n                styles={{\n                  root: {\n                    animation: 'none',\n                  },\n                }}\n              />\n            );\n          }\n          return null;\n        }}\n      />\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  PivotLinkSize,\n  ProgressIndicator,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { config } from '../../../../../config';\nimport {\n  getSSLStatus,\n  resetSSLAction,\n  SSLActionType,\n} from '../../../../../features/sslSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { CertificatesList } from '../../../../ui/CertificatesList/CertificatesList';\nimport { InstallCertificate } from '../../../../ui/InstallCertificate/InstallCertificate';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nenum SectionKeys {\n  status = '',\n  install = '/install',\n}\n\nconst CertificateSections: React.FunctionComponent = () => {\n  const { sslStatus, sslAction } = useSelector((state: RootState) => state.ssl);\n  const { status: items } = sslStatus;\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { path, url } = useRouteMatch();\n\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  const pivotProps = {\n    linkSize: isMinLargeScreen ? PivotLinkSize.large : PivotLinkSize.normal,\n  };\n\n  useEffect(() => {\n    if (sslAction?.type === SSLActionType.install) {\n      history.push(`${url}${SectionKeys.install}`);\n    }\n  }, [history, sslAction, url]);\n\n  useEffect(() => {\n    if (location.pathname === url) {\n      dispatch(resetSSLAction());\n    }\n  }, [dispatch, location.pathname, url]);\n\n  return (\n    <>\n      <PivotRoutes {...pivotProps}>\n        <PivotItem itemKey={url} headerText=\"Certificate Status\" />\n        <PivotItem\n          itemKey={`${url}${SectionKeys.install}`}\n          headerText=\"Install Custom Certificate\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <CertificatesList items={items} />\n        </Route>\n        <Route exact path={`${path}${SectionKeys.install}`}>\n          <InstallCertificate items={items} />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const CertificatesRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingStatus, getStatusError, sslStatus } = useSelector(\n    (state: RootState) => state.ssl\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!sslStatus.status.length) {\n      dispatch(getSSLStatus());\n    }\n  }, [dispatch, sslStatus.status.length]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'TLS (SSL) Certificates',\n              key: 'certificates',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <BodyPanel>\n          <Text>\n            A TLS (formerly called SSL) certificate is a cryptographic file that\n            proves to anyone connecting to a web address that the connection is\n            secure between you and the owner of that address.\n          </Text>\n          <Text>\n            You need a TLS certificate for this boxs hostname (\n            {config.hostname}) (TODO) and every other domain name and subdomain\n            that this box is hosting a website for (see the list below).\n          </Text>\n        </BodyPanel>\n        <BodyPanel>\n          {getStatusError && (\n            <MessageBar messageBarType={MessageBarType.error} isMultiline>\n              {getStatusError}\n            </MessageBar>\n          )}\n          {isGettingStatus && (\n            <ProgressIndicator label=\"Checking certificate status...\" />\n          )}\n          {!isGettingStatus && !getStatusError && <CertificateSections />}\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nCertificatesRoute.path = '/system/ssl';\n","import {\n  Callout,\n  IconButton,\n  IOnRenderComboBoxLabelProps,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\nexport const InstallCertificateComboBoxLabel: React.FunctionComponent<\n  IOnRenderComboBoxLabelProps & {\n    defaultRender: (props?: IOnRenderComboBoxLabelProps) => JSX.Element | null;\n    calloutText: string;\n  }\n> = (props?): JSX.Element => {\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const descriptionId: string = useId('description');\n  const iconButtonId: string = useId('iconButton');\n\n  return (\n    <>\n      <Stack horizontal verticalAlign=\"center\">\n        {props?.defaultRender(props)}\n        <IconButton\n          id={iconButtonId}\n          title=\"Info\"\n          ariaLabel=\"Info\"\n          iconProps={{ iconName: 'Info' }}\n          onClick={toggleIsCalloutVisible}\n        />\n      </Stack>\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          setInitialFocus\n          onDismiss={toggleIsCalloutVisible}\n          ariaDescribedBy={descriptionId}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth: 320,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{props.calloutText}</Text>\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n","import {\n  BaseButton,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IDialogContentProps,\n  IModalProps,\n  MessageBar,\n  MessageBarType,\n  PrimaryButton,\n  ProgressIndicator,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { SSLCertificateInstallRequest } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  generateCSR,\n  getSSLStatus,\n  installCertificate,\n  installCertificateReset,\n} from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { Pre } from '../Pre/Pre';\n\ninterface SSLCertificateInstallProps {\n  domain: string;\n  countryCode: string;\n}\n\nconst dialogContentProps: IDialogContentProps = {\n  type: DialogType.largeHeader,\n  title: 'TLS Certificate Installation',\n};\n\nconst modalProps: IModalProps = {\n  isBlocking: true,\n};\n\nconst defaultInstallCertificateRequest: SSLCertificateInstallRequest = {\n  domain: '',\n  cert: '',\n  chain: '',\n};\n\nconst installOkRegEx = /^OK($|\\n)/;\n\nexport const InstallCertificateWithCSR: React.FunctionComponent<SSLCertificateInstallProps> = ({\n  domain,\n  countryCode,\n}) => {\n  const {\n    isGeneratingCSR,\n    generateCSRError,\n    generateCSRResponse,\n    isInstallingCertificate,\n    installCertificateError,\n    installCertificateResponse,\n  } = useSelector((state: RootState) => state.ssl);\n  const dispatch = useDispatch();\n\n  const [installCertificateRequest, setInstallCertificateRequest] = useState<\n    SSLCertificateInstallRequest\n  >({\n    ...defaultInstallCertificateRequest,\n    domain,\n  });\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onDialogDismissed = useCallback((): void => {\n    const installCertificateSuccess = installOkRegEx.test(\n      installCertificateResponse || ''\n    );\n    if (installCertificateSuccess) {\n      setInstallCertificateRequest({\n        ...defaultInstallCertificateRequest,\n        domain,\n      });\n      dispatch(getSSLStatus());\n    }\n    dispatch(installCertificateReset());\n    setHasDialogOpened(false);\n  }, [dispatch, domain, installCertificateResponse]);\n\n  const onCertChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setInstallCertificateRequest({\n        ...installCertificateRequest,\n        cert: newValue ?? '',\n      });\n    },\n    [installCertificateRequest]\n  );\n\n  const onChainChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setInstallCertificateRequest({\n        ...installCertificateRequest,\n        chain: newValue ?? '',\n      });\n    },\n    [installCertificateRequest]\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(installCertificate(installCertificateRequest));\n    },\n    [dispatch, installCertificateRequest]\n  );\n\n  useEffect(() => {\n    if (installCertificateResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [installCertificateResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    dispatch(generateCSR(domain, countryCode));\n  }, [countryCode, domain, dispatch]);\n\n  const error = generateCSRError || installCertificateError;\n\n  const dialogContent = installOkRegEx.test(installCertificateResponse || '')\n    ? 'Certificate has been installed. Check that you have no connection problems to the domain.'\n    : installCertificateResponse;\n\n  return (\n    <Stack>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={dialogContentProps}\n        modalProps={modalProps}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Text>{dialogContent}</Text>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      {error && (\n        <MessageBar messageBarType={MessageBarType.error} isMultiline>\n          {error}\n        </MessageBar>\n      )}\n      {isGeneratingCSR && <ProgressIndicator label=\"Generating CSR...\" />}\n      {!isGeneratingCSR && generateCSRResponse && (\n        <Stack gap=\"m\" as=\"form\" onSubmit={onFormSubmit}>\n          <Text>\n            You will need to provide the certificate provider this Certificate\n            Signing Request (CSR):\n          </Text>\n          <MessageBar messageBarType={MessageBarType.info} isMultiline>\n            The CSR is safe to share. It can only be used in combination with a\n            secret key stored on this machine.\n          </MessageBar>\n          <Pre>{generateCSRResponse}</Pre>\n          <Text>\n            The certificate provider will then provide you with a TLS/SSL\n            certificate. They may also provide you with an intermediate chain.\n            Paste each separately into the boxes below:\n          </Text>\n          <TextField\n            label=\"TLS/SSL certificate:\"\n            multiline\n            rows={6}\n            placeholder=\"-----BEGIN CERTIFICATE-----&#xA;stuff here&#xA;-----END CERTIFICATE-----\"\n            value={installCertificateRequest.cert}\n            onChange={onCertChange}\n            required\n          />\n          <TextField\n            label=\"TLS/SSL intermediate chain (if provided):\"\n            multiline\n            rows={6}\n            placeholder=\"-----BEGIN CERTIFICATE-----&#xA;stuff here&#xA;-----END CERTIFICATE-----&#xA;-----BEGIN CERTIFICATE-----&#xA;more stuff here&#xA;-----END CERTIFICATE-----\"\n            value={installCertificateRequest.chain}\n            onChange={onChainChange}\n          />\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isInstallingCertificate}>\n              Install Certificate\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      )}\n    </Stack>\n  );\n};\n","import {\n  ComboBox,\n  IComboBox,\n  IComboBoxOption,\n  IOnRenderComboBoxLabelProps,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  Stack,\n  VirtualizedComboBox,\n} from '@fluentui/react';\nimport { getCodeList } from 'country-list';\nimport { SSLStatus } from 'mailinabox-api';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { generateCSRReset } from '../../../features/sslSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { InstallCertificateComboBoxLabel } from './InstallCertificateComboBoxLabel';\nimport { InstallCertificateWithCSR } from './InstallCertificateWithCSR';\n\nconst countries = getCodeList();\n\nconst countriesList = Object.keys(countries)\n  .map((countryCode) => ({\n    key: countryCode.toUpperCase(),\n    text: countries[countryCode],\n  }))\n  .sort((a, b) => a.text.localeCompare(b.text));\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst comboBoxStyles = {\n  label: {\n    selectors: {\n      ':after': {\n        paddingRight: 0,\n      },\n    },\n  },\n};\n\nconst onRenderComboBoxLabel = (calloutText: string) => (\n  props?: IOnRenderComboBoxLabelProps,\n  defaultRender?: (props?: IOnRenderComboBoxLabelProps) => JSX.Element | null\n): React.ReactElement | null =>\n  props && defaultRender ? (\n    <InstallCertificateComboBoxLabel\n      {...props}\n      calloutText={calloutText}\n      defaultRender={defaultRender}\n    />\n  ) : null;\n\nexport const InstallCertificate: React.FunctionComponent<\n  IStackProps & {\n    items: Array<SSLStatus>;\n  }\n> = ({ items, ...props }) => {\n  const { sslAction } = useSelector((state: RootState) => state.ssl);\n  const dispatch = useDispatch();\n  const [selectedDomain, setSelectedDomain] = useState<IComboBoxOption>({\n    key: sslAction?.sslStatus?.domain || '',\n    text: sslAction?.sslStatus?.domain || '',\n  });\n  const [selectedCountry, setSelectedCountry] = useState<IComboBoxOption>();\n\n  const onDomainChange = useCallback(\n    (_event: React.FormEvent<IComboBox>, option?: IComboBoxOption): void => {\n      if (option) {\n        dispatch(generateCSRReset());\n        setSelectedDomain(option);\n      }\n    },\n    [dispatch]\n  );\n  const onCountryChange = useCallback(\n    (_event: React.FormEvent<IComboBox>, option?: IComboBoxOption): void => {\n      dispatch(generateCSRReset());\n      setSelectedCountry(option);\n    },\n    [dispatch]\n  );\n  const onDomainRenderLabel = useMemo(\n    () =>\n      onRenderComboBoxLabel(\n        'A multi-domain or wildcard certificate will be automatically applied to any domains it is valid for besides the one you choose above.'\n      ),\n    []\n  );\n  const onCountryRenderLabel = useMemo(\n    () =>\n      onRenderComboBoxLabel(\n        \"This is required by some TLS certificate providers. You may leave this blank if you know your TLS certificate provider doesn't require it.\"\n      ),\n    []\n  );\n\n  return (\n    <Stack as=\"section\" gap=\"m\" {...props}>\n      <MessageBar messageBarType={MessageBarType.info} isMultiline>\n        If you don't want to use our automatic Let's Encrypt integration, you\n        can give any other certificate provider a try. You can generate the\n        needed CSR below.\n      </MessageBar>\n      <Stack horizontal gap=\"l2\">\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <ComboBox\n            placeholder=\"Select a domain\"\n            label=\"Which domain are you getting a certificate for?\"\n            options={items.map(({ domain }) => ({\n              key: domain,\n              text: domain,\n            }))}\n            required\n            allowFreeform\n            autoComplete=\"on\"\n            selectedKey={selectedDomain?.key}\n            onRenderLabel={onDomainRenderLabel}\n            onChange={onDomainChange}\n            styles={comboBoxStyles}\n          />\n          {selectedDomain?.key && (\n            <VirtualizedComboBox\n              placeholder=\"Select a country\"\n              label=\"What country are you in?\"\n              options={countriesList}\n              onRenderLabel={onCountryRenderLabel}\n              allowFreeform\n              autoComplete=\"on\"\n              selectedKey={selectedCountry?.key}\n              onChange={onCountryChange}\n              styles={comboBoxStyles}\n              dropdownMaxWidth={300}\n              useComboBoxAsMenuWidth\n            />\n          )}\n        </Stack>\n        <Stack gap=\"m\" grow={2} className={columnClassName}>\n          {selectedDomain && selectedCountry && (\n            <InstallCertificateWithCSR\n              domain={selectedDomain.key as string}\n              countryCode={selectedCountry.key as string}\n            />\n          )}\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import { DNSRecordType } from 'mailinabox-api';\n\ntype RecordTypes = {\n  [key in DNSRecordType]: {\n    hint: string;\n    text: string;\n  };\n};\n\nexport const recordTypes: RecordTypes = {\n  [DNSRecordType.A]: {\n    hint:\n      \"Enter an IPv4 address (i.e. a dotted quad, such as 123.456.789.012).  The 'local' alias sets the record to this box's public IPv4 address.\",\n    text: 'A (IPv4 address)',\n  },\n  [DNSRecordType.AAAA]: {\n    hint:\n      \"Enter an IPv6 address.  The 'local' alias sets the record to this box's public IPv6 address.\",\n    text: 'AAAA (IPv6 address)',\n  },\n  [DNSRecordType.CAA]: {\n    hint:\n      'Enter a CA that can issue certificates for this domain in the form of FLAG TAG VALUE. (0 issuewild &quot;letsencrypt.org&quot;)',\n    text: 'CAA (Certificate Authority Authorization)',\n  },\n  [DNSRecordType.CNAME]: {\n    hint:\n      'Enter another domain name followed by a period at the end (e.g. mypage.github.io.).',\n    text: 'CNAME (DNS forwarding)',\n  },\n  [DNSRecordType.TXT]: {\n    hint: 'Enter arbitrary text.',\n    text: 'TXT (text record)',\n  },\n  [DNSRecordType.MX]: {\n    hint:\n      'Enter record in the form of PRIORITY DOMAIN., including trailing period (e.g. 20 mx.example.com.).',\n    text: 'MX (mail exchanger)',\n  },\n  [DNSRecordType.SRV]: {\n    hint:\n      'Enter record in the form of PRIORITY WEIGHT PORT TARGET., including trailing period (e.g. 10 10 5060 sip.example.com.).',\n    text: 'SRV (service record)',\n  },\n  [DNSRecordType.SSHFP]: {\n    hint: 'Enter record in the form of ALGORITHM TYPE FINGERPRINT.',\n    text: 'SSHFP (SSH fingerprint record)',\n  },\n  [DNSRecordType.NS]: {\n    hint: 'Enter a hostname to which this subdomain should be delegated to.',\n    text: 'NS (DNS subdomain delegation)',\n  },\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  Dropdown,\n  IDropdownOption,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport { DNSRecordType } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addCustomRecord,\n  addCustomRecordReset,\n  addCustomRecordResetError,\n  getCustomRecords,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\nimport { recordTypes } from './recordTypes';\n\nconst recordTypeOptions = Object.keys(recordTypes).map((key) => ({\n  key,\n  text: recordTypes[key as DNSRecordType].text,\n}));\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const CustomDnsAdd: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const {\n    isAddingCustomRecord,\n    addCustomRecordResponse,\n    addCustomRecordError,\n    zones,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const zoneOptions = zones.map((zone) => ({\n    key: zone,\n    text: zone,\n  }));\n  const [type, setType] = useState<IDropdownOption>(recordTypeOptions[0]);\n  const [zone, setZone] = useState<IDropdownOption>(zoneOptions[0]);\n  const [name, setName] = useState<string>('');\n  const [value, setValue] = useState<string>('');\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = useCallback((): void => {\n    if (addCustomRecordResponse) {\n      dispatch(getCustomRecords());\n    }\n    dispatch(addCustomRecordReset());\n    setHasDialogOpened(false);\n    setType(recordTypeOptions[0]);\n    setZone(zoneOptions[0]);\n    setName('');\n    setValue('');\n  }, [addCustomRecordResponse, dispatch, zoneOptions]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onTypeChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      if (option) {\n        setType(option);\n      }\n    },\n    []\n  );\n\n  const onZoneChange = useCallback(\n    (\n      _event: React.FormEvent<HTMLDivElement>,\n      option?: IDropdownOption\n    ): void => {\n      if (option) {\n        setZone(option);\n      }\n    },\n    []\n  );\n\n  const onNameChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setName(newValue || '');\n    },\n    []\n  );\n\n  const onValueChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setValue(newValue || '');\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      const qname = name\n        ? `${name}.${zone.key as string}`\n        : (zone.key as string);\n      dispatch(\n        addCustomRecord({\n          qname,\n          rtype: type.key as DNSRecordType,\n          body: value,\n        })\n      );\n    },\n    [dispatch, name, type.key, value, zone.key]\n  );\n\n  const onMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addCustomRecordResetError());\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (addCustomRecordResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addCustomRecordResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addCustomRecordReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <>\n      {/* TODO: dialog creates a gap when shown*/}\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Custom DNS',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addCustomRecordResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n        <Stack gap=\"m\" grow={1} className={columnClassName}>\n          <Text>\n            You can set additional DNS records, such as if you have a website\n            running on another server, to add DKIM records for external mail\n            providers, or for various confirmation-of-ownership tests.\n          </Text>\n        </Stack>\n        <Stack\n          gap=\"m\"\n          grow={1}\n          className={columnClassName}\n          as=\"form\"\n          onSubmit={onFormSubmit}\n        >\n          {addCustomRecordError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              isMultiline={false}\n              onDismiss={onMessageBarDismiss}\n              dismissButtonAriaLabel=\"Close\"\n            >\n              {addCustomRecordError}\n            </MessageBar>\n          )}\n          <Dropdown\n            label=\"Domain\"\n            required\n            options={zoneOptions}\n            selectedKey={zone.key}\n            onChange={onZoneChange}\n          />\n          <TextField\n            label=\"Name\"\n            placeholder=\"subdomain\"\n            value={name}\n            onChange={onNameChange}\n          />\n          <Dropdown\n            label=\"Type\"\n            required\n            options={recordTypeOptions}\n            selectedKey={type.key}\n            onChange={onTypeChange}\n          />\n          <TextField\n            label=\"Value\"\n            required\n            value={value}\n            onChange={onValueChange}\n          />\n          <MessageBar>{recordTypes[type.key as DNSRecordType].hint}</MessageBar>\n          <Stack horizontal>\n            <PrimaryButton type=\"submit\" disabled={isAddingCustomRecord}>\n              Save Record\n            </PrimaryButton>\n          </Stack>\n        </Stack>\n      </Stack>\n    </>\n  );\n};\n","import { DialogType, Text } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  DNSActionType,\n  getCustomRecords,\n  removeCustomRecord,\n  removeCustomRecordReset,\n  resetDNSAction,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\nimport { Pre } from '../Pre/Pre';\n\nexport const CustomDnsRecordActions: React.FunctionComponent = () => {\n  const {\n    isRemovingCustomRecord,\n    dnsAction,\n    removeCustomRecordError,\n    removeCustomRecordResponse,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useCallback((): void => {\n    dispatch(resetDNSAction());\n  }, [dispatch]);\n\n  const onActionDialogDismissed = useCallback((): void => {\n    if (removeCustomRecordResponse) {\n      dispatch(getCustomRecords());\n    }\n    dispatch(removeCustomRecordReset());\n  }, [dispatch, removeCustomRecordResponse]);\n\n  const onRemoveAliasConfirm = useCallback((): void => {\n    if (dnsAction?.dnsRecord) {\n      const { qname, rtype, value: body } = dnsAction.dnsRecord;\n      dispatch(\n        removeCustomRecord({\n          qname,\n          rtype,\n          body,\n        })\n      );\n    }\n  }, [dispatch, dnsAction]);\n\n  return (\n    <ActionConfirmDialog\n      hidden={dnsAction?.type !== DNSActionType.remove}\n      isLoading={isRemovingCustomRecord}\n      onDismiss={onActionDialogDismiss}\n      onDismissed={onActionDialogDismissed}\n      onConfirm={onRemoveAliasConfirm}\n      error={removeCustomRecordError}\n      actionResponse={removeCustomRecordResponse}\n      confirmButtonText=\"Remove Record\"\n      dialogContentProps={{\n        type: DialogType.largeHeader,\n        title: 'Remove DNS Record',\n      }}\n      modalProps={{\n        isBlocking: true,\n      }}\n      minWidth={480}\n    >\n      <Text>Are you sure you want to remove the custom record:</Text>\n      <Pre>\n        {dnsAction?.dnsRecord?.qname}&nbsp;({dnsAction?.dnsRecord?.rtype})\n      </Pre>\n    </ActionConfirmDialog>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport { DNSCustomRecord } from 'mailinabox-api';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { DNSActionType, setDNSAction } from '../../../features/dnsSlice';\n\ninterface CustomDnsRecordsActionsListProps {\n  dnsRecord: DNSCustomRecord;\n}\n\nexport const CustomDnsRecordsActionsList: React.FunctionComponent<CustomDnsRecordsActionsListProps> = ({\n  dnsRecord,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (type: DNSActionType): void => {\n      dispatch(\n        setDNSAction({\n          dnsRecord,\n          type,\n        })\n      );\n    },\n    [dispatch, dnsRecord]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'removeDnsRecord' + dnsRecord.qname + dnsRecord.rtype,\n            text: 'Remove',\n            onClick: (): void => doAction(DNSActionType.remove),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { DNSCustomRecord } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectCustomRecordsWithGroups } from '../../../features/dnsSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { CustomDnsRecordActions } from './CustomDnsRecordActions';\nimport { CustomDnsRecordsActionsList } from './CustomDnsRecordsActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Domain Name',\n    minWidth: 140,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    fieldName: 'qname',\n  },\n  {\n    key: 'column2',\n    name: 'Record Type',\n    minWidth: 100,\n    maxWidth: 120,\n    isMultiline: false,\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.rtype}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Value',\n    minWidth: 180,\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (dnsRecord: DNSCustomRecord): React.ReactNode => {\n      return <CustomDnsRecordsActionsList dnsRecord={dnsRecord} />;\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface CustomDnsRecordsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const CustomDnsRecordsList: React.FunctionComponent<\n  IStackProps & CustomDnsRecordsListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [records, groups] = useSelector(selectCustomRecordsWithGroups);\n\n  return (\n    <Stack as=\"section\" {...props}>\n      <CustomDnsRecordActions />\n      <GroupedDetailsList\n        items={records}\n        columns={columns}\n        groups={groups}\n        openedGroupsState={openedGroupsState}\n      />\n    </Stack>\n  );\n};\n","import {\n  BaseButton,\n  Button,\n  Dialog,\n  DialogFooter,\n  DialogType,\n  IStackProps,\n  mergeStyles,\n  MessageBarType,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addSecondaryNameserver,\n  addSecondaryNameserverReset,\n  addSecondaryNameserverResetError,\n  getSecondaryNameserver,\n} from '../../../features/dnsSlice';\nimport { RootState } from '../../../store';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nexport const CustomDnsSecondaryNameserver: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  const {\n    isAddingSecondaryNameserver,\n    addSecondaryNameserverError,\n    addSecondaryNameserverResponse,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n\n  const [hostname, setHostname] = useState<string>('');\n  const [isDialogHidden, setIsDialogHidden] = useState<boolean>(true);\n  const [hasDialogOpened, setHasDialogOpened] = useState<boolean>(false);\n\n  const onDialogDismissed = useCallback((): void => {\n    if (addSecondaryNameserverResponse) {\n      dispatch(getSecondaryNameserver());\n    }\n    dispatch(addSecondaryNameserverReset());\n  }, [addSecondaryNameserverResponse, dispatch]);\n\n  const onDialogClose = useCallback(\n    (_event: React.MouseEvent<BaseButton, MouseEvent>): void => {\n      setIsDialogHidden(true);\n    },\n    []\n  );\n\n  const onErrorMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      dispatch(addSecondaryNameserverResetError());\n    },\n    [dispatch]\n  );\n\n  const onHostnameChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setHostname(newValue || '');\n    },\n    []\n  );\n\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      dispatch(\n        addSecondaryNameserver({\n          hostnames: hostname,\n        })\n      );\n    },\n    [dispatch, hostname]\n  );\n\n  useEffect(() => {\n    if (addSecondaryNameserverResponse && isDialogHidden && !hasDialogOpened) {\n      setIsDialogHidden(false);\n    }\n  }, [addSecondaryNameserverResponse, hasDialogOpened, isDialogHidden]);\n\n  useEffect(() => {\n    if (!isDialogHidden) {\n      setHasDialogOpened(true);\n    }\n  }, [isDialogHidden]);\n\n  useEffect(() => {\n    return (): void => {\n      dispatch(addSecondaryNameserverReset());\n    };\n  }, [dispatch]);\n\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n      <Dialog\n        hidden={isDialogHidden}\n        dialogContentProps={{\n          type: DialogType.largeHeader,\n          title: 'Custom DNS',\n        }}\n        modalProps={{\n          isBlocking: true,\n        }}\n        minWidth={480}\n        maxWidth={480}\n        onDismissed={onDialogDismissed}\n      >\n        <Pre>{addSecondaryNameserverResponse}</Pre>\n        <DialogFooter>\n          <PrimaryButton text=\"OK\" onClick={onDialogClose} />\n        </DialogFooter>\n      </Dialog>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Text>\n          If your TLD requires you to have two separate nameservers, you can\n          either set up external DNS and ignore the DNS server on this box\n          entirely, or use the DNS server on this box but add a secondary (aka\n          slave) nameserver.\n        </Text>\n        <Text>\n          If you choose to use a secondary nameserver, you must find a secondary\n          nameserver service provider. Your domain name registrar or virtual\n          cloud provider may provide this service for you. Once you set up the\n          secondary nameserver service, enter the hostname (not the IP address)\n          of their secondary nameserver in field.\n        </Text>\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={1}\n        className={columnClassName}\n        as=\"form\"\n        onSubmit={onFormSubmit}\n      >\n        {addSecondaryNameserverError && (\n          <MessageBar\n            messageBarType={MessageBarType.error}\n            isMultiline={false}\n            onDismiss={onErrorMessageBarDismiss}\n            dismissButtonAriaLabel=\"Close\"\n          >\n            {addSecondaryNameserverError}\n          </MessageBar>\n        )}\n        <MessageBar>\n          Multiple secondary servers can be separated with commas or spaces\n          (i.e., ns2.hostingcompany.com ns3.hostingcompany.com).\n        </MessageBar>\n        <MessageBar>\n          To enable zone transfers to additional servers without listing them as\n          secondary nameservers, add an IP address or subnet using\n          xfr:10.20.30.40 or xfr:10.20.30.40/24.\n        </MessageBar>\n        <TextField\n          label=\"Hostname\"\n          required\n          placeholder=\"ns1.cloudprovider.com\"\n          value={hostname}\n          onChange={onHostnameChange}\n        />\n        <Stack horizontal>\n          <PrimaryButton type=\"submit\" disabled={isAddingSecondaryNameserver}>\n            Update\n          </PrimaryButton>\n        </Stack>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport {\n  getCustomRecords,\n  getSecondaryNameserver,\n  getZones,\n} from '../../../../../features/dnsSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { CustomDnsAdd } from '../../../../ui/CustomDnsAdd/CustomDnsAdd';\nimport { CustomDnsRecordsList } from '../../../../ui/CustomDnsRecordsList/CustomDnsRecordsList';\nimport { CustomDnsSecondaryNameserver } from '../../../../ui/CustomDnsSecondaryNameserver/CustomDnsSecondaryNameserver';\nimport { LoadingOverlay } from '../../../../ui/LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../../../../ui/LoadingOverlay/LoadingOverlayContainer';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst CustomDnsSections: React.FunctionComponent = () => {\n  const {\n    isGettingSecondaryNameserver,\n    isGettingZones,\n    isGettingCustomRecords,\n    getSecondaryNameserverError,\n    getZonesError,\n    getCustomRecordsError,\n    zones,\n    customRecords,\n  } = useSelector((state: RootState) => state.dns);\n  const dispatch = useDispatch();\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n\n  useEffect(() => {\n    if (!zones.length) {\n      dispatch(getZones());\n    }\n  }, [dispatch, zones]);\n\n  useEffect(() => {\n    if (!customRecords.length) {\n      dispatch(getCustomRecords());\n    }\n  }, [customRecords, dispatch]);\n\n  useEffect(() => {\n    dispatch(getSecondaryNameserver());\n  }, [dispatch]);\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"DNS Records\" />\n        <PivotItem itemKey={`${url}/add`} headerText=\"Add Custom Record\" />\n        <PivotItem\n          itemKey={`${url}/nameserver`}\n          headerText=\"Secondary Nameserver\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <LoadingOverlayContainer>\n            {isGettingCustomRecords && (\n              <LoadingOverlay\n                loadingLabel=\"Checking DNS status...\"\n                hasLoaded={Boolean(customRecords.length)}\n              />\n            )}\n            {Boolean(getCustomRecordsError) && (\n              <MessageBar messageBarType={MessageBarType.error}>\n                {getCustomRecordsError}\n              </MessageBar>\n            )}\n            {!getCustomRecordsError && Boolean(customRecords.length) && (\n              <CustomDnsRecordsList openedGroupsState={openedGroupsState} />\n            )}\n          </LoadingOverlayContainer>\n        </Route>\n        <Route exact path={`${path}/add`}>\n          {isGettingZones && <ProgressIndicator label=\"Checking Zones...\" />}\n          {Boolean(getZonesError) && (\n            <MessageBar messageBarType={MessageBarType.error}>\n              {getZonesError}\n            </MessageBar>\n          )}\n          {!getZonesError && Boolean(zones.length) && <CustomDnsAdd />}\n        </Route>\n        <Route exact path={`${path}/nameserver`}>\n          {isGettingSecondaryNameserver && (\n            <ProgressIndicator label=\"Checking Secondary Nameserver...\" />\n          )}\n          {Boolean(getSecondaryNameserverError) && (\n            <MessageBar messageBarType={MessageBarType.error}>\n              {getSecondaryNameserverError}\n            </MessageBar>\n          )}\n          {!getSecondaryNameserverError && !isGettingSecondaryNameserver && (\n            <CustomDnsSecondaryNameserver />\n          )}\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const CustomDnsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Custom DNS',\n              key: 'customdns',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        This is an advanced configuration page.\n      </MessageBar>\n      <BodyPanel>\n        <Text>\n          It is possible to set custom DNS records on domains hosted here.\n        </Text>\n      </BodyPanel>\n      <BodyPanel>\n        <CustomDnsSections />\n      </BodyPanel>\n    </Body>\n  );\n};\n\nCustomDnsRoute.path = '/dns/custom';\n","import {\n  Callout,\n  DefaultButton,\n  IButtonStyles,\n  IconButton,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { useBoolean, useId } from '@uifabric/react-hooks';\nimport React from 'react';\n\ninterface Props {\n  maxWidth?: number;\n  iconButtonClassName?: string;\n  iconButtonStyles: IButtonStyles;\n  text: string;\n  showCloseButton?: boolean;\n}\n\nexport const InfoButton: React.FunctionComponent<Props> = ({\n  text,\n  maxWidth = 320,\n  showCloseButton = true,\n  iconButtonClassName,\n  iconButtonStyles,\n}) => {\n  const [isCalloutVisible, { toggle: toggleIsCalloutVisible }] = useBoolean(\n    false\n  );\n  const iconButtonId: string = useId('iconButton');\n  return (\n    <>\n      <IconButton\n        id={iconButtonId}\n        title=\"Info\"\n        text=\"Info\"\n        ariaLabel=\"Info\"\n        iconProps={{\n          iconName: 'Info',\n        }}\n        onClick={toggleIsCalloutVisible}\n        className={iconButtonClassName}\n        styles={iconButtonStyles}\n      />\n      {isCalloutVisible && (\n        <Callout\n          target={'#' + iconButtonId}\n          setInitialFocus\n          onDismiss={toggleIsCalloutVisible}\n          role=\"alertdialog\"\n          styles={{\n            root: {\n              maxWidth,\n            },\n          }}\n        >\n          <Stack horizontalAlign=\"start\" padding=\"m\" gap=\"m\">\n            <Text>{text}</Text>\n            {showCloseButton && (\n              <DefaultButton onClick={toggleIsCalloutVisible}>\n                Close\n              </DefaultButton>\n            )}\n          </Stack>\n        </Callout>\n      )}\n    </>\n  );\n};\n","import {\n  FontSizes,\n  IColumn,\n  IStackProps,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { DNSCustomRecord, DNSDumpDomainRecord } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectDumpWithGroups } from '../../../features/dnsSlice';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { InfoButton } from '../InfoButton/InfoButton';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Qname',\n    minWidth: 140,\n    maxWidth: 300,\n    isMultiline: false,\n    isRowHeader: true,\n    isPadded: false,\n    fieldName: 'qname',\n  },\n  {\n    key: 'column2',\n    name: 'Record Type',\n    minWidth: 80,\n    maxWidth: 100,\n    isPadded: false,\n    isMultiline: false,\n    fieldName: 'rtype',\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.rtype}</Text>;\n    },\n  },\n  {\n    key: 'column3',\n    name: 'Value',\n    isMultiline: true,\n    minWidth: 180,\n    isPadded: true,\n    fieldName: 'value',\n    onRender: (item: DNSCustomRecord): React.ReactNode => {\n      return <Text>{item.value}</Text>;\n    },\n  },\n  {\n    key: 'column4',\n    name: 'Info',\n    isMultiline: false,\n    minWidth: 40,\n    isIconOnly: true,\n    isPadded: false,\n    onRender: (item: DNSDumpDomainRecord): React.ReactNode => {\n      return (\n        <InfoButton\n          text={item.explanation}\n          showCloseButton={false}\n          iconButtonStyles={{\n            root: {\n              height: 'auto',\n            },\n            icon: {\n              fontSize: FontSizes.xLarge,\n            },\n          }}\n        />\n      );\n    },\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface DnsDumpListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const DnsDumpList: React.FunctionComponent<\n  IStackProps & DnsDumpListProps\n> = ({ openedGroupsState, ...props }) => {\n  const [records, groups] = useSelector(selectDumpWithGroups);\n  return (\n    <Stack as=\"section\" {...props}>\n      <GroupedDetailsList\n        items={records}\n        groups={groups}\n        columns={columns}\n        openedGroupsState={openedGroupsState}\n      />\n    </Stack>\n  );\n};\n","import {\n  Checkbox,\n  CommandBar,\n  Dropdown,\n  IStackProps,\n  Label,\n  mergeStyles,\n  PrimaryButton,\n  Stack,\n  Text,\n  TextField,\n} from '@fluentui/react';\nimport React from 'react';\nimport { Pre } from '../Pre/Pre';\n\nconst columnClassName = mergeStyles({\n  flexBasis: 0,\n});\n\nconst text = `$ORIGIN example.com.\n$TTL 1800\n\n@ IN SOA ns1.box.example.com. hostmaster.box.example.com. (\n           2020062800\n           7200\n           1800\n           1209600\n           1800\n           )\n\tIN\tNS\tns1.box.example.com.\n\tIN\tNS\tns2.box.example.com.\n\tIN\tA\t111.222.333.444\n\tIN\tAAAA\t1111:4f8:1c1c:e08a::2\n\tIN\tMX\t10 box.example.com.\n\tIN\tTXT\t\"v=spf1 mx -all\"\n_dmarc\tIN\tTXT\t\"v=DMARC1; p=quarantine\"\nmail._domainkey\tIN\tTXT\t\"v=DKIM1; k=rsa; s=email; p=1234+56789\"\n_caldavs._tcp\tIN\tSRV\t0 0 443 box.example.com.\n_carddavs._tcp\tIN\tSRV\t0 0 443 box.example.com.\nautoconfig\tIN\tA\t111.222.333.444\nautoconfig\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautodiscover\tIN\tA\t111.222.333.444\nautodiscover\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nbox\tIN\tA\t111.222.333.444\nbox\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nbox\tIN\tSSHFP\t3 2 ( 123456789 )\nbox\tIN\tSSHFP\t4 2 ( 123456789 )\nbox\tIN\tSSHFP\t1 2 ( 123456789 )\nbox\tIN\tMX\t10 box.example.com.\nbox\tIN\tTXT\t\"v=spf1 mx -all\"\n_dmarc.box\tIN\tTXT\t\"v=DMARC1; p=quarantine\"\nmail._domainkey.box\tIN\tTXT\t\"v=DKIM1; k=rsa; s=email; p=1234+56789\"\n_25._tcp.box\tIN\tTLSA\t3 1 1 123456789\n_443._tcp.box\tIN\tTLSA\t3 1 1 123456789\nautoconfig.box\tIN\tA\t111.222.333.444\nautoconfig.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautoconfig.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.autoconfig.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nautodiscover.box\tIN\tA\t111.222.333.444\nautodiscover.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nautodiscover.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.autodiscover.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nns1.box\tIN\tA\t111.222.333.444\nns1.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nns1.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.ns1.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nns2.box\tIN\tA\t111.222.333.444\nns2.box\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nns2.box\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.ns2.box\tIN\tTXT\t\"v=DMARC1; p=reject\"\nwww\tIN\tA\t111.222.333.444\nwww\tIN\tAAAA\t1111:2222:1c1c:e08a::1\nwww\tIN\tTXT\t\"v=spf1 -all\"\n_dmarc.www\tIN\tTXT\t\"v=DMARC1; p=reject\"`;\n\nexport const DnsZoneFileGenerator: React.FunctionComponent<IStackProps> = ({\n  ...props\n}) => {\n  return (\n    <Stack as=\"section\" gap=\"l2\" horizontal {...props}>\n      <Stack gap=\"m\" grow={1} className={columnClassName}>\n        <Text>Use this tool to generate zone files.</Text>\n        <Dropdown\n          label=\"Domain\"\n          required\n          placeholder=\"Select a domain\"\n          options={[\n            {\n              key: 'foo',\n              text: 'box.proxima-mail',\n            },\n          ]}\n        />\n        <TextField label=\"SOA Records\" required multiline rows={5} />\n        <TextField label=\"Nameservers\" required />\n        <Stack gap=\"s2\">\n          <Label>Generation Options</Label>\n          <Checkbox label=\"Split long TXT entries\" checked={false} />\n        </Stack>\n        <Stack horizontal>\n          <PrimaryButton>Generate</PrimaryButton>\n        </Stack>\n      </Stack>\n      <Stack\n        gap=\"m\"\n        grow={2}\n        className={columnClassName}\n        style={{ minWidth: 0 }}\n      >\n        <CommandBar\n          styles={{\n            root: {\n              paddingLeft: 0,\n            },\n          }}\n          items={[\n            {\n              key: 'copy',\n              text: 'Copy',\n              iconProps: { iconName: 'Copy' },\n            },\n            {\n              key: 'download',\n              text: 'Download',\n              iconProps: { iconName: 'Download' },\n            },\n          ]}\n          ariaLabel=\"Use left and right arrow keys to navigate between commands\"\n        />\n        <Pre>{text}</Pre>\n      </Stack>\n    </Stack>\n  );\n};\n","import {\n  Link,\n  MessageBar,\n  MessageBarType,\n  PivotItem,\n  ProgressIndicator,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { getDump } from '../../../../../features/dnsSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { DnsDumpList } from '../../../../ui/DnsDumpList/DnsDumpList';\nimport { DnsZoneFileGenerator } from '../../../../ui/DnsZoneFileGenerator/DnsZoneFileGenerator';\nimport { PivotRoutes } from '../../../../ui/PivotRoutes/PivotRoutes';\n\nconst ExternalDnsSections: React.FunctionComponent = () => {\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n  return (\n    <>\n      <PivotRoutes>\n        <PivotItem itemKey={url} headerText=\"DNS Records\" />\n        <PivotItem\n          itemKey={`${url}/zone-file`}\n          headerText=\"Zone File Generator\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <DnsDumpList openedGroupsState={openedGroupsState} />\n        </Route>\n        <Route exact path={`${path}/zone-file`}>\n          <DnsZoneFileGenerator />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport const ExternalDnsRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingDump, getDumpError, dump } = useSelector(\n    (state: RootState) => state.dns\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!dump.length) {\n      dispatch(getDump());\n    }\n  }, [dispatch, dump.length]);\n\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'External DNS',\n              key: 'externaldns',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <MessageBar messageBarType={MessageBarType.warning} isMultiline>\n        This is an advanced configuration page.\n      </MessageBar>\n      <BodyPanel>\n        <Text>\n          Although your box is configured to serve its own DNS, it is possible\n          to host your DNS elsewhere  such as in the DNS control panel provided\n          by your domain name registrar or virtual cloud provider  by copying\n          the DNS zone information shown in the table below into your external\n          DNS servers control panel.\n        </Text>\n        <Text>\n          If you do so, you are responsible for keeping your DNS entries up to\n          date! If you previously enabled DNSSEC on your domain name by setting\n          a DS record at your registrar, you will likely have to turn it off\n          before changing nameservers.\n        </Text>\n        <MessageBar messageBarType={MessageBarType.info} isMultiline>\n          You may encounter zone file errors when attempting to create a TXT\n          record with a long string.\n          <Link href=\"http://tools.ietf.org/html/rfc4408#section-3.1.3\">\n            RFC 4408\n          </Link>{' '}\n          states a TXT record is allowed to contain multiple strings, and this\n          technique can be used to construct records that would exceed the\n          255-byte maximum length. You may need to adopt this technique when\n          adding DomainKeys. Use a tool like\n          <Link href=\"http://manpages.ubuntu.com/manpages/bionic/man8/named-checkzone.8.html\">\n            <code>named-checkzone</code>\n          </Link>{' '}\n          to validate your zone file.\n        </MessageBar>\n      </BodyPanel>\n      <BodyPanel>\n        {getDumpError && (\n          <MessageBar messageBarType={MessageBarType.error} isMultiline>\n            {getDumpError}\n          </MessageBar>\n        )}\n        {isGettingDump && <ProgressIndicator label=\"Getting DNS dump...\" />}\n        {!isGettingDump && !getDumpError && <ExternalDnsSections />}\n      </BodyPanel>\n    </Body>\n  );\n};\n\nExternalDnsRoute.path = '/dns/external';\n","import { Action, createSlice, ThunkAction } from '@reduxjs/toolkit';\nimport { SystemPrivacyStatus } from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemPrivacyState {\n  isGettingPrivacy: boolean;\n  isUpdatingPrivacy: boolean;\n  status: boolean;\n  getPrivacyError: string | null;\n  updatePrivacyError: string | null;\n}\n\nconst initialState: SystemPrivacyState = {\n  isGettingPrivacy: false,\n  isUpdatingPrivacy: false,\n  status: false,\n  getPrivacyError: null,\n  updatePrivacyError: null,\n};\n\nconst systemPrivacy = createSlice({\n  name: 'privacy',\n  initialState,\n  reducers: {\n    getPrivacyStart: (state): void => {\n      state.getPrivacyError = null;\n      state.isGettingPrivacy = true;\n    },\n    getPrivacySuccess: (state, action): void => {\n      state.isGettingPrivacy = false;\n      state.status = action.payload;\n    },\n    getPrivacyError: (state, action): void => {\n      state.isGettingPrivacy = false;\n      state.getPrivacyError = action.payload;\n    },\n    updatePrivacyStart: (state): void => {\n      state.getPrivacyError = null;\n      state.isUpdatingPrivacy = true;\n    },\n    updatePrivacySuccess: (state, action): void => {\n      state.isUpdatingPrivacy = false;\n      const { result, privacy } = action.payload;\n      if (result === 'OK') {\n        state.status = privacy;\n      }\n    },\n    updatePrivacyError: (state, action): void => {\n      state.isUpdatingPrivacy = false;\n      state.updatePrivacyError = action.payload;\n    },\n  },\n});\n\nexport const {\n  getPrivacySuccess,\n  getPrivacyStart,\n  getPrivacyError,\n  updatePrivacyStart,\n  updatePrivacySuccess,\n  updatePrivacyError,\n} = systemPrivacy.actions;\n\nexport const { reducer: systemPrivacyReducer } = systemPrivacy;\n\nexport const systemPrivacyCheck = (): ThunkAction<\n  void,\n  RootState,\n  unknown,\n  Action<string>\n> => async (dispatch): Promise<void> => {\n  dispatch(getPrivacyStart());\n  try {\n    const result = await systemApi.getSystemPrivacyStatus();\n    dispatch(getPrivacySuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getPrivacyError);\n  }\n};\n\nexport const updatePrivacy = (privacy: boolean): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(updatePrivacyStart());\n  try {\n    const result = await systemApi.updateSystemPrivacy({\n      value: privacy ? SystemPrivacyStatus.Private : SystemPrivacyStatus.Off,\n    });\n    dispatch(\n      updatePrivacySuccess({\n        result,\n        privacy,\n      })\n    );\n  } catch (err) {\n    await handleRequestError(err, dispatch, updatePrivacyError);\n  }\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk } from '../../store';\n\nexport interface SystemRebootState {\n  isGettingRebootStatus: boolean;\n  status: boolean;\n  getRebootStatusError: string | null;\n}\n\nconst initialState: SystemRebootState = {\n  isGettingRebootStatus: false,\n  status: false,\n  getRebootStatusError: null,\n};\n\nconst systemReboot = createSlice({\n  name: 'reboot',\n  initialState,\n  reducers: {\n    getRebootStatusStart: (state): void => {\n      state.getRebootStatusError = null;\n      state.isGettingRebootStatus = true;\n    },\n    getRebootStatusSuccess: (state, action): void => {\n      state.isGettingRebootStatus = false;\n      state.status = action.payload;\n    },\n    getRebootStatusError: (state, action): void => {\n      state.getRebootStatusError = action.payload;\n      state.isGettingRebootStatus = false;\n    },\n  },\n});\n\nexport const {\n  getRebootStatusSuccess,\n  getRebootStatusStart,\n  getRebootStatusError,\n} = systemReboot.actions;\n\nexport const { reducer: systemRebootReducer } = systemReboot;\n\nexport const systemRebootCheck = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getRebootStatusStart());\n  try {\n    const result = await systemApi.getSystemRebootStatus();\n    dispatch(getRebootStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getRebootStatusError);\n  }\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSelector, createSlice } from '@reduxjs/toolkit';\nimport { StatusEntry, StatusEntryType } from 'mailinabox-api';\nimport { handleRequestError, systemApi } from '../../api';\nimport { AppThunk, RootState } from '../../store';\n\nexport interface SystemStatusState {\n  isGettingStatus: boolean;\n  status: Array<StatusEntry>;\n  getStatusError: string | null;\n}\n\nconst initialState: SystemStatusState = {\n  isGettingStatus: false,\n  status: [],\n  getStatusError: null,\n};\n\nconst systemStatus = createSlice({\n  name: 'status',\n  initialState,\n  reducers: {\n    getStatusStart: (state): void => {\n      state.getStatusError = null;\n      state.isGettingStatus = true;\n    },\n    getStatusSuccess: (state, action): void => {\n      state.isGettingStatus = false;\n      state.status = action.payload;\n    },\n    getStatusError: (state, action): void => {\n      state.getStatusError = action.payload;\n      state.isGettingStatus = false;\n    },\n  },\n});\n\nexport const {\n  getStatusSuccess,\n  getStatusStart,\n  getStatusError,\n} = systemStatus.actions;\n\nexport const { reducer: systemStatusReducer } = systemStatus;\n\nexport const systemStatusCheck = (): AppThunk => async (\n  dispatch\n): Promise<void> => {\n  dispatch(getStatusStart());\n  try {\n    const result = await systemApi.getSystemStatus();\n    dispatch(getStatusSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getStatusError);\n  }\n};\n\ntype StatusGroup = IGroup;\n\ntype StatusItem = StatusEntry & {\n  key: string;\n};\n\nexport const selectSystemStatusItemsAndGroups = (\n  state: RootState\n): [Array<StatusItem>, Array<StatusGroup>] => {\n  const groups: Array<StatusGroup> = [];\n  const items: Array<StatusItem> = [];\n  let group: StatusGroup | undefined = undefined;\n  const { status: entries } = state.system.status;\n  entries.forEach((statusEntry, i) => {\n    const isHeadingEntry = statusEntry.type === StatusEntryType.Heading;\n    if (!isHeadingEntry) {\n      items.push({\n        key: 'item' + items.length,\n        ...statusEntry,\n      });\n    }\n    if ((isHeadingEntry || i === entries.length - 1) && group) {\n      groups.push({\n        ...group,\n        count: items.length - group.startIndex,\n      });\n    }\n    if (isHeadingEntry) {\n      group = {\n        key: 'group' + groups.length,\n        name: statusEntry.text,\n        startIndex: items.length,\n        isCollapsed: false,\n        level: 0,\n        count: 0,\n      };\n    }\n  });\n\n  return [items, groups];\n};\n\ninterface SummarisedChecks {\n  [StatusEntryType.Ok]: number;\n  [StatusEntryType.Warning]: number;\n  [StatusEntryType.Error]: number;\n  total: number;\n}\n\nexport const selectSummarisedChecks = createSelector(\n  [selectSystemStatusItemsAndGroups],\n  ([items]): SummarisedChecks => {\n    const summary = {\n      [StatusEntryType.Ok]: 0,\n      [StatusEntryType.Warning]: 0,\n      [StatusEntryType.Error]: 0,\n      total: 0,\n    };\n    items.forEach((item) => {\n      if (item.type !== StatusEntryType.Heading) {\n        summary.total += 1;\n      }\n      switch (item.type) {\n        case StatusEntryType.Ok:\n          summary[StatusEntryType.Ok] += 1;\n          break;\n        case StatusEntryType.Error:\n          summary[StatusEntryType.Error] += 1;\n          break;\n        case StatusEntryType.Warning:\n          summary[StatusEntryType.Warning] += 1;\n          break;\n      }\n    });\n    return summary;\n  }\n);\n","import { FontSizes, getTheme, Icon } from '@fluentui/react';\nimport { StatusEntryType } from 'mailinabox-api';\nimport React from 'react';\n\nconst theme = getTheme();\n\nfunction getIconName(type: string): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return 'Accept';\n    case StatusEntryType.Error:\n      return 'Error';\n    case StatusEntryType.Warning:\n    default:\n      return 'Warning';\n  }\n}\n\nfunction getIconColor(type: string): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return theme.palette.green;\n    case StatusEntryType.Error:\n      return theme.palette.red;\n    case StatusEntryType.Warning:\n    default:\n      return theme.palette.yellowDark;\n  }\n}\n\ninterface SystemCheckIconProps {\n  type: StatusEntryType;\n}\n\nexport const SystemCheckIcon: React.FunctionComponent<SystemCheckIconProps> = ({\n  type,\n}) => {\n  return (\n    <Icon\n      iconName={getIconName(type)}\n      styles={{\n        root: {\n          color: getIconColor(type),\n          fontSize: FontSizes.medium,\n          verticalAlign: 'middle',\n        },\n      }}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  getTheme,\n  Link,\n  mergeStyles,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { StatusEntry, StatusEntryType } from 'mailinabox-api';\nimport React, { useCallback, useState } from 'react';\n\nconst theme = getTheme();\n\ninterface SystemChecksDetailsListItemProps {\n  item: StatusEntry;\n}\n\nfunction getTextColor(type: StatusEntryType): string {\n  switch (type) {\n    case StatusEntryType.Ok:\n      return theme.palette.greenDark;\n    case StatusEntryType.Error:\n      return theme.palette.redDark;\n    case StatusEntryType.Warning:\n    default:\n      return theme.palette.yellowDark;\n  }\n}\n\nconst extrasClassName = mergeStyles({\n  ...AnimationStyles.fadeIn500,\n});\n\nexport const SystemChecksDetailsListItem: React.FunctionComponent<SystemChecksDetailsListItemProps> = ({\n  item,\n}) => {\n  const { text, extra, type } = item;\n  const [isCollapsed, setIsCollapsed] = useState(true);\n  const onLinkClick = useCallback((): void => setIsCollapsed(false), []);\n  const textColor = getTextColor(type);\n  return (\n    <>\n      <Text styles={{ root: { color: textColor } }}>{text}</Text>\n      {!!(extra && extra.length) && (\n        <>\n          {isCollapsed && (\n            <>\n              <br />\n              <Link onClick={onLinkClick}>Show more</Link>\n            </>\n          )}\n          {!isCollapsed && (\n            <Stack padding=\"m 0\" className={extrasClassName}>\n              {extra.map((extraItem) => {\n                return (\n                  <>\n                    {extraItem.monospace ? (\n                      <Text\n                        block\n                        styles={{\n                          root: {\n                            padding: theme.spacing.m,\n                            fontFamily: 'monospace',\n                          },\n                        }}\n                      >\n                        {extraItem.text}\n                      </Text>\n                    ) : (\n                      <Text block>{extraItem.text}</Text>\n                    )}\n                  </>\n                );\n              })}\n            </Stack>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n","import { IGroup } from '@fluentui/react';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { WebDomain } from 'mailinabox-api';\nimport psl from 'psl';\nimport { handleRequestError, webApi } from '../api';\nimport { AppThunk, RootState } from '../store';\n\nexport type WebDomainWithDomainInfo = WebDomain & {\n  domainWithoutSubDomain: string;\n  subDomain: string;\n};\n\nexport enum WebDomainActionType {\n  update,\n}\n\nexport interface WebDomainAction {\n  webDomain?: WebDomainWithDomainInfo;\n  action?: WebDomainActionType;\n}\n\nexport interface WebState {\n  isGettingDomains: boolean;\n  domains: Array<WebDomain>;\n  getDomainsError: string | null;\n  domainAction: WebDomainAction | null;\n  isUpdatingWeb: boolean;\n  updateWebError: string | null;\n  updateWebResponse: string | null;\n}\n\nconst initialState: WebState = {\n  isGettingDomains: false,\n  domains: [],\n  getDomainsError: null,\n  domainAction: null,\n  isUpdatingWeb: false,\n  updateWebError: null,\n  updateWebResponse: null,\n};\n\nexport const web = createSlice({\n  name: 'web',\n  initialState,\n  reducers: {\n    getDomainsStart: (state): void => {\n      state.getDomainsError = null;\n      state.isGettingDomains = true;\n    },\n    getDomainsSuccess: (state, action): void => {\n      state.isGettingDomains = false;\n      state.domains = action.payload;\n    },\n    getDomainsError: (state, action): void => {\n      state.isGettingDomains = false;\n      state.getDomainsError = action.payload;\n    },\n    updateWebStart: (state): void => {\n      state.updateWebError = null;\n      state.isUpdatingWeb = true;\n    },\n    updateWebSuccess: (state, action): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebResponse = action.payload;\n    },\n    updateWebError: (state, action): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebError = action.payload;\n    },\n    updateWebReset: (state): void => {\n      state.isUpdatingWeb = false;\n      state.updateWebError = null;\n      state.updateWebResponse = null;\n    },\n    resetDomainAction: (state): void => {\n      state.domainAction = {\n        ...state.domainAction,\n        action: undefined,\n      };\n    },\n    setDomainAction: (state, action: PayloadAction<WebDomainAction>): void => {\n      state.domainAction = action.payload;\n    },\n  },\n});\n\nexport const { reducer: webReducer } = web;\n\nexport const {\n  getDomainsStart,\n  getDomainsSuccess,\n  getDomainsError,\n  resetDomainAction,\n  setDomainAction,\n  updateWebStart,\n  updateWebSuccess,\n  updateWebError,\n  updateWebReset,\n} = web.actions;\n\nfunction sortByFqdn(\n  a: WebDomainWithDomainInfo,\n  b: WebDomainWithDomainInfo\n): number {\n  if (a.domainWithoutSubDomain === b.domainWithoutSubDomain) {\n    return a.subDomain.localeCompare(b.subDomain);\n  }\n  return a.domainWithoutSubDomain.localeCompare(b.domainWithoutSubDomain);\n}\n\nexport const selectOrderedAndGroupedStaticEnabledDomains = (\n  state: RootState\n): [Array<WebDomainWithDomainInfo>, Array<IGroup>] => {\n  const domains = state.web.domains\n    .filter((webDomain) => webDomain.staticEnabled)\n    .map((webDomain) => {\n      const parsed = psl.parse(webDomain.domain);\n      return {\n        ...webDomain,\n        domainWithoutSubDomain: (!parsed.error && parsed.domain) || '',\n        subDomain: (!parsed.error && parsed.subdomain) || '',\n      };\n    })\n    .sort(sortByFqdn);\n\n  let groups: Array<IGroup> = [];\n\n  domains.forEach((webDomain: WebDomainWithDomainInfo, index) => {\n    const { domainWithoutSubDomain } = webDomain;\n    if (groups[groups.length - 1]?.name !== domainWithoutSubDomain) {\n      groups.push({\n        key: 'group' + groups.length,\n        name: domainWithoutSubDomain,\n        startIndex: index,\n        level: 0,\n        count: 0,\n        isCollapsed: true,\n      });\n    }\n  });\n\n  groups = groups.map((group, index) => {\n    return {\n      ...group,\n      count:\n        (groups[index + 1]?.startIndex || domains.length) - group.startIndex,\n    };\n  });\n\n  return [domains, groups];\n};\n\nexport const selectGetDomainsError = (state: RootState): string | null =>\n  state.web.getDomainsError;\n\nexport const getDomains = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(getDomainsStart());\n  try {\n    const result = await webApi.getWebDomains();\n    dispatch(getDomainsSuccess(result));\n  } catch (err) {\n    await handleRequestError(err, dispatch, getDomainsError);\n  }\n};\n\nexport const updateWeb = (): AppThunk => async (dispatch): Promise<void> => {\n  dispatch(updateWebStart());\n  try {\n    const result = await webApi.updateWeb();\n    dispatch(updateWebSuccess(result || 'Nothing changed.'));\n  } catch (err) {\n    await handleRequestError(err, dispatch, updateWebError);\n  }\n};\n","import {\n  CollapseAllVisibility,\n  ConstrainMode,\n  DetailsList,\n  DetailsListLayoutMode,\n  IColumn,\n  IDetailsGroupDividerProps,\n  IGroup,\n  IGroupHeaderProps,\n  IRenderFunction,\n  SelectionMode,\n} from '@fluentui/react';\nimport React from 'react';\nimport { SystemCheckIcon } from '../SystemCheckIcon/SystemCheckIcon';\nimport { SystemChecksDetailsListItem } from './SystemChecksDetailsListItem';\n\ninterface SystemChecksDetailsListProps {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  items: any[];\n  groups: IGroup[];\n}\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Status',\n    minWidth: 16,\n    maxWidth: 16,\n    onRender: (item): React.ReactNode => <SystemCheckIcon type={item.type} />,\n  },\n  {\n    key: 'column2',\n    name: 'Text',\n    isRowHeader: true,\n    isMultiline: true,\n    minWidth: 100,\n    onRender: (item): React.ReactNode => (\n      <SystemChecksDetailsListItem item={item} />\n    ),\n  },\n];\n\nexport const SystemChecksDetailsList: React.FunctionComponent<SystemChecksDetailsListProps> = ({\n  items,\n  groups,\n}) => {\n  return (\n    <DetailsList\n      items={items}\n      columns={columns}\n      groups={groups}\n      layoutMode={DetailsListLayoutMode.justified}\n      isHeaderVisible={false}\n      onShouldVirtualize={(): boolean => false}\n      groupProps={{\n        onRenderHeader: (\n          headerProps?: IDetailsGroupDividerProps,\n          defaultRender?: IRenderFunction<IGroupHeaderProps>\n        ): JSX.Element | null => {\n          if (defaultRender) {\n            return defaultRender({\n              ...headerProps,\n              styles: {\n                headerCount: { display: 'none' },\n              },\n            });\n          }\n          return null;\n        },\n        isAllGroupsCollapsed: false,\n        collapseAllVisibility: CollapseAllVisibility.hidden,\n      }}\n      selectionMode={SelectionMode.none}\n      constrainMode={ConstrainMode.horizontalConstrained}\n    />\n  );\n};\n","import {\n  CommandBarButton,\n  DirectionalHint,\n  getTheme,\n  IOverflowSetItemProps,\n  OverflowSet,\n  TooltipDelay,\n  TooltipHost,\n} from '@fluentui/react';\nimport { useId } from '@uifabric/react-hooks';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updatePrivacy } from '../../../features/system/privacySlice';\nimport { RootState } from '../../../store';\n\nconst theme = getTheme();\n\nconst calloutProps = { gapSpace: 0 };\nconst actionButtonContainerStyles = {\n  root: { width: '100%' },\n};\n\nconst onRenderItem = (item: IOverflowSetItemProps): JSX.Element => {\n  const button = (\n    <CommandBarButton\n      role=\"menuitem\"\n      aria-label={item.name}\n      styles={{\n        root: {\n          padding: theme.spacing.m,\n          textAlign: 'left',\n          ...actionButtonContainerStyles.root,\n        },\n      }}\n      disabled={item.disabled}\n      iconProps={{ iconName: item.icon }}\n      text={item.name}\n      onClick={item.onClick}\n    />\n  );\n  return item.tooltip ? (\n    <TooltipHost\n      content={item.tooltip}\n      id={item.tooltipId}\n      calloutProps={calloutProps}\n      styles={actionButtonContainerStyles}\n      delay={TooltipDelay.zero}\n      directionalHint={DirectionalHint.topCenter}\n    >\n      {button}\n    </TooltipHost>\n  ) : (\n    button\n  );\n};\n\nconst onRenderOverflowButton = (): null => null;\n\nexport const SystemStatusActionsMenu: React.FunctionComponent = () => {\n  const { isUpdatingPrivacy, status: privacyStatus } = useSelector(\n    (state: RootState) => state.system.privacy\n  );\n  const { status: rebootStatus } = useSelector(\n    (state: RootState) => state.system.reboot\n  );\n\n  const dispatch = useDispatch();\n  const onPrivacyButtonClick = useCallback(() => {\n    dispatch(updatePrivacy(!privacyStatus));\n  }, [dispatch, privacyStatus]);\n  return (\n    <OverflowSet\n      role=\"menubar\"\n      vertical\n      styles={{\n        root: {\n          width: '100%',\n          boxShadow: theme.effects.elevation4,\n          backgroundColor: theme.palette.white,\n        },\n      }}\n      items={[\n        {\n          key: 'item1',\n          icon: 'DisableUpdates',\n          name: `${privacyStatus ? 'Enable' : 'Disable'} New-Version Check`,\n          tooltip: privacyStatus\n            ? 'When enabled, status checks phone-home to check for a new release of Mail-in-a-Box.'\n            : null,\n          tooltipId: useId('tooltip'),\n          disabled: isUpdatingPrivacy,\n          onClick: onPrivacyButtonClick,\n        },\n        {\n          key: 'item2',\n          icon: 'Sync',\n          name: 'Reboot Server',\n          disabled: !rebootStatus,\n        },\n      ]}\n      onRenderOverflowButton={onRenderOverflowButton}\n      onRenderItem={onRenderItem}\n    />\n  );\n};\n","import { MessageBar, MessageBarType } from '@fluentui/react';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { SystemStatusActionsMenu } from '../SystemStatusActionsMenu/SystemStatusActionsMenu';\n\nexport const SystemStatusActions: React.FunctionComponent = () => {\n  const { status: rebootStatus } = useSelector(\n    (state: RootState) => state.system.reboot\n  );\n  return (\n    <>\n      {!rebootStatus && (\n        <MessageBar messageBarType={MessageBarType.success}>\n          No reboot is necessary.\n        </MessageBar>\n      )}\n      {rebootStatus && (\n        <MessageBar messageBarType={MessageBarType.warning}>\n          A reboot is required.\n        </MessageBar>\n      )}\n      {/* TODO: SHOW ERRORS FOR UPDATING PRIVACY AND REBOOTING */}\n      <SystemStatusActionsMenu />\n    </>\n  );\n};\n","import { getTheme } from '@fluentui/react';\nimport { DonutChart, IChartDataPoint, IChartProps } from '@uifabric/charting';\nimport { StatusEntryType } from 'mailinabox-api';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectSummarisedChecks } from '../../../features/system/statusSlice';\n\nexport const SystemStatusChart: React.FunctionComponent = () => {\n  const summarisedChecks = useSelector(selectSummarisedChecks);\n\n  const chartData: IChartDataPoint[] = [\n    {\n      legend: 'Passed',\n      data: summarisedChecks[StatusEntryType.Ok],\n      color: getTheme().palette.green,\n      xAxisCalloutData: 'Passed checks',\n    },\n    {\n      legend: 'Failed',\n      data: summarisedChecks[StatusEntryType.Error],\n      color: getTheme().palette.red,\n      xAxisCalloutData: 'Failed checks',\n    },\n    {\n      legend: 'Warning',\n      data: summarisedChecks[StatusEntryType.Warning],\n      color: getTheme().palette.yellow,\n      xAxisCalloutData: 'Warning checks',\n    },\n  ];\n  const data: IChartProps = {\n    chartTitle: 'Status Checks',\n    chartData,\n  };\n  return (\n    <DonutChart\n      data={data}\n      innerRadius={30}\n      legendsOverflowText={'overflow checks'}\n      legendsOverflowProps={{ vertical: false, overflowSide: 'start' }}\n      hideLegend={false}\n      height={116}\n      width={230}\n    />\n  );\n};\n","import {\n  AnimationStyles,\n  mergeStyles,\n  MessageBar,\n  MessageBarType,\n  ProgressIndicator,\n  ScreenWidthMinLarge,\n  Stack,\n} from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { systemPrivacyCheck } from '../../../../../features/system/privacySlice';\nimport { systemRebootCheck } from '../../../../../features/system/rebootSlice';\nimport {\n  selectSystemStatusItemsAndGroups,\n  systemStatusCheck,\n} from '../../../../../features/system/statusSlice';\nimport { RootState } from '../../../../../store';\nimport { Body } from '../../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../../ui/BodyPanel/BodyPanel';\nimport { SystemChecksDetailsList } from '../../../../ui/SystemChecksDetailsList/SystemChecksDetailsList';\nimport { SystemStatusActions } from '../../../../ui/SystemStatusActions/SystemStatusActions';\nimport { SystemStatusChart } from '../../../../ui/SystemStatusChart/SystemStatusChart';\n\nconst messageBarClassName = mergeStyles({\n  ...AnimationStyles.fadeIn500,\n});\n\nexport const StatusChecksRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  const { isGettingStatus, getStatusError } = useSelector(\n    (state: RootState) => state.system.status\n  );\n\n  const dispatch = useDispatch();\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  const [items, groups] = useSelector(selectSystemStatusItemsAndGroups);\n\n  useEffect(() => {\n    dispatch(systemStatusCheck());\n    dispatch(systemRebootCheck());\n    dispatch(systemPrivacyCheck());\n  }, [dispatch]);\n\n  return (\n    <Body>\n      <Stack\n        horizontal={isMinLargeScreen}\n        horizontalAlign=\"space-between\"\n        verticalAlign=\"center\"\n      >\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'System',\n              key: 'system',\n            },\n            {\n              text: 'Status Checks',\n              key: 'statuschecks',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        {!isGettingStatus && !getStatusError && (\n          <Stack horizontal={isMinLargeScreen} gap=\"l1\">\n            <BodyPanel grow={1} styles={{ root: { flexBasis: 0 } }}>\n              <SystemStatusChart />\n            </BodyPanel>\n            <BodyPanel\n              grow={1}\n              styles={{ root: { flexBasis: 0 } }}\n              horizontalAlign=\"start\"\n            >\n              <SystemStatusActions />\n            </BodyPanel>\n          </Stack>\n        )}\n        <BodyPanel>\n          {getStatusError && (\n            <MessageBar\n              messageBarType={MessageBarType.error}\n              isMultiline\n              className={messageBarClassName}\n            >\n              {getStatusError}\n            </MessageBar>\n          )}\n          {isGettingStatus && (\n            <ProgressIndicator label=\"Checking system status...\" />\n          )}\n          {!isGettingStatus && !getStatusError && (\n            <SystemChecksDetailsList items={items} groups={groups} />\n          )}\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nStatusChecksRoute.path = '/system/status';\n","import { DialogType, Text } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  resetDomainAction,\n  updateWeb,\n  updateWebReset,\n  WebDomainActionType,\n} from '../../../features/webSlice';\nimport { RootState } from '../../../store';\nimport { ActionConfirmDialog } from '../ActionConfirmDialog/ActionConfirmDialog';\n\nexport const WebDomainActions: React.FunctionComponent = () => {\n  const {\n    domainAction,\n    updateWebError,\n    updateWebResponse,\n    isUpdatingWeb,\n  } = useSelector((state: RootState) => state.web);\n  const dispatch = useDispatch();\n\n  const onActionDialogDismiss = useCallback((): void => {\n    dispatch(resetDomainAction());\n  }, [dispatch]);\n\n  const onActionDialogDismissed = useCallback((): void => {\n    dispatch(updateWebReset());\n  }, [dispatch]);\n\n  const update = useCallback((): void => {\n    if (domainAction?.webDomain) {\n      dispatch(updateWeb());\n    }\n  }, [dispatch, domainAction]);\n\n  const dialogWidth = updateWebResponse ? 420 : 580;\n\n  return (\n    <ActionConfirmDialog\n      hidden={domainAction?.action !== WebDomainActionType.update}\n      isLoading={isUpdatingWeb}\n      minWidth={dialogWidth}\n      maxWidth={dialogWidth}\n      onDismiss={onActionDialogDismiss}\n      onDismissed={onActionDialogDismissed}\n      onConfirm={update}\n      error={updateWebError}\n      actionResponse={updateWebResponse}\n      confirmButtonText=\"Update\"\n      dialogContentProps={{\n        type: DialogType.largeHeader,\n        title: 'Change Root Directory',\n      }}\n      modalProps={{\n        isBlocking: true,\n      }}\n    >\n      <Text>\n        You can change the static directory for{' '}\n        <strong>{domainAction?.webDomain?.domain}</strong> to:\n      </Text>\n      <Text>\n        <code>{domainAction?.webDomain?.customRoot}</code>\n      </Text>\n      <Text>\n        First create this directory on the server. Then click Update to scan for\n        the directory and update web settings.\n      </Text>\n    </ActionConfirmDialog>\n  );\n};\n","import { DirectionalHint, IconButton } from '@fluentui/react';\nimport React, { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  setDomainAction,\n  WebDomainActionType,\n  WebDomainWithDomainInfo,\n} from '../../../features/webSlice';\n\ninterface WebDomainsActionsListProps {\n  webDomain: WebDomainWithDomainInfo;\n}\n\nexport const WebDomainsActionsList: React.FunctionComponent<WebDomainsActionsListProps> = ({\n  webDomain,\n}) => {\n  const dispatch = useDispatch();\n  const doAction = useCallback(\n    (action: WebDomainActionType): void => {\n      dispatch(\n        setDomainAction({\n          webDomain,\n          action,\n        })\n      );\n    },\n    [dispatch, webDomain]\n  );\n  return (\n    <IconButton\n      menuIconProps={{\n        iconName: 'MoreVertical',\n      }}\n      styles={{\n        menuIcon: {\n          fontWeight: 'bold',\n        },\n      }}\n      role=\"button\"\n      aria-haspopup={true}\n      aria-label=\"Show actions\"\n      menuProps={{\n        directionalHint: DirectionalHint.bottomRightEdge,\n        items: [\n          {\n            key: 'changeroot',\n            text: 'Change Root Directory',\n            onClick: (): void => doAction(WebDomainActionType.update),\n          },\n        ],\n      }}\n    />\n  );\n};\n","import {\n  IColumn,\n  IStackProps,\n  Link,\n  mergeStyles,\n  MessageBarType,\n  ScreenWidthMinLarge,\n  Stack,\n  Text,\n} from '@fluentui/react';\nimport { WebDomain } from 'mailinabox-api';\nimport React, { Dispatch, SetStateAction, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  getDomains,\n  selectOrderedAndGroupedStaticEnabledDomains,\n  WebDomainWithDomainInfo,\n} from '../../../features/webSlice';\nimport { RootState } from '../../../store';\nimport { GroupedDetailsList } from '../GroupedDetailsList/GroupedDetailsList';\nimport { LoadingOverlay } from '../LoadingOverlay/LoadingOverlay';\nimport { LoadingOverlayContainer } from '../LoadingOverlay/LoadingOverlayContainer';\nimport { MessageBar } from '../MessageBar/MessageBar';\nimport { WebDomainActions } from './WebDomainActions';\nimport { WebDomainsActionsList } from './WebDomainsActionsList';\n\nconst columns: IColumn[] = [\n  {\n    key: 'column1',\n    name: 'Site',\n    minWidth: 300,\n    isRowHeader: true,\n    onRender: (webDomain: WebDomain): React.ReactElement => (\n      <Link href={`https://${webDomain.domain}`}>\n        https://{webDomain.domain}\n      </Link>\n    ),\n  },\n  {\n    key: 'column2',\n    name: 'Directory for Files',\n    minWidth: 300,\n    isRowHeader: false,\n    onRender: (webDomain: WebDomain): React.ReactElement => (\n      <Text>{webDomain.root}</Text>\n    ),\n  },\n  {\n    key: 'column3',\n    name: 'Actions',\n    isMultiline: false,\n    minWidth: 50,\n    onRender: (webDomain: WebDomainWithDomainInfo): React.ReactNode => (\n      <WebDomainsActionsList webDomain={webDomain} />\n    ),\n    className: mergeStyles({\n      displayName: 'DetailsRow-actions-cell',\n    }),\n  },\n];\n\ninterface WebDomainsListProps {\n  openedGroupsState: [string[], Dispatch<SetStateAction<string[]>>];\n}\n\nexport const WebDomainsList: React.FunctionComponent<\n  IStackProps & WebDomainsListProps\n> = ({ openedGroupsState, ...props }) => {\n  const { isGettingDomains, getDomainsError } = useSelector(\n    (state: RootState) => state.web\n  );\n  const dispatch = useDispatch();\n  const [domains, groups] = useSelector(\n    selectOrderedAndGroupedStaticEnabledDomains\n  );\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n\n  useEffect(() => {\n    if (!domains.length && !isGettingDomains && !getDomainsError) {\n      dispatch(getDomains());\n    }\n  }, [dispatch, domains, getDomainsError, isGettingDomains]);\n  return (\n    <Stack {...props}>\n      <WebDomainActions />\n      {getDomainsError && (\n        <MessageBar messageBarType={MessageBarType.error}>\n          {getDomainsError}\n        </MessageBar>\n      )}\n      <LoadingOverlayContainer>\n        {isGettingDomains && (\n          <LoadingOverlay\n            loadingLabel=\"Loading domains...\"\n            hasLoaded={Boolean(domains.length)}\n          />\n        )}\n        {!isGettingDomains && !getDomainsError && (\n          <Stack gap=\"m\">\n            <MessageBar\n              isMultiline={isMinLargeScreen}\n              truncated={!isMinLargeScreen}\n            >\n              To add a domain to this table, create a dummy\n              <Link href=\"#users\">mail user</Link> or\n              <Link href=\"#aliases\">alias</Link> on the domain first and see the\n              <Link href=\"https://mailinabox.email/guide.html#domain-name-configuration\">\n                setup guide\n              </Link>{' '}\n              for adding nameserver records to the new domain at your registrar\n              (but <i>not</i> glue records).\n            </MessageBar>\n            <GroupedDetailsList\n              items={domains}\n              columns={columns}\n              groups={groups}\n              openedGroupsState={openedGroupsState}\n            />\n          </Stack>\n        )}\n      </LoadingOverlayContainer>\n    </Stack>\n  );\n};\n","import { Link, ScreenWidthMinLarge, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { config } from '../../../config';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nexport const WebInstructions: React.FunctionComponent = () => {\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  return (\n    <Stack gap=\"m\">\n      <MessageBar isMultiline={isMinLargeScreen} truncated={!isMinLargeScreen}>\n        You can replace the default website with your own HTML pages and other\n        static files. This control panel wont help you design a website, but\n        once you have <code>.html</code> files you can upload them following\n        these instructions:\n      </MessageBar>\n      <Text as=\"ol\">\n        <li>\n          Ensure that any domains you are publishing a website for have no\n          problems on the <Link href=\"#system_status\">Status Checks</Link> page.\n        </li>\n        <li>\n          On your personal computer, install an SSH file transfer program such\n          as <Link href=\"https://filezilla-project.org/\">FileZilla</Link> or{' '}\n          <Link href=\"http://linuxcommand.org/man_pages/scp1.html\">scp</Link>.\n        </li>\n        <li>\n          Log in to this machine with the file transfer program. The server is{' '}\n          <strong>{config.hostname}</strong>, the protocol is SSH or SFTP, and\n          use the <strong>SSH login credentials</strong> that you used when you\n          originally created this machine at your cloud host provider. This is{' '}\n          <strong>not</strong> what you use to log in either for email or this\n          control panel. Your SSH credentials probably involves a private key\n          file.\n        </li>\n        <li>\n          Upload your <code>.html</code> or other files to the directory{' '}\n          <code>/home/user-data/www/default</code> on this machine. They will\n          appear directly and immediately on the web.\n        </li>\n        <li>\n          The websites set up on this machine are listed in the{' '}\n          <Link href=\"#\">Domains List</Link> with where to put the files for\n          each website.\n        </li>\n      </Text>\n    </Stack>\n  );\n};\n","import { PivotItem, PivotLinkSize, ScreenWidthMinLarge } from '@fluentui/react';\nimport React, { useState } from 'react';\nimport { useMediaQuery } from 'react-responsive';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { PivotRoutes } from '../../../ui/PivotRoutes/PivotRoutes';\nimport { WebDomainsList } from '../../../ui/WebDomainsList/WebDomainsList';\nimport { WebInstructions } from '../../../ui/WebInstructions/WebInstructions';\n\nexport const WebSections: React.FunctionComponent = () => {\n  const { path, url } = useRouteMatch();\n  const openedGroupsState = useState<string[]>([]);\n  const isMinLargeScreen = useMediaQuery({\n    minWidth: ScreenWidthMinLarge,\n  });\n  const pivotProps = {\n    linkSize: isMinLargeScreen ? PivotLinkSize.large : PivotLinkSize.normal,\n  };\n  return (\n    <>\n      <PivotRoutes {...pivotProps}>\n        <PivotItem itemKey={url} headerText=\"Domains\" />\n        <PivotItem\n          itemKey={`${url}/instructions`}\n          headerText=\"Uploading Instructions\"\n        />\n      </PivotRoutes>\n      <Switch>\n        <Route exact path={path}>\n          <WebDomainsList openedGroupsState={openedGroupsState} />\n        </Route>\n        <Route exact path={`${path}/instructions`}>\n          <WebInstructions />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n","import { Link, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport { config } from '../../../../config';\nimport { Body } from '../../../ui/Body/Body';\nimport { BodyBreadcrumb } from '../../../ui/BodyBreadcrumb/BodyBreadcrumb';\nimport { BodyPanel } from '../../../ui/BodyPanel/BodyPanel';\nimport { WebSections } from './WebSections';\n\nexport const WebRoute: React.FunctionComponent & {\n  path: string;\n} = () => {\n  return (\n    <Body>\n      <Stack horizontal horizontalAlign=\"space-between\" verticalAlign=\"center\">\n        <BodyBreadcrumb\n          items={[\n            {\n              text: 'Static Web Hosting',\n              key: 'web',\n              as: 'h1',\n            },\n          ]}\n        />\n      </Stack>\n      <Stack gap=\"l1\">\n        <BodyPanel>\n          <Text>\n            This machine is serving a simple, static website at{' '}\n            <Link\n              href={`https://${config.hostname}`}\n            >{`https://${config.hostname}`}</Link>{' '}\n            and at all domain names that you set up an email user or alias for.\n          </Text>\n        </BodyPanel>\n        <BodyPanel>\n          <WebSections />\n        </BodyPanel>\n      </Stack>\n    </Body>\n  );\n};\n\nWebRoute.path = '/web';\n","import { CommandBar, ContextualMenuItemType, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { LogoutRoute } from '../../routes/LogoutRoute/LogoutRoute';\nimport { MailAliasesRoute } from '../../routes/MainRoute/mail/MailAliasesRoute/MailAliasesRoute';\nimport { MailInstructionsRoute } from '../../routes/MainRoute/mail/MailInstructionsRoute/MailInstructionsRoute';\nimport { MailUsersRoute } from '../../routes/MainRoute/mail/MailUsersRoute/MailUsersRoute';\nimport { SyncGuideRoute } from '../../routes/MainRoute/SyncGuideRoute/SyncGuideRoute';\nimport { BackupsRoute } from '../../routes/MainRoute/system/BackupsRoute/BackupsRoute';\nimport { CertificatesRoute } from '../../routes/MainRoute/system/CertificatesRoute/CertificatesRoute';\nimport { CustomDnsRoute } from '../../routes/MainRoute/system/CustomDnsRoute/CustomDnsRoute';\nimport { ExternalDnsRoute } from '../../routes/MainRoute/system/ExternalDnsRoute/ExternalDnsRoute';\nimport { StatusChecksRoute } from '../../routes/MainRoute/system/StatusChecksRoute/StatusChecksRoute';\nimport { WebRoute } from '../../routes/MainRoute/WebRoute/WebRoute';\n\nexport const PrimaryNav: React.FunctionComponent = () => {\n  const history = useHistory();\n  return (\n    <Stack\n      styles={{\n        root: {\n          width: '100%',\n        },\n      }}\n      as=\"nav\"\n    >\n      <CommandBar\n        styles={{\n          root: {\n            padding: 0,\n          },\n        }}\n        farItems={[\n          {\n            key: 'navLogout',\n            text: 'Log out',\n            iconProps: { iconName: 'SignOut' },\n            onClick: (): void => {\n              history.push(LogoutRoute.path);\n            },\n          },\n        ]}\n        items={[\n          {\n            key: 'system',\n            text: 'System',\n            iconProps: { iconName: 'System' },\n            subMenuProps: {\n              items: [\n                {\n                  key: 'navStatusChecks',\n                  text: 'Status Checks',\n                  onClick: (): void => history.push(StatusChecksRoute.path),\n                },\n                {\n                  key: 'navCertificates',\n                  text: 'TLS (SSL) Certificates',\n                  onClick: (): void => history.push(CertificatesRoute.path),\n                },\n                {\n                  key: 'navBackupStatus',\n                  text: 'Backup Status',\n                  onClick: (): void => history.push(BackupsRoute.path),\n                },\n                {\n                  key: 'navAdvanced',\n                  text: 'Advanced',\n                  itemType: ContextualMenuItemType.Section,\n                  sectionProps: {\n                    topDivider: true,\n                    bottomDivider: true,\n                    title: 'Advanced',\n                    items: [\n                      {\n                        key: 'navCustomDns',\n                        text: 'Custom DNS',\n                        onClick: (): void => history.push(CustomDnsRoute.path),\n                      },\n                      {\n                        key: 'navExternalDnsRoute',\n                        text: 'External DNS',\n                        onClick: (): void =>\n                          history.push(ExternalDnsRoute.path),\n                      },\n                      {\n                        key: 'navMonitoring',\n                        text: 'Munin Monitoring',\n                      },\n                    ],\n                  },\n                },\n              ],\n            },\n          },\n          {\n            key: 'navMail',\n            text: 'Mail',\n            iconProps: { iconName: 'Mail' },\n            subMenuProps: {\n              items: [\n                {\n                  key: 'navInstructions',\n                  text: 'Instructions',\n                  onClick: (): void => history.push(MailInstructionsRoute.path),\n                },\n                {\n                  key: 'navUsers',\n                  text: 'Users',\n                  onClick: (): void => history.push(MailUsersRoute.path),\n                },\n                {\n                  key: 'navAliases',\n                  text: 'Aliases',\n                  onClick: (): void => history.push(MailAliasesRoute.path),\n                },\n              ],\n            },\n          },\n          {\n            key: 'navContacts',\n            text: 'Contacts/Calendar',\n            iconProps: { iconName: 'Calendar' },\n            onClick: (): void => history.push(SyncGuideRoute.path),\n          },\n          {\n            key: 'navWeb',\n            text: 'Web',\n            iconProps: { iconName: 'SiteScan' },\n            onClick: (): void => history.push(WebRoute.path),\n          },\n        ]}\n      />\n    </Stack>\n  );\n};\n","import { getTheme, Image, mergeStyles, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport logo from '../../../images/logo.png';\nimport { PrimaryNav } from '../PrimaryNav/PrimaryNav';\n\nconst className = mergeStyles({\n  alignSelf: 'stretch',\n  backgroundColor: getTheme().semanticColors.bodyBackground,\n});\n\nexport const Header: React.FunctionComponent = () => {\n  return (\n    <Stack\n      as=\"header\"\n      className={className}\n      horizontal\n      horizontalAlign=\"center\"\n    >\n      <Stack\n        as=\"section\"\n        gap=\"s1\"\n        styles={{\n          root: {\n            maxWidth: 1170,\n            width: '100%',\n          },\n        }}\n        padding=\"0 m 0 m\"\n        horizontal\n        verticalAlign=\"center\"\n      >\n        {/* <Stack.Item disableShrink>\n          <Text nowrap variant=\"large\">\n            box.example.com\n          </Text>\n        </Stack.Item> */}\n        <Stack.Item>\n          <Image src={logo} alt=\"mailinabox login\" width={34} />\n        </Stack.Item>\n        <Stack.Item disableShrink>\n          <Text nowrap variant=\"large\">\n            Mail-in-a-Box\n          </Text>\n        </Stack.Item>\n        <PrimaryNav />\n      </Stack>\n    </Stack>\n  );\n};\n","import { ScreenWidthMinMedium, Stack } from '@fluentui/react';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { RootState } from '../../../store';\nimport { Header } from '../../ui/Header/Header';\nimport { LoginRoute } from '../LoginRoute/LoginRoute';\nimport { LogoutRoute } from '../LogoutRoute/LogoutRoute';\nimport { MailAliasesRoute } from './mail/MailAliasesRoute/MailAliasesRoute';\nimport { MailInstructionsRoute } from './mail/MailInstructionsRoute/MailInstructionsRoute';\nimport { MailUsersRoute } from './mail/MailUsersRoute/MailUsersRoute';\nimport { SyncGuideRoute } from './SyncGuideRoute/SyncGuideRoute';\nimport { BackupsRoute } from './system/BackupsRoute/BackupsRoute';\nimport { CertificatesRoute } from './system/CertificatesRoute/CertificatesRoute';\nimport { CustomDnsRoute } from './system/CustomDnsRoute/CustomDnsRoute';\nimport { ExternalDnsRoute } from './system/ExternalDnsRoute/ExternalDnsRoute';\nimport { StatusChecksRoute } from './system/StatusChecksRoute/StatusChecksRoute';\nimport { WebRoute } from './WebRoute/WebRoute';\n\nexport const MainRoute: React.FunctionComponent & { path: string } = () => {\n  const { isAuthenticated } = useSelector((state: RootState) => state.auth);\n  const location = useLocation();\n  const history = useHistory();\n\n  const isMinMediumScreen = useMediaQuery({\n    minWidth: ScreenWidthMinMedium,\n  });\n\n  const nonMobileContainerProps = {\n    ...(isMinMediumScreen && {\n      gap: 'l1',\n      horizontalAlign: 'center',\n    }),\n  };\n\n  useEffect(() => {\n    if (!isAuthenticated && location.pathname !== LoginRoute.path) {\n      history.push(LoginRoute.path);\n    }\n  }, [history, isAuthenticated, location.pathname]);\n\n  return (\n    <Stack {...nonMobileContainerProps}>\n      <Header />\n      <Switch>\n        <Route exact path={[MainRoute.path, StatusChecksRoute.path]}>\n          <StatusChecksRoute />\n        </Route>\n        <Route path={CertificatesRoute.path}>\n          <CertificatesRoute />\n        </Route>\n        <Route path={BackupsRoute.path}>\n          <BackupsRoute />\n        </Route>\n        <Route path={CustomDnsRoute.path}>\n          <CustomDnsRoute />\n        </Route>\n        <Route path={ExternalDnsRoute.path}>\n          <ExternalDnsRoute />\n        </Route>\n        <Route exact path={MailInstructionsRoute.path}>\n          <MailInstructionsRoute />\n        </Route>\n        <Route path={MailUsersRoute.path}>\n          <MailUsersRoute />\n        </Route>\n        <Route path={MailAliasesRoute.path}>\n          <MailAliasesRoute />\n        </Route>\n        <Route exact path={SyncGuideRoute.path}>\n          <SyncGuideRoute />\n        </Route>\n        <Route path={WebRoute.path}>\n          <WebRoute />\n        </Route>\n        <Route exact path={LogoutRoute.path}>\n          <LogoutRoute />\n        </Route>\n        <Redirect to=\"/404\" />\n      </Switch>\n    </Stack>\n  );\n};\n\nMainRoute.path = '/';\n","/* eslint-disable @typescript-eslint/no-empty-function */\nimport {\n  BaseButton,\n  Button,\n  Checkbox,\n  MessageBarType,\n  PrimaryButton,\n  Spinner,\n  SpinnerSize,\n  Stack,\n  TextField,\n} from '@fluentui/react';\nimport { MeAuthStatus, MeResponse } from 'mailinabox-api';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { userApi } from '../../../api';\nimport { useRequest } from '../../../api/useRequest';\nimport { updateAuth } from '../../../features/authSlice';\nimport { RootState } from '../../../store';\nimport { MainRoute } from '../../routes/MainRoute/MainRoute';\nimport { MessageBar } from '../MessageBar/MessageBar';\n\nexport const LoginForm: React.FunctionComponent = () => {\n  const [\n    checkLogin,\n    { isLoading, response, error: requestError, setError, setResponse },\n  ] = useRequest<MeResponse>(\n    () => userApi.getMe(),\n    (response: MeResponse) => {\n      if (response.status !== MeAuthStatus.Ok) {\n        setError(response.reason || 'Unknown authentication error');\n      } else if (!response.apiKey) {\n        setError('You are not an administrator on this system.');\n      } else {\n        setResponse(response);\n      }\n    }\n  );\n  const { isAuthenticated, error: authError } = useSelector(\n    (state: RootState) => state.auth\n  );\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [remember, setRemember] = useState(true);\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n\n  const onRememberChange = useCallback(\n    (_event?: React.FormEvent<HTMLElement>, checked?: boolean): void => {\n      setRemember(!!checked);\n    },\n    []\n  );\n  const onEmailChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setEmail(newValue ?? '');\n    },\n    []\n  );\n  const onPasswordChange = useCallback(\n    (_event: React.FormEvent<HTMLElement>, newValue?: string): void => {\n      setPassword(newValue ?? '');\n    },\n    []\n  );\n  const onMessageBarDismiss = useCallback(\n    (\n      _event?: React.MouseEvent<HTMLElement | BaseButton | Button, MouseEvent>\n    ): void => {\n      setError(null);\n      dispatch(\n        updateAuth({\n          username: email,\n          password,\n          error: null,\n        })\n      );\n    },\n    [dispatch, email, password, setError]\n  );\n  const onFormSubmit = useCallback(\n    (event: React.FormEvent<HTMLElement>): void => {\n      event.preventDefault();\n      setError(null);\n      checkLogin();\n    },\n    [checkLogin, setError]\n  );\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push(MainRoute.path);\n    } else {\n      dispatch(\n        updateAuth({\n          username: email,\n          password,\n          isAuthenticated: false,\n          error: authError,\n        })\n      );\n    }\n  }, [authError, dispatch, email, history, isAuthenticated, password]);\n\n  useEffect(() => {\n    if (response) {\n      dispatch(\n        updateAuth({\n          username: response.email,\n          password: response.apiKey,\n          isAuthenticated: true,\n          authError: null,\n          remember,\n        })\n      );\n    }\n  }, [dispatch, remember, response]);\n\n  const error = requestError || authError;\n\n  return (\n    <Stack as=\"form\" gap=\"m\" onSubmit={onFormSubmit}>\n      {error && (\n        <MessageBar\n          messageBarType={MessageBarType.error}\n          isMultiline={false}\n          onDismiss={onMessageBarDismiss}\n          dismissButtonAriaLabel=\"Close\"\n        >\n          {error}\n        </MessageBar>\n      )}\n      <Stack gap=\"m\">\n        <TextField\n          label=\"Email\"\n          value={email}\n          required\n          type=\"email\"\n          autoFocus\n          onChange={onEmailChange}\n        />\n        <TextField\n          label=\"Password\"\n          value={password}\n          required\n          type=\"password\"\n          onChange={onPasswordChange}\n        />\n        <Checkbox\n          label=\"Remember me\"\n          checked={remember}\n          onChange={onRememberChange}\n        />\n      </Stack>\n      <Stack horizontalAlign=\"end\" verticalAlign=\"center\" horizontal gap=\"s1\">\n        {isLoading && <Spinner size={SpinnerSize.medium} />}\n        <PrimaryButton type=\"submit\" text=\"Sign in\" disabled={isLoading} />\n      </Stack>\n    </Stack>\n  );\n};\n","import { Dispatch, SetStateAction, useState } from 'react';\nimport { getRequestFailMessage } from '.';\n\ntype PerformRequest = () => void;\n\ntype Request<T> = [\n  PerformRequest,\n  {\n    response: T | null;\n    error: string | null;\n    isLoading: boolean;\n    setResponse: Dispatch<SetStateAction<T | null>>;\n    setError: Dispatch<SetStateAction<string | null>>;\n    reset: () => void;\n  }\n];\n\nexport function useRequest<T>(\n  queryFunc: () => Promise<T>,\n  responseHandler?: (response: T) => void | null\n): Request<T> {\n  const [response, setResponse] = useState<T | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  function performRequest(): void {\n    setIsLoading(true);\n    queryFunc()\n      .then(\n        (response) => {\n          if (responseHandler) {\n            responseHandler(response);\n          } else {\n            setResponse(response);\n          }\n        },\n        async (err) => {\n          setError(await getRequestFailMessage(err));\n        }\n      )\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function reset(): void {\n    setResponse(null);\n    setError(null);\n    setIsLoading(false);\n  }\n\n  return [\n    performRequest,\n    { response, setResponse, error, setError, isLoading, reset },\n  ];\n}\n","import { Image, Stack, Text } from '@fluentui/react';\nimport React from 'react';\nimport logo from '../../../images/logo.png';\n\nexport const LoginHeader: React.FunctionComponent = () => {\n  return (\n    <Stack horizontal horizontalAlign=\"start\" gap=\"m\">\n      <Image src={logo} alt=\"mailinabox login\" width={34} />\n      <Text block variant=\"xLarge\">\n        Mail-in-a-Box Login\n      </Text>\n    </Stack>\n  );\n};\n","import { AnimationStyles, getTheme, mergeStyles, Stack } from '@fluentui/react';\nimport React from 'react';\nimport { LoginForm } from '../../ui/LoginForm/LoginForm';\nimport { LoginHeader } from '../../ui/LoginHeader/LoginHeader';\n\nconst className = mergeStyles({\n  maxWidth: 420,\n  boxShadow: getTheme().effects.elevation8,\n  backgroundColor: getTheme().palette.white,\n  ...AnimationStyles.slideUpIn20,\n  animationDuration: '1s',\n});\n\nexport const LoginRoute: React.FunctionComponent & { path: string } = () => {\n  return (\n    <Stack\n      horizontalAlign=\"center\"\n      verticalAlign=\"center\"\n      verticalFill\n      horizontal\n      padding=\"l1\"\n    >\n      <Stack\n        grow={1}\n        className={className}\n        verticalAlign=\"center\"\n        gap=\"m\"\n        padding=\"l1\"\n      >\n        <LoginHeader />\n        <LoginForm />\n      </Stack>\n    </Stack>\n  );\n};\n\nLoginRoute.path = '/login';\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\nimport { RootState } from '../../../store';\nimport { LoginRoute } from '../LoginRoute/LoginRoute';\n\nexport const PrivateRoute: React.FunctionComponent<RouteProps> = ({\n  children,\n  ...rest\n}) => {\n  const { isAuthenticated } = useSelector((state: RootState) => state.auth);\n  return (\n    <Route\n      {...rest}\n      render={({ location }): React.ReactNode =>\n        isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: LoginRoute.path,\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n","import React from 'react';\nimport { Route, Router, Switch } from 'react-router-dom';\nimport { history } from '../../../router';\nimport { LoginRoute } from '../../routes/LoginRoute/LoginRoute';\nimport { MainRoute } from '../../routes/MainRoute/MainRoute';\nimport { PrivateRoute } from '../../routes/PrivateRoute/PrivateRoute';\n\nexport const App: React.FunctionComponent = () => {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route exact path={LoginRoute.path}>\n          <LoginRoute />\n        </Route>\n        <Route exact path=\"/404\">\n          Not Found\n        </Route>\n        <PrivateRoute path={MainRoute.path}>\n          <MainRoute />\n        </PrivateRoute>\n      </Switch>\n    </Router>\n  );\n};\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { aliasesReducer } from '../features/aliasesSlice';\nimport { authReducer } from '../features/authSlice';\nimport { dnsReducer } from '../features/dnsSlice';\nimport { sslReducer } from '../features/sslSlice';\nimport { systemBackupsReducer } from '../features/system/backupsSlice';\nimport { systemPrivacyReducer } from '../features/system/privacySlice';\nimport { systemRebootReducer } from '../features/system/rebootSlice';\nimport { systemStatusReducer } from '../features/system/statusSlice';\nimport { usersReducer } from '../features/usersSlice';\nimport { webReducer } from '../features/webSlice';\n\nexport const rootReducer = combineReducers({\n  auth: authReducer,\n  system: combineReducers({\n    status: systemStatusReducer,\n    reboot: systemRebootReducer,\n    privacy: systemPrivacyReducer,\n    backups: systemBackupsReducer,\n  }),\n  dns: dnsReducer,\n  ssl: sslReducer,\n  users: usersReducer,\n  aliases: aliasesReducer,\n  web: webReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import {\n  Action,\n  configureStore,\n  getDefaultMiddleware,\n  ThunkAction,\n} from '@reduxjs/toolkit';\nimport { authMiddleware } from '../middleware/auth';\nimport { rootReducer, RootState } from './rootReducer';\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware().concat(authMiddleware),\n});\n\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>;\n\nexport type { RootState } from './rootReducer';\nexport type AppDispatch = typeof store.dispatch;\n","import { Dispatch, Middleware, MiddlewareAPI } from '@reduxjs/toolkit';\nimport { updateApiConfig } from '../api';\nimport { storageAuth } from '../auth';\nimport { updateAuth } from '../features/authSlice';\n\nexport const authMiddleware: Middleware = ({ getState }: MiddlewareAPI) => (\n  next: Dispatch\n) => (action): void => {\n  const prevState = getState();\n  const returnValue = next(action);\n  if (action.type === updateAuth.type) {\n    const { username, password, isAuthenticated, remember } = action.payload;\n    if (username && password) {\n      updateApiConfig({\n        username,\n        password,\n      });\n    }\n    if (prevState.auth.isAuthenticated !== isAuthenticated) {\n      storageAuth.setUsername(username);\n      storageAuth.setPassword(password);\n      storageAuth.persistToStorage(remember);\n    }\n  }\n  return returnValue;\n};\n","import { getTheme, initializeIcons, mergeStyles } from '@fluentui/react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { App } from './components/ui/App/App';\nimport { config } from './config';\nimport { store } from './store';\n\ninitializeIcons(/* optional base url */);\n\nmergeStyles({\n  selectors: {\n    ':global(body)': {\n      background: getTheme().palette.neutralLighter,\n    },\n    ':global(body), :global(html), :global(#app)': {\n      margin: 0,\n      padding: 0,\n      height: '100%',\n    },\n    // Even though we can define cell styles as part of column definitions, the default cell styles\n    // still take priority. This is a hack to override the default cell styles using a parent selector.\n    ':global(.ms-DetailsRow [class^=\"DetailsRow-actions-cell\"])': {\n      padding: '0',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  },\n});\n\nfunction renderApp(): void {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('app')\n  );\n}\n\nif (config.mockApi) {\n  import('./api/mockApi').then(\n    () => renderApp(),\n    () => {\n      console.error('There was an error loading the mock api');\n    }\n  );\n} else {\n  renderApp();\n}\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}